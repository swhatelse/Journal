#+TITLE:       Lab book StarPU MPI & Simgrid
#+AUTHOR:      Steven QUINITO MASNADA
#+OPTIONS: ^:nil

* TODO A faire [12/15]
  * [X] Installer FxT 
  * [X] Compiler StarPU MPI avec FxT
  * [X] Installation swirl
  * [ ] Apprendre R [0/12]
    * [ ] Basic build blocks
    * [ ] Sequences of numbers
    * [ ] Vectors
    * [ ] Missing values
    * [ ] Subsetting vectors  
    * [ ] Matrices and data frames
    * [ ] Logic
    * [ ] lapply and sapply
    * [ ] vapply and tapply
    * [ ] Looking at data
    * [ ] Simulation
    * [ ] Data and times
  * [ ] Apprendre à utiliser grid5000
    oarsub, kadeploy, kaenv3
  * [X] Simgrid [2/2]
    * [X] Installer
    * [X] Tester que tout fonctionne
  * [X] linker example de samuel avec starpu et simgrid
  * [X] Jeter un oeil au fichier smpi global.c    
  * [X] Refléchir à réorganisation de mon espace de travail
  * [X] Attacher thread au processus MPI qui l'a créé
    * [X] Comprendre le fonctionnement des MSG_process
  * [X] Implémenter le changement de contexte [3/3] 
    * [X] Tagger les process [3/3]
      * [X] Ajout de l'index du segment data du proc SMPI
      * [X] Initialisation 
      * [X] Set de la valeur côté SMPI et SIMIX
    * [X] Fonction de switch côté SIMIX
    * [X] Trouver pourquoi ça ne marche pas
  * [X] Problème de parent host[3/3]
    * [X] Jetter un oeil a xbt_dynar_foreach
    * [X] Comprendre le fonctionnement de SIMIX_run
    * [X] Tester avec au moins 3 noeuds et voir ce qu'il se passe 
  * [ ] Apprendre à utiliser StarPu
  * [X] git format-patch pour arnaud
  * [X] script de config et de lancement
* Memo
** Links
   git clone git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/starpu-simgrid/starpu-simgrid.git
   git submodule add --force git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/simgrid/simgrid.git src/simgrid
** Commandes emacs
   C-c C-h : raccourcis associé au mode utilisé
   C-c C-e : Ouvre menu avec possibilité d'exporter en html, latex, etc...
** Usefull tips
   . ./script.sh --pour export des variables
   ldd permet de connaître les lib dynamques qui ont été linkées.
   nm donne la liste des fonctions d'un programme.
   LD_LIBRARY_PATH: Y penser car sinon à l'exécution ça ne passe pas.
   sloccount: permet de connaitre le nombre de ligne de code (sans les
   commentaires)
   ./configure --help 2>&1 | less: to get some infos
** GDB
   - watch : break point condition qui permet de surveiller quand une variable change de valeur
* 2014
** 2014-12 décembre
*** 2014-12-15 lundi
**** Installation starpu
      - Instructions obselètes doxygen.cfg:
        #+begin_src sh :results output :exports both
          doxygen -u doxygen.cfg
        #+end_src
      - Nécessite latex xtab.sty présent dans texlive-latexextra

*** 2014-12-16 mardi
**** Installation Fxt
     #+begin_src sh :session foo :results output :exports both 
       cd ~/Programmation/TER
       wget http://download.savannah.gnu.org/releases/fkt/fxt-0.3.0.tar.gz
     #+end_src

     #+begin_src sh :session foo :results output :exports both 
       cd ~/Programmation/TER/fxt-0.3.0/
       mkdir build
       cd build
       ./configure --prefix=/home/steven/Programmation/TER/fxt/
       make -j5 
       make install -j5
     #+end_src

     Définition des flags de compilation pour compiler StarPU avec FxT
     #+begin_src sh :results output :exports both
       pkg-config --cflags fxt
       pkg-config --libs fxt
     #+end_src

     Recompilation de starpu avec FxT
     #+begin_src sh :results output :exports both
       ./configure --with-fxt
     #+end_src

*** 2014-12-17 mercredi
    Vérification de l'installation de de FxT et de la génération de trace.
    #+begin_src sh :results output :exports both
      STARPU_GENERATE_TRACE=1 ./cholesky_implicit -size 960 -nblocks 1    
    #+end_src

*** 2014-12-19 vendredi
**** Installation de simgrid
***** Test du fonctionnement de Simgrid
      #+begin_src sh :results output :exports both
        cd ~/Programmation/TER/SimGrid-3.11/build
        ctest
      #+end_src

**** Compilation starpu avec support simgrid
     - Besoin d'opencl

* 2015
** 2015-02 février
*** 2015-02-05 jeudi
    Linkage Starpu Simgrid.
    Modification du script de Lukas.
**** Réinstallation de FXT
     #+begin_src sh :results output :exports both
       export FXTDIR=/home/steven/Programmation/TER/fxt-0.3.0/inst
       cd ~/Programmation/TER/fxt-0.3.0/
       mkdir build
       cd build
       ./configure --prefix=$FXTDIR
       make -5 
       make install -j5
     #+end_src
*** 2015-02-06 vendredi
    Problème d'installation simgrid récupéré sur avec starpu-simgrid, utilisation de la version tar.gz
    
*** 2015-02-12 jeudi
    Si problème avec la doc à l'install -> la désactiver
** 2015-03 mars
*** 2015-03-13 vendredi
    Modifs effectuées dans le fichier smx_process.c mais ne sont pas correctes. Balise test steven.
    J'ai essayé de rattacher les process MSG créés dans un contexte MPI, au processus qui les à créé. Mais le problème c'est que
    je remonte trop haut dans la hierachie et tout mes process sont rattaché à un seul et même.
    En fait je donne le segment data du parent mais forcément ça remonte jusqu'au tout premier process. J'essaie de voir si je peux 
    m'arrêter un bon niveau dans la hierarchie avec les informations que l'on a déjà.
    Autre problème lié à ma modifs est qu'apparemment le champs data de smx_process_t est apparement obselète et sera remplacé par moddata dont
    mais je n'ai trouvé aucune trace.
    
*** 2015-03-19 jeudi
    Etude de la création des MSG_process:
    Les process MSG sont créés à partir de process SIMIX. Ils servent à simplifier la création de process au niveau user.
    Au moment de la création d'un process MSG on sait à quel host appartient ce dernier. On sait également quel est le père du process.

*** 2015-03-20 vendredi
    Sous gdb en observant la creation de process SIMIX, je suis tombé
    là dessus : dans la fonction SIMIX_process_create, un process ("worker") est rattaché à l'host
    StarPU-MPI0-CPU0 alors que le parent de ce dernier ("mpi") est
    rattaché à l'host StarPU-MPI1-MAIN. Ce processus mpi est sensé
    être créé sur les deux host mais il ne semble qu'il n'y en a qu'un.
    
    [[file:img/gdb_bad_rank.jpg][Mauvais smx_host]]
    
    #+begin_src sh :results output :exports both
      cd ~/Programmation/TER/starpu-simgrid/src/starpu-mpi
      ./run.sh
    #+end_src

    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 0 on host 'node-1.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context 0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context '0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting 0(node-1.acme.org) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 1 on host 'node-2.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context 1
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting 1(node-2.acme.org) in the to_run list
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    I'm 0/2
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    I'm 1/2
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI0-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting mpi(StarPU-MPI0-MAIN) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI1-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting mpi(StarPU-MPI1-MAIN) in the to_run list
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fd30
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fc40
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fb50
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fa60
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f970
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f880
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f790
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f6a0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f5b0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f4c0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f3d0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f2e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f2e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fd30
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fc40
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fb50
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fa60
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f970
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f880
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f790
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f6a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f5b0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f4c0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f3d0
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b0a0), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b320), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195bda0), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195c020), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195caa0), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195cd20), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195d7a0), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195da20), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f3d0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b0a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b320), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195bda0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195c020), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195caa0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195cd20), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195d7a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f6a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195da20), waiting action (nil)
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x1732820), waiting action (nil)
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x1732820), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x172e000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x172e000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f3d0
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f6a0
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733450), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733220), waiting action (nil)
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733450), waiting action (nil)
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733220), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    #+END_EXAMPLE    
*** 2015-03-26 jeudi
    Fonctionnement:
    Smpirun execute le programme directement.
    Pour lancer ce dernier le main du programme est remplacé par un main "secondaire" (smpi_simulated_main).
    Ensuite le main par défaut de simgrid ("weak main") est lancé et va se charger d'exécuter le main simulé.

    La fonction smpi_main va s'occuper de créer la plate forme(SIMIX_create_env), de créer les différents process smpi(SIMIX_launch_app) et ensuite de privatiser leurs segments data
    en le dupliquant quelque part dans le tas. Cela n'est fait qu'a ce moment et donc ce qui est créé après n'est pas privatisé.

    Piste : jeter un oeil à Simix process_list, SIMIX_process_get_data.
    
    process_list : type swag(sorte de liste générique)
    Changement de segment data (smpi_switch_data_segment) effectué au niveau smpi uniquement, c'est pour ça que je ne l'avais pas vu.

    Hypothèse : dans la struct smx_process_t rajouter l'index du segment data du père et rajouter le switch contexte privée. cf Discussions
    avec Arnaud

**** Discussions avec Arnaud
- ajout d'un champ =segment_index= à =smx_process_t= qui correspond à
  l'index du segment data du process SMPI. Par défaut cet index est
  initialisé à -1.
- ajout d'une variable globale à SIMIX =SMPI_switch_data_segment= initialisée
  à NULL par défaut.
- Quand on créée les process SMPI, on =SIMIX_segment_index_set= au
  numéro de segment (de 0 à n-1). Ces process là sont créés par le
  "maestro", celui qui appelle le =smpi_main=.
- Quand on créé un process on atterri dans =SIMIX_process_create=. Juste
  à coté de la récupération du ppid, tu récupères le =segment_index= du
  père.
- Après avoir fait le =SIMIX_global_init= (dans =smpi_main=), on set
  =SMPI_switch_data_segment= à =smpi_switch_data_segement=.
- On veut changer de segment automatiquement à la sortie des
  =simcall_*_wait= (voir =simcall_host_execution_wait= dans
  =smpi_execute_flops=).
  - Appeler plusieurs fois =smpi_switch_data_segment= n'est pas un
    problème.
  - Regardons =simcall_host_execution_wait=, ->
    =simcall_BODY_host_execution_wait= -> =SIMIX_process_yield=. À la fin
    d'un de ces deux (trois ?) là, on veut faire
    #+BEGIN_SRC C
      if(SMPI_switch_data_segment && ((idx=smx_process_current()->index)!=-1)) {
        SMPI_switch_data_segment(idx);
      }
    #+END_SRC
    La question, c'est doit-on le faire pour tous les simcalls ? Faut tenter...
*** 2015-03-27 vendredi
    Fonction appelée à la fin de SIMIX_process_yield(), ça marche! Mais on dirait que le rank ne correspond pas vraiment.
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 0 on host 'node-1.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context 0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context '0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting 0(node-1.acme.org) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 1 on host 'node-2.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context 1
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting 1(node-2.acme.org) in the to_run list
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    I'm 0/2
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    I'm 1/2
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI0-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting mpi(StarPU-MPI0-MAIN) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI1-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting mpi(StarPU-MPI1-MAIN) in the to_run list
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0d30
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0c40
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0b50
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0a60
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0970
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0880
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0790
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae06a0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae05b0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae04c0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae03d0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae02e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae02e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0d30
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0c40
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0b50
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0a60
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0970
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0880
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0790
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae06a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae05b0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae04c0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae03d0
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c0a0), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c320), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0cda0), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0d020), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0daa0), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0dd20), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0e7a0), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 0
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0ea20), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae03d0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c0a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c320), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0cda0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0d020), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0daa0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0dd20), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0e7a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae06a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0ea20), waiting action (nil)
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x19e3820), waiting action (nil)
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x19e3820), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x19df000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x19df000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae03d0
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae06a0
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4450), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4220), waiting action (nil)
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4450), waiting action (nil)
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4220), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    
    #+END_EXAMPLE
    
    Dans SIMIX_run , le hostname envoyé au simcall ne correspond pas au smx_host->key du process
    #+BEGIN_EXAMPLE
          fp = 0x83b4a0, cp = 0x83b4a0}, {c = 16 '\020', cc = 0x64e510 "StarPU-MPI0-CPU0", s = -6896, i = 6612240, l = 6612240, uc = 16 '\020', us = 58640, ui = 6612240,
      ul = 6612240, f = 9.26572176e-39, d = 3.266880626057324e-317, sz = 6612240, sgsz = 6612240, sgoff = 6612240, dp = 0x64e510, fp = 0x64e510, cp = 0x64e510}, {c = 0 '\000',
      cc = 0xbff0000000000000 <error: Cannot access memory at address 0xbff0000000000000>, s = 0, i = 0, l = -4616189618054758400, uc = 0 '\000', us = 0, ui = 0,
      ul = 13830554455654793216, f = 0, d = -1, sz = 13830554455654793216, sgsz = 13830554455654793216, sgoff = -4616189618054758400, dp = 0xbff0000000000000,
      fp = 0xbff0000000000000, cp = 0xbff0000000000000}, {c = -1 '\377', cc = 0xffffffff <error: Cannot access memory at address 0xffffffff>, s = -1, i = -1, l = 4294967295,
      uc = 255 '\377', us = 65535, ui = 4294967295, ul = 4294967295, f = -nan(0x7fffff), d = 2.1219957904712067e-314, sz = 4294967295, sgsz = 4294967295, sgoff = 4294967295,
      dp = 0xffffffff, fp = 0xffffffff, cp = 0xffffffff}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0,
      sgoff = 0, dp = 0x0, fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0,
      dp = 0x0, fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0,
      fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0, fp = 0x0,
      cp = 0x0}}, result = {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0, fp = 0x0,
    cp = 0x0}, {new_api = {param1 = 0x0, param2 = 0, result = 0}}}
    (gdb) p process->smx_host 
    $15 = (smx_host_t) 0x644ba0
    (gdb) p process->smx_host->key
    $16 = 0x6545c0 "StarPU-MPI1-MAIN"
    #+END_EXAMPLE
    
** 2015-04 avril
*** 2015-04-02 jeudi
    Relevé gdb plus clair du problème soulevé vendredi dernier.
    Ici l'host du parent est StarPU-MPIO* alors que le process enfant est StarPU-MPI1*.
    smx_process.c:280
    #+BEGIN_EXAMPLE
    Breakpoint 3, SIMIX_process_create (process=0x7ffff51d9ee0, name=0x40100d "worker", code=0x400c16 <worker_func>, data=0x83b440, hostname=0x654a90 "StarPU-MPI1-CPU0",
    kill_time=-1, argc=-1, argv=0x0, properties=0x0, auto_restart=0, parent_process=0x613220)
    at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:280
    5: *process->smx_host = {key = 0x654a90 "StarPU-MPI1-CPU0", key_len = 16, hash_code = 196770957, content = 0x654a60, next = 0x0}
    4: *parent_process->smx_host = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
    3: hostname = 0x654a90 "StarPU-MPI1-CPU0"
    2: parent_process = (smx_process_t) 0x613220
    #+END_EXAMPLE

    Sur l'exemple de Samuel, le problème ne semble apparaître que pour sur "workers" et les références sont "croisées".
    On a StarPU-MPIO-CPU* --> StarPU-MPI1-CPU* et StarPU-MPI1-CPU* --> StarPU-MPI0-CPU*.
    
    - Regardons comment sont créés les workers, sont-ils correctements créés?
      Structure test.c:
      |-main
      | |- application_main
      | | |- starpu_init
      | | | |- worker_func
      | |- mpi_func
      
      Vérifier ce que me retourne MSG_get_host_by_name(name).
      
    - Est-ce que les segments mémoires (segment_index) rattachés sont bien corrects?

    - Remonter à la source
      smx_process.c:208
      #+BEGIN_EXAMPLE
      (gdb) p *simcall->issuer->smx_host
      $21 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      (gdb) p hostname
      $22 = 0x654a90 "StarPU-MPI1-CPU0"
      #+END_EXAMPLE
      
      simcalls_generated_case.c:218
      #+BEGIN_EXAMPLE
      (gdb) p *simcall->issuer->smx_host
      $24 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      (gdb) p simcall->args[4].cc
      $25 = 0x654a90 "StarPU-MPI1-CPU0"
      #+END_EXAMPLE

      smx_global.c:401
      #+BEGIN_EXAMPLE
      (gdb) p *process->simcall->issuer->smx_host
      $28 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      #+END_EXAMPLE
      
      xbt_dynar_foreach est juste une macro qui permet de parcourir un tableau dynamique. Possible qu'il y ait une erreur lors de 
      l'insertion dans le dynar?
      
      Que fais ce code? Dans SIMIX_run smx_global.c:399
      #+BEGIN_EXAMPLE
      xbt_dynar_foreach(simix_global->process_that_ran, iter, process) {
        if (process->simcall.call != SIMCALL_NONE) {
          SIMIX_simcall_pre(&process->simcall, 0);
        }
      }
      #+END_EXAMPLE
      Si je comprends bien, process_that_ran est un dynar que nous parcourons à la recherche de process qui sont en attentes que leurs
      appels systèmes soient pris en comptent. 

      Au moment du simcall, il y a déjà une incohérence. Que se passe t-il avant?
      Jettons un oeil à MSG_process_create pour voir où cela nous mène. 
      
      Dans simcall_BODY_process_create simcalls_generated_body.c:664
      #+BEGIN_EXAMPLE
      (gdb) p hostname
      $7 = 0x654a90 "StarPU-MPI1-CPU0"
      (gdb) p *self->smx_host
      $8 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      #+END_EXAMPLE

      Déjà ici l'host du process avec lequel a été appelé le simcall diverge de l'host du process retourné par simix.
      Est-ce que simix nous a bien retourné ce à quoi on s'attendais? 
      Piste vérifier les pid des process "mpi" créés sur chacun des noeuds.

      Hypothèses : 
      - switch effectué mais au mauvais moment? (ça parait absurde)
      - mauvais pointeur passé quelque part...

*** 2015-04-03 vendredi
    J'ai rajouté un noeud au test (on en est à 3). Je n'ai pas encore vérifié si les rank sont bien retournés par les bons noeud, 
    mais il y a le bon nombre de rang attendu. Par contre j'ai une autre erreur:
    #+BEGIN_EXAMPLE
    I'm 0/3
    I'm 1/3
    I'm 2/3
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    6572048 : my rank is 0
    6573488 : my rank is 1
    6572768 : my rank is 2
    6572768 : my rank is 2
    6572048 : my rank is 0
    6573488 : my rank is 1
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:462: [simix_kernel/CRITICAL] Oops ! Deadlock or code not perfectly clean.
    [2.000000] [simix_kernel/INFO] 3 processes are still running, waiting for something.
    [2.000000] [simix_kernel/INFO] Legend of the following listing: "Process <pid> (<name>@<host>): <status>"
    [2.000000] [simix_kernel/INFO] Process 1 (0@node-1.acme.org): waiting for synchronization action 0x714720 (synchro) in state 0 to finish
    [2.000000] [simix_kernel/INFO] Process 2 (1@node-2.acme.org): waiting for synchronization action 0x714540 (synchro) in state 0 to finish
    [2.000000] [simix_kernel/INFO] Process 3 (2@node-3.acme.org): waiting for communication action 0x714630 ((null)) in state 0 to finish
    #+END_EXAMPLE
    
    Bon j'ai récupéré les infos du process depuis le programme de test de samuel et en fait tout semble correct, le rank correspond
    au bon host...
    breakpoint test.c:29 (exemple de Samuel)
    #+BEGIN_EXAMPLE
    3: myrank = 1
    2: *host = {key = 0x654a90 "StarPU-MPI1-CPU0", key_len = 16, hash_code = 196770957, content = 0x654a60, next = 0x0}
    #+END_EXAMPLE
    
*** 2015-04-09 jeudi
    Effectivement comme, Arnaud me l'a suggéré, le message d"erreur précédent de Simgrid (deadlock...), n'est pas une erreur de fonctionnement de 
    Simgrid. Il y avait un process MPI qui attendait un message alors qu'au  message ne lui a été envoyé.
*** 2015-04-10 vendredi
    Début d'écriture d'un script pour la configuration de starpu-mpi simgrid. 
    Utilisation d'un fichier point org pour la construction du scrit
*** 2015-04-17 vendredi
    Comme en fait dans la base que j'avais récupéré de Luka, StarPU est compilé avec Simgrid mais sans le support MPI activé,
    je me suis fais un script pour de config et d'install, un peu comme le fichier run_inject_StarPUSG.sh de Luka.
    En tentant l'install avec le support Simgrid et MPI activé, j'avais ce genre d'erreur (cf tuto_config.org dans le rep de 
    starpu-simgrid):
   
    #+BEGIN_EXAMPLE
    Making all in src
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    CC       libstarpu_1.3_la-barrier.lo
    CC       libstarpu_1.3_la-barrier_counter.lo
    CC       libstarpu_1.3_la-bitmap.lo
    CC       libstarpu_1.3_la-rwlock.lo
    CC       libstarpu_1.3_la-hash.lo
    CC       libstarpu_1.3_la-starpu_spinlock.lo
    CC       libstarpu_1.3_la-timing.lo
    CC       libstarpu_1.3_la-utils.lo
    CC       libstarpu_1.3_la-fxt.lo
    CC       libstarpu_1.3_la-thread.lo
    CC       libstarpu_1.3_la-jobs.lo
    CC       libstarpu_1.3_la-task.lo
    CC       libstarpu_1.3_la-task_bundle.lo
    CC       libstarpu_1.3_la-tree.lo
    CC       libstarpu_1.3_la-workers.lo
    CC       libstarpu_1.3_la-combined_workers.lo
    CC       libstarpu_1.3_la-topology.lo
    CC       libstarpu_1.3_la-disk.lo
    CC       libstarpu_1.3_la-debug.lo
    CC       libstarpu_1.3_la-errorcheck.lo
    CC       libstarpu_1.3_la-progress_hook.lo
    CC       libstarpu_1.3_la-cg.lo
    CC       libstarpu_1.3_la-dependencies.lo
    CC       libstarpu_1.3_la-implicit_data_deps.lo
    CC       libstarpu_1.3_la-tags.lo
    CC       libstarpu_1.3_la-task_deps.lo
    CC       libstarpu_1.3_la-data_concurrency.lo
    CC       libstarpu_1.3_la-disk_stdio.lo
    CC       libstarpu_1.3_la-disk_unistd.lo
    CC       libstarpu_1.3_la-disk_unistd_global.lo
    CC       libstarpu_1.3_la-perfmodel_history.lo
    CC       libstarpu_1.3_la-perfmodel_bus.lo
    CC       libstarpu_1.3_la-perfmodel.lo
    CC       libstarpu_1.3_la-perfmodel_print.lo
    CC       libstarpu_1.3_la-perfmodel_nan.lo
    CC       libstarpu_1.3_la-regression.lo
    CC       libstarpu_1.3_la-sched_policy.lo
    CC       libstarpu_1.3_la-simgrid.lo
    CC       libstarpu_1.3_la-sched_ctx.lo
    CC       libstarpu_1.3_la-sched_ctx_list.lo
    CC       libstarpu_1.3_la-parallel_task.lo
    CC       libstarpu_1.3_la-detect_combined_workers.lo
    CC       libstarpu_1.3_la-eager_central_policy.lo
    CC       libstarpu_1.3_la-eager_central_priority_policy.lo
    CC       libstarpu_1.3_la-work_stealing_policy.lo
    CC       libstarpu_1.3_la-locality_work_stealing_policy.lo
    CC       libstarpu_1.3_la-deque_modeling_policy_data_aware.lo
    CC       libstarpu_1.3_la-random_policy.lo
    CC       libstarpu_1.3_la-stack_queues.lo
    CC       libstarpu_1.3_la-deque_queues.lo
    CC       libstarpu_1.3_la-fifo_queues.lo
    CC       libstarpu_1.3_la-parallel_heft.lo
    CC       libstarpu_1.3_la-parallel_eager.lo
    CC       libstarpu_1.3_la-driver_common.lo
    CC       libstarpu_1.3_la-driver_disk.lo
    CC       libstarpu_1.3_la-memory_nodes.lo
    CC       libstarpu_1.3_la-write_back.lo
    CC       libstarpu_1.3_la-coherency.lo
    CC       libstarpu_1.3_la-data_request.lo
    CC       libstarpu_1.3_la-datawizard.lo
    CC       libstarpu_1.3_la-copy_driver.lo
    CC       libstarpu_1.3_la-filters.lo
    CC       libstarpu_1.3_la-sort_data_handles.lo
    CC       libstarpu_1.3_la-malloc.lo
    CC       libstarpu_1.3_la-memory_manager.lo
    CC       libstarpu_1.3_la-memalloc.lo
    CC       libstarpu_1.3_la-memstats.lo
    CC       libstarpu_1.3_la-footprint.lo
    CC       libstarpu_1.3_la-datastats.lo
    CC       libstarpu_1.3_la-user_interactions.lo
    CC       libstarpu_1.3_la-reduction.lo
    CC       libstarpu_1.3_la-data_interface.lo
    CC       libstarpu_1.3_la-bcsr_interface.lo
    CC       libstarpu_1.3_la-coo_interface.lo
    CC       libstarpu_1.3_la-csr_interface.lo
    CC       libstarpu_1.3_la-matrix_filters.lo
    CC       libstarpu_1.3_la-matrix_interface.lo
    CC       libstarpu_1.3_la-block_filters.lo
    CC       libstarpu_1.3_la-block_interface.lo
    CC       libstarpu_1.3_la-vector_interface.lo
    CC       libstarpu_1.3_la-bcsr_filters.lo
    CC       libstarpu_1.3_la-csr_filters.lo
    CC       libstarpu_1.3_la-vector_filters.lo
    CC       libstarpu_1.3_la-void_interface.lo
    CC       libstarpu_1.3_la-variable_interface.lo
    CC       libstarpu_1.3_la-multiformat_interface.lo
    CC       libstarpu_1.3_la-execute_on_all.lo
    CC       libstarpu_1.3_la-starpu_create_sync_task.lo
    CC       libstarpu_1.3_la-file.lo
    CC       libstarpu_1.3_la-misc.lo
    CC       libstarpu_1.3_la-openmp_runtime_support.lo
    CC       libstarpu_1.3_la-openmp_runtime_support_environment.lo
    CC       libstarpu_1.3_la-openmp_runtime_support_omp_api.lo
    CC       libstarpu_1.3_la-starpu_data_cpy.lo
    CC       libstarpu_1.3_la-starpu_task_insert.lo
    CC       libstarpu_1.3_la-starpu_task_insert_utils.lo
    CC       libstarpu_1.3_la-starpu_fxt.lo
    CC       libstarpu_1.3_la-starpu_fxt_mpi.lo
    CC       libstarpu_1.3_la-starpu_fxt_dag.lo
    CC       libstarpu_1.3_la-starpu_paje.lo
    CC       libstarpu_1.3_la-latency.lo
    CC       libstarpu_1.3_la-profiling.lo
    CC       libstarpu_1.3_la-structures_size.lo
    CC       libstarpu_1.3_la-bound.lo
    CC       libstarpu_1.3_la-profiling_helpers.lo
    CC       libstarpu_1.3_la-starpu_top.lo
    CC       libstarpu_1.3_la-starpu_top_task.lo
    CC       libstarpu_1.3_la-starpu_top_message_queue.lo
    CC       libstarpu_1.3_la-starpu_top_connection.lo
    CC       libstarpu_1.3_la-worker_list.lo
    CC       libstarpu_1.3_la-worker_tree.lo
    CC       libstarpu_1.3_la-component_worker.lo
    CC       libstarpu_1.3_la-component_sched.lo
    CC       libstarpu_1.3_la-component_fifo.lo
    CC       libstarpu_1.3_la-prio_deque.lo
    CC       libstarpu_1.3_la-helper_mct.lo
    CC       libstarpu_1.3_la-component_prio.lo
    CC       libstarpu_1.3_la-component_random.lo
    CC       libstarpu_1.3_la-component_eager.lo
    CC       libstarpu_1.3_la-component_eager_calibration.lo
    CC       libstarpu_1.3_la-component_mct.lo
    CC       libstarpu_1.3_la-component_heft.lo
    CC       libstarpu_1.3_la-component_best_implementation.lo
    CC       libstarpu_1.3_la-component_perfmodel_select.lo
    CC       libstarpu_1.3_la-component_composed.lo
    CC       libstarpu_1.3_la-modular_eager.lo
    CC       libstarpu_1.3_la-modular_eager_prefetching.lo
    CC       libstarpu_1.3_la-modular_prio.lo
    CC       libstarpu_1.3_la-modular_prio_prefetching.lo
    CC       libstarpu_1.3_la-modular_random.lo
    CC       libstarpu_1.3_la-modular_random_prefetching.lo
    CC       libstarpu_1.3_la-modular_heft.lo
    CC       libstarpu_1.3_la-modular_heft2.lo
    CC       libstarpu_1.3_la-driver_cpu.lo
    CC       libstarpu_1.3_la-driver_cuda.lo
    CC       libstarpu_1.3_la-starpu_cublas.lo
    CC       libstarpu_1.3_la-driver_opencl.lo
    CC       libstarpu_1.3_la-disk_unistd_o_direct.lo
    CXXLD    libstarpu-1.3.la
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    Making all in tools
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    CC       starpu_perfmodel_display.o
    CC       starpu_perfmodel_plot-starpu_perfmodel_plot.o
    CC       starpu_calibrate_bus.o
    CC       starpu_machine_display.o
    CC       starpu_lp2paje.o
    CCLD     starpu_lp2paje
    CCLD     starpu_calibrate_bus
    CCLD     starpu_perfmodel_display
    CCLD     starpu_machine_display
    CCLD     starpu_perfmodel_plot
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    Making all in tests
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make  all-recursive
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    CC       tasks_size_overhead.o
    CC       local_pingpong.o
    CC       main_deprecated_func-deprecated_func.o
    CC       init_run_deinit.o
    CC       run_driver.o
    CC       deploop.o
    CC       restart.o
    CC       execute_on_a_specific_worker.o
    CC       execute_schedule.o
    CC       insert_task.o
    CC       insert_task_dyn_handles.o
    CC       insert_task_nullcodelet.o
    CC       insert_task_array.o
    CC       multithreaded.o
    CC       multithreaded_init.o
    CC       starpu_task_bundle.o
    CC       starpu_task_wait_for_all.o
    CC       static_restartable.o
    CC       starpu_task_wait.o
    CC       static_restartable_using_initializer.o
    CC       static_restartable_tag.o
    CC       regenerate.o
    CC       regenerate_pipeline.o
    CC       wait_all_regenerable_tasks.o
    CC       subgraph_repeat.o
    CC       subgraph_repeat_tag.o
    CC       subgraph_repeat_regenerate.o
    CC       subgraph_repeat_regenerate_tag.o
    CC       empty_task.o
    CC       empty_task_sync_point.o
    CC       empty_task_sync_point_tasks.o
    CC       empty_task_chain.o
    CC       tag_wait_api.o
    CC       task_wait_api.o
    CC       declare_deps_in_callback.o
    CC       declare_deps_after_submission.o
    CC       declare_deps_after_submission_synchronous.o
    CC       get_current_task.o
    CC       starpu_init.o
    CC       starpu_worker_exists.o
    CC       submit.o
    CC       pause_resume.o
    CC       codelet_null_callback.o
    CC       pack.o
    CC       allocate.o
    CC       acquire_cb.o
    CC       acquire_cb_insert.o
    CC       acquire_release.o
    CC       acquire_release2.o
    CC       cache.o
    CC       commute2.o
    CC       commute.o
    CC       copy.o
    CC       data_implicit_deps.o
    CC       data_lookup.o
    CC       scratch.o
    CC       sync_and_notify_data.o
    CC       sync_and_notify_data_implicit.o
    CC       dsm_stress.o
    CC       double_parameter.o
    CC       write_only_tmp_buffer.o
    CC       data_invalidation.o
    CC       dining_philosophers.o
    CC       manual_reduction.o
    CC       readers_and_writers.o
    CC       unpartition.o
    CC       user_interaction_implicit.o
    CC       sync_with_data_with_mem.o
    CC       sync_with_data_with_mem_non_blocking.o
    CC       sync_with_data_with_mem_non_blocking_implicit.o
    CC       mpi_like.o
    CC       mpi_like_async.o
    CC       critical_section_with_void_interface.o
    CC       increment_init.o
    CC       increment_redux.o
    CC       increment_redux_v2.o
    CC       increment_redux_lazy.o
    CC       handle_to_pointer.o
    CC       lazy_allocation.o
    CC       lazy_unregister.o
    CC       noreclaim.o
    CC       copy_interfaces.o
    CC       test_interfaces.o
    CC       block_interface.o
    CC       bcsr_interface.o
    CC       coo_interface.o
    CC       csr_interface.o
    CC       matrix_interface.o
    CC       multiformat_interface.o
    CC       multiformat_conversion_codelets.o
    CC       generic.o
    CC       multiformat_cuda_opencl.o
    CC       multiformat_worker.o
    CC       multiformat_data_release.o
    CC       multiformat_handle_conversion.o
    CC       same_handle.o
    CC       variable_interface.o
    CC       void_interface.o
    CC       test_vector_interface.o
    CC       scal.o
    CC       in_place_partition.o
    CC       partition_lazy.o
    CC       gpu_register.o
    CC       gpu_ptr_register.o
    CC       variable_parameters.o
    CC       wt_host.o
    CC       wt_broadcast.o
    CC       readonly.o
    CC       specific_node.o
    CC       disk_copy.o
    CC       disk_compute.o
    CC       starpu_init_noworker.o
    CC       disk_pack.o
    CC       invalid_blocking_calls.o
    CC       invalid_tasks.o
    CC       cublas_init.o
    CC       starpu_data_cpy.o
    CC       pinned_memory.o
    CC       execute_on_all.o
    CC       async_tasks_overhead.o
    CC       starpu_create_sync_task.o
    CC       sync_tasks_overhead.o
    CC       tasks_overhead.o
    CC       prefetch_data_on_node.o
    CC       redundant_buffer.o
    CC       matrix_as_vector.o
    CC       init_exit_01.o
    CC       init_exit_02.o
    CC       environment.o
    CC       api_01.o
    CC       parallel_01.o
    CC       parallel_02.o
    CC       parallel_03.o
    CC       parallel_barrier_01.o
    CC       parallel_master_01.o
    CC       parallel_master_inline_01.o
    CC       parallel_single_wait_01.o
    CC       parallel_single_nowait_01.o
    CC       parallel_single_inline_01.o
    CC       parallel_single_copyprivate_01.o
    CC       parallel_single_copyprivate_inline_01.o
    CC       parallel_critical_01.o
    CC       parallel_critical_inline_01.o
    CC       parallel_critical_named_01.o
    CC       parallel_critical_named_inline_01.o
    CC       parallel_simple_lock_01.o
    CC       parallel_nested_lock_01.o
    CC       parallel_for_01.o
    CC       parallel_for_02.o
    CC       parallel_sections_01.o
    CC       parallel_for_ordered_01.o
    CC       parallel_sections_combined_01.o
    CC       task_01.o
    CC       task_02.o
    CC       taskwait_01.o
    CC       taskgroup_01.o
    CC       array_slice_01.o
    CC       taskgroup_02.o
    CC       cuda_task_01.o
    CC       overlap.o
    CC       gpu_concurrency.o
    CC       explicit_combined_worker.o
    CC       parallel_kernels.o
    CC       parallel_kernels_spmd.o
    CC       spmd_peager.o
    CC       cuda_only.o
    CC       regression_based.o
    CC       non_linear_regression_based.o
    CC       feed.o
    CC       user_base.o
    CC       valid_model.o
    CC       value_nan.o
    CC       memory.o
    CC       data_locality.o
    CC       execute_all_tasks.o
    CC       simple_deps.o
    CC       prio.o
    CC       simple_cpu_gpu_sched.o
    CCLD     microbenchs/tasks_size_overhead
    CCLD     main/deprecated_func
    CCLD     microbenchs/local_pingpong
    CCLD     main/driver_api/init_run_deinit
    CCLD     main/driver_api/run_driver
    CCLD     main/deploop
    CCLD     main/restart
    CCLD     main/execute_on_a_specific_worker
    CCLD     main/execute_schedule
    CCLD     main/insert_task
    CCLD     main/insert_task_dyn_handles
    CCLD     main/insert_task_nullcodelet
    CCLD     main/insert_task_array
    CCLD     main/multithreaded
    CCLD     main/multithreaded_init
    CCLD     main/starpu_task_bundle
    CCLD     main/starpu_task_wait_for_all
    CCLD     main/starpu_task_wait
    CCLD     main/static_restartable
    CCLD     main/static_restartable_using_initializer
    CCLD     main/static_restartable_tag
    CCLD     main/regenerate
    CCLD     main/regenerate_pipeline
    CCLD     main/wait_all_regenerable_tasks
    CCLD     main/subgraph_repeat
    CCLD     main/subgraph_repeat_tag
    CCLD     main/subgraph_repeat_regenerate
    CCLD     main/empty_task
    CCLD     main/subgraph_repeat_regenerate_tag
    CCLD     main/empty_task_sync_point
    CCLD     main/empty_task_sync_point_tasks
    CCLD     main/empty_task_chain
    CCLD     main/tag_wait_api
    CCLD     main/task_wait_api
    CCLD     main/declare_deps_in_callback
    CCLD     main/declare_deps_after_submission
    CCLD     main/declare_deps_after_submission_synchronous
    CCLD     main/get_current_task
    CCLD     main/starpu_init
    CCLD     main/starpu_worker_exists
    CCLD     main/submit
    CCLD     main/codelet_null_callback
    CCLD     main/pause_resume
    CCLD     main/pack
    CCLD     datawizard/allocate
    CCLD     datawizard/acquire_cb
    CCLD     datawizard/acquire_cb_insert
    CCLD     datawizard/acquire_release
    CCLD     datawizard/acquire_release2
    CCLD     datawizard/cache
    CCLD     datawizard/commute
    CCLD     datawizard/copy
    CCLD     datawizard/commute2
    CCLD     datawizard/data_implicit_deps
    CCLD     datawizard/data_lookup
    CCLD     datawizard/scratch
    CCLD     datawizard/sync_and_notify_data
    CCLD     datawizard/sync_and_notify_data_implicit
    CCLD     datawizard/dsm_stress
    CCLD     datawizard/double_parameter
    CCLD     datawizard/write_only_tmp_buffer
    CCLD     datawizard/data_invalidation
    CCLD     datawizard/dining_philosophers
    CCLD     datawizard/manual_reduction
    CCLD     datawizard/readers_and_writers
    CCLD     datawizard/unpartition
    CCLD     datawizard/user_interaction_implicit
    CCLD     datawizard/sync_with_data_with_mem
    CCLD     datawizard/sync_with_data_with_mem_non_blocking
    CCLD     datawizard/sync_with_data_with_mem_non_blocking_implicit
    CCLD     datawizard/mpi_like
    CCLD     datawizard/mpi_like_async
    CCLD     datawizard/critical_section_with_void_interface
    CCLD     datawizard/increment_init
    CCLD     datawizard/increment_redux
    CCLD     datawizard/increment_redux_v2
    CCLD     datawizard/increment_redux_lazy
    CCLD     datawizard/handle_to_pointer
    CCLD     datawizard/lazy_allocation
    CCLD     datawizard/lazy_unregister
    CCLD     datawizard/noreclaim
    CCLD     datawizard/interfaces/block/block_interface
    CCLD     datawizard/interfaces/copy_interfaces
    CCLD     datawizard/interfaces/bcsr/bcsr_interface
    CCLD     datawizard/interfaces/coo/coo_interface
    CCLD     datawizard/interfaces/csr/csr_interface
    CCLD     datawizard/interfaces/matrix/matrix_interface
    CCLD     datawizard/interfaces/multiformat/multiformat_interface
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_cuda_opencl
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_data_release
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_worker
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_handle_conversion
    CCLD     datawizard/interfaces/multiformat/advanced/same_handle
    CCLD     datawizard/interfaces/vector/test_vector_interface
    CCLD     datawizard/interfaces/variable/variable_interface
    CCLD     datawizard/interfaces/void/void_interface
    CCLD     datawizard/in_place_partition
    CCLD     datawizard/partition_lazy
    CCLD     datawizard/gpu_register
    CCLD     datawizard/gpu_ptr_register
    CCLD     datawizard/variable_parameters
    CCLD     datawizard/wt_host
    CCLD     datawizard/wt_broadcast
    CCLD     datawizard/readonly
    CCLD     datawizard/specific_node
    CCLD     disk/disk_copy
    CCLD     disk/disk_pack
    CCLD     disk/disk_compute
    CCLD     errorcheck/starpu_init_noworker
    CCLD     errorcheck/invalid_blocking_calls
    CCLD     errorcheck/invalid_tasks
    CCLD     helper/cublas_init
    CCLD     helper/starpu_data_cpy
    CCLD     helper/execute_on_all
    CCLD     helper/pinned_memory
    CCLD     helper/starpu_create_sync_task
    CCLD     microbenchs/async_tasks_overhead
    CCLD     microbenchs/sync_tasks_overhead
    CCLD     microbenchs/tasks_overhead
    CCLD     microbenchs/prefetch_data_on_node
    CCLD     microbenchs/redundant_buffer
    CCLD     microbenchs/matrix_as_vector
    CCLD     openmp/init_exit_01
    CCLD     openmp/init_exit_02
    CCLD     openmp/environment
    CCLD     openmp/api_01
    CCLD     openmp/parallel_01
    CCLD     openmp/parallel_02
    CCLD     openmp/parallel_03
    CCLD     openmp/parallel_barrier_01
    CCLD     openmp/parallel_master_01
    CCLD     openmp/parallel_master_inline_01
    CCLD     openmp/parallel_single_wait_01
    CCLD     openmp/parallel_single_nowait_01
    CCLD     openmp/parallel_single_inline_01
    CCLD     openmp/parallel_single_copyprivate_01
    CCLD     openmp/parallel_single_copyprivate_inline_01
    CCLD     openmp/parallel_critical_01
    CCLD     openmp/parallel_critical_inline_01
    CCLD     openmp/parallel_critical_named_01
    CCLD     openmp/parallel_critical_named_inline_01
    CCLD     openmp/parallel_simple_lock_01
    CCLD     openmp/parallel_nested_lock_01
    CCLD     openmp/parallel_for_01
    CCLD     openmp/parallel_for_02
    CCLD     openmp/parallel_for_ordered_01
    CCLD     openmp/parallel_sections_01
    CCLD     openmp/task_01
    CCLD     openmp/parallel_sections_combined_01
    CCLD     openmp/task_02
    CCLD     openmp/taskwait_01
    CCLD     openmp/taskgroup_01
    CCLD     openmp/taskgroup_02
    CCLD     openmp/array_slice_01
    CCLD     openmp/cuda_task_01
    CCLD     overlap/overlap
    CCLD     overlap/gpu_concurrency
    CCLD     parallel_tasks/explicit_combined_worker
    CCLD     parallel_tasks/parallel_kernels
    CCLD     parallel_tasks/parallel_kernels_spmd
    CCLD     parallel_tasks/spmd_peager
    CCLD     parallel_tasks/cuda_only
    CCLD     perfmodels/regression_based
    CCLD     perfmodels/non_linear_regression_based
    CCLD     perfmodels/feed
    CCLD     perfmodels/user_base
    CCLD     perfmodels/valid_model
    CCLD     perfmodels/value_nan
    CCLD     perfmodels/memory
    CCLD     sched_policies/data_locality
    CCLD     sched_policies/execute_all_tasks
    CCLD     sched_policies/prio
    CCLD     sched_policies/simple_deps
    CCLD     sched_policies/simple_cpu_gpu_sched
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    Making all in doc
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[2]: rien à faire pour « all-am ».
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    Making all in mpi
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi »
    Making all in src
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    make  all-am
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    CC       starpu_mpi_helper.lo
    CC       starpu_mpi_datatype.lo
    CC       starpu_mpi_task_insert.lo
    CC       starpu_mpi_collective.lo
    CC       starpu_mpi.lo
    Makefile:640 : la recette pour la cible « starpu_mpi_collective.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_datatype.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_helper.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_task_insert.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi.lo » a échouée
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    Makefile:534 : la recette pour la cible « all » a échouée
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    Makefile:605 : la recette pour la cible « all-recursive » a échouée
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi »
    Makefile:985 : la recette pour la cible « all-recursive » a échouée

    #+END_EXAMPLE
    On a donc essayé avec Luka de voir d'où ça venait. La seul piste que l'on ait est que dans Simgrid les fonctions MPI ne 
    sont pas toutes portées et c'est ce qui causerait ces erreurs de compile.
*** 2015-04-23 jeudi
    - Il manquait les flags:
      En essayant de lancer le jeu de test de starpu (avec le support simgrid) avec la commande make check, j'ai des erreurs, par contre
      sans le support de simgrid ça marche. J'ai essayé avec l'install de Luka mais ça me fait pareil.
      #+BEGIN_EXAMPLE
    Making check in src
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[2]: rien à faire pour « check-am ».
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    Making check in tools
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make  loader   starpu_machine_display starpu_perfmodel_display starpu_perfmodel_plot
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    CC       loader-loader.o
    CCLD     loader
    make[3]: « starpu_machine_display » est à jour.
    make[3]: « starpu_perfmodel_display » est à jour.
    make[3]: « starpu_perfmodel_plot » est à jour.
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make  check-TESTS
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make[4] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    FAIL: starpu_machine_display
    FAIL: starpu_perfmodel_display
    FAIL: starpu_perfmodel_plot
    ============================================================================
    Testsuite summary for StarPU 1.3.0
    ============================================================================
    # TOTAL: 3
    # PASS:  0
    # SKIP:  0
    # XFAIL: 0
    # FAIL:  3
    # XPASS: 0
    # ERROR: 0
    ============================================================================
    See tools/test-suite.log
    Please report to starpu-devel@lists.gforge.inria.fr
    ============================================================================
    Makefile:1474 : la recette pour la cible « test-suite.log » a échouée
    make[4]: *** [test-suite.log] Erreur 1
    make[4] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1580 : la recette pour la cible « check-TESTS » a échouée
    make[3]: *** [check-TESTS] Erreur 2
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1720 : la recette pour la cible « check-am » a échouée
    make[2]: *** [check-am] Erreur 2
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1367 : la recette pour la cible « check-recursive » a échouée
    make[1]: *** [check-recursive] Erreur 1
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:985 : la recette pour la cible « check-recursive » a échouée
    make: *** [check-recursive] Erreur 1

    #+END_EXAMPLE
    
*** 2015-04-24 vendredi
    Tentative de maj de simgrid
    #+BEGIN_EXAMPLE
    git subrepo clone git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/simgrid/simgrid.git src/simgrid
    #+END_EXAMPLE
** 2015-05 mai
*** 2015-05-18 lundi
    Finalement j'ai également pu lancer le make check, c'est juste qu'il manquait les variables d'environnements
    #+BEGIN_EXAMPLE
    . ./flags_simgrid_starpu.sh
    #+END_EXAMPLE
    Les tests passent moins jusqu'à un certain point. 
*** 2015-05-19 mardi
    Comparaison entre le make check de l'install sans simgrid et avec:
    #+begin_src sh :results output :file check_native.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/build-native
      make check > ~/org/check_native.txt
    #+end_src

    Install starpu simgrid avec run_inject_StarPUSG.sh de luka version master
    #+begin_src sh :results output :file check_simgrid.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid
      make check > ~/org/check_simgrid.txt
    #+end_src

    #+RESULTS:
    [[file:check_simgrid.txt]]

    Install starpu simgrid avec tuto_config.sh version steven-mpi
    #+begin_src sh :results output :file check_smpi.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI
      make check > ~/org/check_smpi.txt
    #+end_src

    #+RESULTS:
    [[file:check_smpi.txt]]

*** 2015-05-20 mercredi
    
    Dans le testcase de Samuel, on voit que la valeur récupèré de la lib n'est pas correct.
    #+begin_src sh :results output :exports both
    cd ~/Programmation/TER/starpu-simgrid/src/starpu-mpi
    make run
    #+end_src

    
*** 2015-05-22 vendredi
    
    Erreur lorsque je compile le test de Samuel avec la libtest et libsimgrid en statique:
    #+begin_src sh :results output :file compile_test_static.txt :exports both
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd src/starpu-mpi/
      make &> ~/org/compile_test_static.txt   
    #+end_src
    
    #+RESULTS:
    [[file:compile_test_static.txt]]

*** 2015-05-27 mercredi
    Solution au problème de compile précédent: dans le Makefile on demandait de tout compiler en statique.
    
    J'ai refait une mise à jour et une fusion propre de simgrid pour pouvoir récupérer les modifs fait sur la partie SMPI.
    Mais souci lors de la compile de simgrid:
    #+begin_src sh :results output :file report/result_compile_merge_simgrid.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/src/simgrid/
      make clean
      make &> ~/org/report/result_compile_merge_simgrid.txt
    #+end_src

    #+RESULTS:
    [[file:report/result_compile_merge_simgrid.txt]]

    En fait ma variable (extern) était déclaré mais pas défini
*** 2015-05-28 Jeudi
    Essai avec cholesky:
    #+begin_src sh :results output :exports both
      BASE="/home/steven/Programmation/TER/starpu-simgrid"
      SMPIRUN="$BASE/src/simgrid/SIMGRID/bin/smpirun"
      PLATFORM="$BASE/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml"
      HOSTFILE="$BASE/src/starpu-mpi/hostfile"
      cd $BASE
      . ./flags_simgrid_starpu.sh
      cd src/StarPU/StarPU-SMPI/mpi/examples/matrix_decomposition
      STARPU_SCHED=dmda $SMPIRUN -platform $PLATFORM -hostfile $HOSTFILE ./mpi_cholesky --cfg=smpi/privatize_global_variables:yes
    #+end_src

    #+RESULTS:
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    Segmentation fault.
    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun : ligne 461 :  1084 Erreur de segmentation  (core dumped)${EXEC} ${TRACEOPTIONS} ${SIMOPTS} ${PLATFORMTMP} ${APPLICATIONTMP}
    #+END_EXAMPLE
    
    Essai avec ring_async_implicit:
    #+begin_src sh :results output :exports both
      BASE="/home/steven/Programmation/TER/starpu-simgrid"
      SMPIRUN="$BASE/src/simgrid/SIMGRID/bin/smpirun"
      PLATFORM="$BASE/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml"
      HOSTFILE="$BASE/src/starpu-mpi/hostfile"
      cd $BASE
      . ./flags_simgrid_starpu.sh
      cd src/StarPU/StarPU-SMPI/mpi/tests
      STARPU_SCHED=dmda $SMPIRUN -platform $PLATFORM -hostfile $HOSTFILE ./ring_async_implicit --cfg=smpi/privatize_global_variables:yes
    #+end_src

    #+RESULTS:
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    Segmentation fault.
    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun : ligne 461 :   939 Erreur de segmentation  (core dumped)${EXEC} ${TRACEOPTIONS} ${SIMOPTS} ${PLATFORMTMP} ${APPLICATIONTMP}
    #+END_EXAMPLE

    Le problème est que PMPI_Comm_set_errhandler n'est pas encore
    implémenté dans simgrid.

    Dans mpi/src/starpu_mpi.c il est fait justement appel à cette
    fonction. Je tente de la mettre en commentaire:
    #+begin_src sh :results output :exports both
      cd ~/Programmation/TER/starpu-simgrid/
      ./run_StarPU_SMPI.sh -t
    #+end_src


    Pour le segfault:
    Essayer point d'entré -> main de SMPI. Par exemple MPI_Comm_rank...
    Verifier la valeur de ready_requests entre les différents
    processus, doit être différente pour chacun.
    Si c'est le cas surveiller la valeur de cette variable avec watch
    de gdb.
    Est-ce que watch fonctionne avec les adresses physiques?

*** 2015-05-29 vendredi
    Break point sur MPI_Comm_rank:
    #+BEGIN_EXAMPLE
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff5dbde80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92e0
    (gdb) cont
    Continuing.
    
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff55bae80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    Continuing.
    
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff4db7e80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    Continuing.
    
    Program received signal SIGSEGV, Segmentation fault.
    0x0000000000405196 in _starpu_mpi_req_list_empty (l=0x0) at ../../../mpi/src/starpu_mpi_private.h:99
    99      LIST_TYPE(_starpu_mpi_req,
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    #+END_EXAMPLE
    
    La chose qui ferait passé ready_requests à NULL est
    starpu_mpi_shutdown mais on ne passe pas dedans avant le segfault.
    Mais quelque chose ne doit pas être correct à l'attribution du
    segment data.
** 2015-06 Juin [6/6]
*** 2015-06-01 lundi
    Regardons si l'adresse pointé par ready_requests est correct pour
    chacun ds process MPI:
    #+BEGIN_EXAMPLE
    br smx_process.c:855
    cond 6 ready_requests != (void*)0    
    #+END_EXAMPLE
    #+BEGIN_EXAMPLE
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92d0
    (gdb) cont
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92f0
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    #+END_EXAMPLE
    
    À partir du 3e passsage l'adresse pointée ne change pas. 
    Voyons si l'a privatisation se fait correctement.
    #+BEGIN_EXAMPLE
    br smx_process.c:855 if ready_requests != (void*)0
    #+END_EXAMPLE
    #+BEGIN_EXAMPLE
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92d0
    (gdb) cont
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92f0
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    #+END_EXAMPLE
    L'index du segment data est le même pour les 3 noeuds. Normalement il
    devrait être différent. 
    L'index du segment data est défini en fonction du pid du
    process - 1.
    
    Le segment data des process MPI semblent corrects. Ces processus
    sont créés d'abord par le tout premier processus de simigrd le
    processus "", à la création il partage le même segment data que
    lui. C'est un peu plutard les processus sont initialisés avec
    leurs propre segment data. Cependant l'index du segment data est
    égal au pid du processus -1, hors le processus maestro et le
    processus de pid 1 ont le même index (0). Le problème pourrait
    venir de là. -> Apparemment pas.

    Après vérification les exemples mpi sont bien compilé avec la
    libstarpu en statique.
   
    Après avoir discuter avec Arnaud du problème, on a vu que l'index
    du segment data était mis en place mais trop tard. Donc tentons de
    de faire en sorte que la fonction smpi_process_init soit appelé
    avant ou au tout debut de _starpu_mpi_simgrid_init.
    
*** DONE 2015-06-08 lundi [1/1]
    - [X] Modification de l'initialisation côté StarPU: 
      l'appel à MPI_Init_thread est effectué au début de
      _starpu_mpi_initialize pour SimGrid. Car sinon la privatisation
      du segment data est effectué trop tard.
    - Segfault lors de l'exécution de cholesky:
      Rapport valgrind:
      #+BEGIN_EXAMPLE
      ==24054== Invalid read of size 4
      ==24054==    at 0x582583F: smpi_process_index (smpi_global.c:238)
      ==24054==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
      ==24054==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
      ==24054==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
      ==24054==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
      ==24054==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
      ==24054==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"
      #+END_EXAMPLE
*** DONE 2015-06-09 mardi [1/1]
    - SegFault(suite):
      - Invalid reads trouvés par valgrind:
        #+BEGIN_EXAMPLE
        ==29290== Invalid read of size 4
        ==29290==    at 0x582583F: smpi_process_index (smpi_global.c:245)
        ==29290==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
        ==29290==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
        ==29290==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
        ==29290==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"

        ==29290== Invalid read of size 4
        ==29290==    at 0x58278BF: smpi_group_rank (smpi_group.c:106)
        ==29290==  Address 0x8a5acc0 is 16 bytes before a block of size 16 alloc'd
        ==29290==    at 0x4C2C080: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
        ==29290==    by 0x56B2EF0: xbt_malloc0 (sysdep.h:110)
        ==29290==    by 0x56B2EF0: SIMIX_cond_init (smx_synchro.c:263)
        ==29290==    by 0x56B7D10: SIMIX_simcall_handle (popping_generated.c:613)
        ==29290==    by 0x56972ED: simcall_BODY_cond_init (popping_bodies.c:2028)
        ==29290==    by 0x569C3D7: simcall_cond_init (libsmx.c:1211)
        ==29290==    by 0x57D17DD: xbt_cond_init (xbt_sg_synchro.c:165)
        ==29290==    by 0x57D1977: xbt_barrier_init (xbt_sg_synchro.c:207)
        ==29290==    by 0x582651C: smpi_global_init (smpi_global.c:466)
        ==29290==    by 0x5826EE0: smpi_main (smpi_global.c:670)
        ==29290==    by 0x43ED24: main (simgrid.c:195)

        ==29290== Invalid read of size 1
        ==29290==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
        ==29290==    by 0x43F4BA: _starpu_simgrid_submit_job (simgrid.c:324)
        ==29290==    by 0x485A66: execute_job_on_cpu (driver_cpu.c:110)
        ==29290==    by 0x48618F: _starpu_cpu_driver_run_once (driver_cpu.c:280)
        ==29290==    by 0x486295: _starpu_cpu_worker (driver_cpu.c:337)
        ==29290==    by 0x4408DE: _starpu_simgrid_thread_start (simgrid.c:663)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x0 is not stack'd, malloc'd or (recently) free'd        
        #+END_EXAMPLE
      - Analyse du premier invalid read:
        #+BEGIN_EXAMPLE
        ==29290== Invalid read of size 4
        ==29290==    at 0x582583F: smpi_process_index (smpi_global.c:245)
        ==29290==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
        ==29290==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
        ==29290==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
        ==29290==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"
        #+END_EXAMPLE
        gdb:
        #+BEGIN_EXAMPLE
        (gdb) p (SIMIX_process_self())->ppid
        $6 = 1
        (gdb) p (SIMIX_process_self())->pid
        $5 = 4
        (gdb) p (SIMIX_process_self())->segment_index 
        $3 = 0
        (gdb) p (SIMIX_process_self())->data
        $8 = (void *) 0x7a557a0
        (gdb) bt
        #0  0x000000000582583f in smpi_process_index ()
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:245
        #1  0x0000000005822dd1 in smpi_comm_rank (comm=0x8a5ab10)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_comm.c:167
        #2  0x0000000005835f3a in PMPI_Comm_rank (comm=0x8a5ab10, rank=0x9820fa4)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:681
        #3  0x0000000005828191 in MPI_Comm_rank (comm=0x8a5ab10, rank=0x9820fa4)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
        #4  0x0000000000404fc5 in smpi_simulated_main_ (argc=1, argv=0x7173390)
        at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async_implicit.c:69
        #5  0x000000000569de11 in smx_ctx_raw_wrapper (context=0x7a55bb0)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388
        #6  0x0000000000000000 in ?? ()
        (gdb) 
        #+END_EXAMPLE
        Première remarque, le processus 1 ainsi que tous ceux qu'il
        crée ont comme index de segment data la valeur 0 (index =
        pid - 1, cf smpi/private.h:778). Le processus maestro a
        également pour index 0. Cela pourrait donc poser problème et à
        mon avis le maestro ne devrait pas avoir le même index.
        Que se passe t-il pour le maestro si la privatisation est
        activé? Est-ce que c'est prévu?
      - Comment faire pour qu'au process n'est le même segment data
        que le maestro:
        Le process maestro n'est pas créé avec
        SIMIX_process_create, et n'est pas comptabilisé avec 
        SIMIX_process_count.
        - Passage du segment_index du maestro à -1. Apparemment cela
          ne change rien, ce qui est normal si ne maestro n'utilise
          pas de segment data virtuel...
    - [X] Vérifier comment fonctionne le mécanisme de segment
      virtuel (changement de contexte). Est-ce que le maestro
      utilise un segment virtuel? 
      Apparement aucun smpi_switch_segment_data n'est effectuée pour
      le maestro.
      MSG_process_get_data() != SIMIX_process_get_data() ?
      Privatisation pas correct?
*** DONE 2015-06-11 jeudi [1/1]
    Dans smpi_process_init on utilisait un index qui était égal au pid
    -1 (il n'y avait pas d'héritage de segment data et chacun avait le
    sien) mais j'imagine que maintenant, c'est le segment_index du
    process que l'on veut utiliser la place. De plus j'ai déplacé
    l'affectation du segment_index pour les process SMPI dans
    SIMIX_process_create. 
    
    - [X] Vérification du segment data:
      - A l'initialisation (smpi_initialize_global_memory_segments): 
        - création d'un array pour faire correspondre les différents
          process avec leur zone de mémoire virtuelle. 
        - création d'une zone en mémoire(mmap)
        - copie du segment data courant dans la zone.
      - Au switch (smpi_really_switch_data_segment):
        - Swap de segment data (mmap) 
      - A coup de gdb, tout semble correct:
        #+BEGIN_EXAMPLE
        Breakpoint 2, smpi_really_switch_data_segment (dest=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff4bcd000, file_descriptor = 3}
        4: SIMIX_process_self()->segment_index = 0
        3: SIMIX_process_self()->ppid = 0
        2: SIMIX_process_self()->pid = 1
        1: dest = 0

        Breakpoint 2, smpi_really_switch_data_segment (dest=1) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff49e1000, file_descriptor = 4}
        4: SIMIX_process_self()->segment_index = 1
        3: SIMIX_process_self()->ppid = 0
        2: SIMIX_process_self()->pid = 2
        1: dest = 1
        
        Breakpoint 2, smpi_really_switch_data_segment (dest=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff4bcd000, file_descriptor = 3}
        4: SIMIX_process_self()->segment_index = 0
        3: SIMIX_process_self()->ppid = 1
        2: SIMIX_process_self()->pid = 3
        1: dest = 0

        Breakpoint 2, smpi_really_switch_data_segment (dest=1) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff49e1000, file_descriptor = 4}
        4: SIMIX_process_self()->segment_index = 1
        3: SIMIX_process_self()->ppid = 2
        2: SIMIX_process_self()->pid = 4
        1: dest = 1
        #+END_EXAMPLE
        
*** DONE 2015-06-12 friday [4/4]
    - [X] Update StarPU version :
      Update in branch steven-starpu-update and merge with steven-mpi.
      Host name is incorrect when calling
      MSG_process_create_with_arguments(), the function 
      starpu_mpi_world_rank() returns 91 giving ->
      StarPU-MPI91-MAIN.
      - Current vesion
	#+BEGIN_EXAMPLE
	Breakpoint 2, _starpu_simgrid_get_host_by_name (name=0x4add9d "MAIN") at ../../src/core/simgrid.c:148
	(gdb) p mpiname
	$1 = "StarPU-MPI91-MAIN\000\333\365\377\177\000\000\000\000\000\000\000\000\000"
	(gdb) p SIMIX_process_self()->name
	$2 = 0x8f8d80 "0"
	(gdb) p SIMIX_process_self()->smx_host->key
	$3 = 0x8fd8b0 "node-1.acme.org"
	(gdb) p MSG_get_host_by_name("StarPU-MPI0-MAIN")
	$4 = (struct s_xbt_dictelm *) 0x927f50
	#+END_EXAMPLE
      - Old version:
        #+BEGIN_EXAMPLE
	#0  _starpu_simgrid_get_host_by_name (name=0x49f53d "MAIN") at ../../src/core/simgrid.c:147
	(gdb) p MSG_get_host_by_name("StarPU-MPI0-MAIN")
	$5 = (struct s_xbt_dictelm *) 0x90cf50
	(gdb) p mpiname
	$6 = "StarPU-MPI0-MAIN\000\336\333\365\377\177\000\000\060\346\215\000\000\000\000"
	(gdb) p SIMIX_process_self()->name
	$7 = 0x8ddd80 "0"
	(gdb) p SIMIX_process_self()->smx_host
	$8 = (smx_host_t) 0x8d7e60
	(gdb) p SIMIX_process_self()->smx_host->key
	$9 = 0x8e28b0 "node-1.acme.org"
        #+END_EXAMPLE
      Ok bad merge from my part.
    - [X] Invalid read:
      Seems to be fixed with the update of StarPU.
      - Former version:
        - Valgrind report:
	  #+BEGIN_EXAMPLE
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
	  [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
	  [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
	  ==27987== Invalid read of size 4
	  ==27987==    at 0x582583F: smpi_process_index (smpi_global.c:238)
	  ==27987==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
	  ==27987==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
	  ==27987==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
	  ==27987==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
	  ==27987==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27987==  Address 0x7a55158 is 24 bytes after a block of size 64 in arena "client"
	  ==27987== 
	  ==27987== (action on error) vgdb me ... 
	  ==27987== Continuing ...
	  ==27987== Invalid read of size 4
	  ==27987==    at 0x58278BF: smpi_group_rank (smpi_group.c:106)
	  ==27987==  Address 0x8257c00 is 16 bytes before a block of size 16 alloc'd
	  ==27987==    at 0x4C2C080: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	  ==27987==    by 0x56B2EF0: xbt_malloc0 (sysdep.h:110)
	  ==27987==    by 0x56B2EF0: SIMIX_cond_init (smx_synchro.c:263)
	  ==27987==    by 0x56B7D10: SIMIX_simcall_handle (popping_generated.c:613)
	  ==27987==    by 0x56972ED: simcall_BODY_cond_init (popping_bodies.c:2028)
	  ==27987==    by 0x569C3D7: simcall_cond_init (libsmx.c:1211)
	  ==27987==    by 0x57D17DD: xbt_cond_init (xbt_sg_synchro.c:165)
	  ==27987==    by 0x57D1977: xbt_barrier_init (xbt_sg_synchro.c:207)
	  ==27987==    by 0x582651C: smpi_global_init (smpi_global.c:459)
	  ==27987==    by 0x5826EE0: smpi_main (smpi_global.c:663)
	  ==27987==    by 0x43ED24: main (simgrid.c:195)
	  ==27987== 
	  ==27987== (action on error) vgdb me ... 
	  ==27987== Continuing ...
	  Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileStart with token value 0
	  Start with token value 0
	  ==27987== Invalid read of size 1
	  ==27987==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
	  ==27987==    by 0x43F4BA: _starpu_simgrid_submit_job (simgrid.c:324)
	  ==27987==    by 0x485A66: execute_job_on_cpu (driver_cpu.c:110)
	  ==27987==    by 0x48618F: _starpu_cpu_driver_run_once (driver_cpu.c:280)
	  ==27987==    by 0x486295: _starpu_cpu_worker (driver_cpu.c:337)
	  ==27987==    by 0x4408DE: _starpu_simgrid_thread_start (simgrid.c:663)
	  ==27987==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27987==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
          #+END_EXAMPLE
        - GDB report:
	  #+BEGIN_EXAMPLE
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x000000000582583f in smpi_process_index ()
	  at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:238
	  warning: Source file is more recent than executable.
	  238
	  (gdb) cont
	  Continuing.
	  
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x00000000058278bf in smpi_group_rank (group=0x8257950, index=128)
	  at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_group.c:106
	  106       rank = group->index_to_rank_map[index];
	  (gdb) 
	  Continuing.
	  
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x0000000006189df0 in __strcmp_sse2_unaligned () from /usr/lib/libc.so.6
	  (gdb) cont
	  Continuing.
	  
	  Program received signal SIGSEGV, Segmentation fault.
	  0x0000000006189df0 in __strcmp_sse2_unaligned () from /usr/lib/libc.so.6
	  #+END_EXAMPLE
      - New version:
	- Valgrind report:
	  #+BEGIN_EXAMPLE
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
	  [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
	  [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
	  Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileStart with token value 0
	  ==27622== Invalid read of size 1
	  ==27622==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
	  ==27622==    by 0x449753: _starpu_simgrid_submit_job (simgrid.c:327)
	  ==27622==    by 0x495200: execute_job_on_cpu (driver_cpu.c:110)
	  ==27622==    by 0x495988: _starpu_cpu_driver_run_once (driver_cpu.c:285)
	  ==27622==    by 0x495A8E: _starpu_cpu_worker (driver_cpu.c:342)
	  ==27622==    by 0x44AB15: _starpu_simgrid_thread_start (simgrid.c:663)
	  ==27622==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27622==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
	  #+END_EXAMPLE
      SegFault and the message "Error while opening the inputfile"
      still exitsts.
    - [X] Segfault, strcmp_sse2_unaligned in Luka's inject/benchmark functions:
      Just desactived for now.
    - [X] Memory error on mpi/tests/callback:
      - Valgrind report:
        #+BEGIN_EXAMPLE
	==10471== Invalid read of size 8
	==10471==    at 0x569D8AA: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54410 is 0 bytes inside a block of size 24 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471== 
	==10471== (action on error) vgdb me ... 
	==10471== Continuing ...
	==10471== Invalid free() / delete / delete[] / realloc()
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8B4: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54320 is 0 bytes inside a block of size 2 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8B4: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471== 
	==10471== (action on error) vgdb me ... 
	==10471== Continuing ...
	==10471== Invalid free() / delete / delete[] / realloc()
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54410 is 0 bytes inside a block of size 24 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
        #+END_EXAMPLE
      - GDB report:
	#+BEGIN_EXAMPLE
	Program received signal SIGABRT, Aborted.
	0x00007ffff67a8528 in raise () from /usr/lib/libc.so.6
	(gdb) target remote | /usr/lib/valgrind/../../bin/vgdb --pid=10471
	A program is being debugged already.  Kill it? (y or n) y
	Remote debugging using | /usr/lib/valgrind/../../bin/vgdb --pid=10471
	relaying data between gdb and process 10471
	Reading symbols from /lib64/ld-linux-x86-64.so.2...(no debugging symbols found)...done.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004000d80 in _start () from /lib64/ld-linux-x86-64.so.2
	(gdb) cont
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x000000000569d8aa in smx_ctx_base_free (context=0x7a556c0)
	at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:76
	76              free(context->argv[i]);
	(gdb) cont
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004c2b200 in _vgr10050ZU_libcZdsoZa_free () from /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so
	(gdb) 
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004c2b200 in _vgr10050ZU_libcZdsoZa_free () from /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so
	(gdb) 
	#+END_EXAMPLE
      - Addtionnal report:
	#+BEGIN_EXAMPLE
	Starting program: /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback --cfg=surf/precision:1e-9 --cfg=network/model:SMPI --cfg=network/TCP_gamma:4194304 --cfg=smpi/privatize_global_variables:yes /home/steven/Programmation/TER/starpu-simgrid/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml tmpEzjktR
        [Thread debugging using libthread_db enabled]
        Using host libthread_db library "/usr/lib/libthread_db.so.1".
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
        [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
        [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
        [0][starpu_mpi][callback] x=40
        [0][starpu_mpi][callback] x=41
        [0][starpu_mpi][prologue_callback] y=12
        [0][starpu_mpi][prologue_callback] y=13
        Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileWarning: element with specified key does not exist ((null)|00000000)
        Element (null)|00000000 will take 0 seconds
        *** Error in `/home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback': free(): invalid size: 0x00000000008fce90 ***
        ======= Backtrace: =========
        /usr/lib/libc.so.6(+0x71bad)[0x7ffff67e6bad]
        /usr/lib/libc.so.6(+0x770fe)[0x7ffff67ec0fe]
        /usr/lib/libc.so.6(+0x778db)[0x7ffff67ec8db]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(smx_ctx_base_free+0x49)[0x7ffff73a58b5]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(+0x36dde4)[0x7ffff73a5de4]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(+0x37cdc5)[0x7ffff73b4dc5]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(SIMIX_process_empty_trash+0xa5)[0x7ffff73b54f8]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(SIMIX_run+0xc56)[0x7ffff73a9be1]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(smpi_main+0x1bb)[0x7ffff752ef26]
        /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback(main+0xc8)[0x44b3e7]
        /usr/lib/libc.so.6(__libc_start_main+0xf0)[0x7ffff6795790]
        /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback[0x404d49]
        ======= Memory map: ========
        00400000-004e2000 r-xp 00000000 08:34 9181435                            /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback
        006e2000-008d7000 rw-s 00000000 00:12 404137                             /dev/shm/my-buffer-iblGBH (deleted)
        008d7000-00bab000 rw-p 00000000 00:00 0                                  [heap]
        7ffff41cc000-7ffff41cd000 rw-p 00000000 00:00 0 
        7ffff41cd000-7ffff41ce000 ---p 00000000 00:00 0 
        7ffff41ce000-7ffff49cf000 rw-p 00000000 00:00 0 
        7ffff49cf000-7ffff4bc4000 rw-s 00000000 00:12 404137                     /dev/shm/my-buffer-iblGBH (deleted)
        7ffff4bc4000-7ffff4db9000 rw-s 00000000 00:12 404136                     /dev/shm/my-buffer-QSfIbS (deleted)
        7ffff5dbf000-7ffff5dc5000 r-xp 00000000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5dc5000-7ffff5fc4000 ---p 00006000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc4000-7ffff5fc5000 r--p 00005000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc5000-7ffff5fc6000 rw-p 00006000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc6000-7ffff5fdc000 r-xp 00000000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff5fdc000-7ffff61db000 ---p 00016000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff61db000-7ffff61dc000 rw-p 00015000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff61dc000-7ffff61f2000 r-xp 00000000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff61f2000-7ffff63f1000 ---p 00016000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f1000-7ffff63f2000 r--p 00015000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f2000-7ffff63f3000 rw-p 00016000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f3000-7ffff6565000 r-xp 00000000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6565000-7ffff6765000 ---p 00172000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6765000-7ffff676f000 r--p 00172000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff676f000-7ffff6771000 rw-p 0017c000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6771000-7ffff6775000 rw-p 00000000 00:00 0 
        7ffff6775000-7ffff690e000 r-xp 00000000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff690e000-7ffff6b0d000 ---p 00199000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b0d000-7ffff6b11000 r--p 00198000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b11000-7ffff6b13000 rw-p 0019c000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b13000-7ffff6b17000 rw-p 00000000 00:00 0 
        7ffff6b17000-7ffff6b2f000 r-xp 00000000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6b2f000-7ffff6d2e000 ---p 00018000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d2e000-7ffff6d2f000 r--p 00017000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d2f000-7ffff6d30000 rw-p 00018000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d30000-7ffff6d34000 rw-p 00000000 00:00 0 
        7ffff6d34000-7ffff6e37000 r-xp 00000000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff6e37000-7ffff7036000 ---p 00103000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7036000-7ffff7037000 r--p 00102000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7037000-7ffff7038000 rw-p 00103000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7038000-7ffff768d000 r-xp 00000000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff768d000-7ffff788c000 ---p 00655000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff788c000-7ffff78d8000 rw-p 00654000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff78d8000-7ffff78e1000 rw-p 00000000 00:00 0 
        7ffff78e1000-7ffff78e8000 r-xp 00000000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff78e8000-7ffff7ae7000 ---p 00007000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae7000-7ffff7ae8000 r--p 00006000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae8000-7ffff7ae9000 rw-p 00007000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae9000-7ffff7bd9000 r-xp 00000000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7bd9000-7ffff7dd9000 ---p 000f0000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7dd9000-7ffff7dda000 r--p 000f0000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7dda000-7ffff7ddb000 rw-p 000f1000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7ddb000-7ffff7dfd000 r-xp 00000000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7fac000-7ffff7fb3000 rw-p 00000000 00:00 0 
        7ffff7ff5000-7ffff7ff8000 rw-p 00000000 00:00 0 
        7ffff7ff8000-7ffff7ffa000 r--p 00000000 00:00 0                          [vvar]
        7ffff7ffa000-7ffff7ffc000 r-xp 00000000 00:00 0                          [vdso]
        7ffff7ffc000-7ffff7ffd000 r--p 00021000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7ffd000-7ffff7ffe000 rw-p 00022000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7ffe000-7ffff7fff000 rw-p 00000000 00:00 0 
        7ffffffde000-7ffffffff000 rw-p 00000000 00:00 0                          [stack]
        ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
	#+END_EXAMPLE
      It seems that SIMIX is trying to free a context that has already
      been free'd. But When I check on gdb if that context has been
      free'd before I found nothing...
      #+BEGIN_EXAMPLE
      Program received signal SIGABRT, Aborted.
      0x00007ffff67a8528 in raise () from /usr/lib/libc.so.6
      (gdb) info breakpoints 
      Num     Type           Disp Enb Address            What
      1       breakpoint     keep y   0x00007ffff73a5878 in smx_ctx_base_free 
      at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
      stop only if context == 0x8fe090
      breakpoint already hit 1 time
      #+END_EXAMPLE
      It seems that this happens at the end in starpu_shutdown.
      Maybe bad sharing done at the begining, context?
      #+BEGIN_EXAMPLE
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process main (0x7a55480), waiting synchro (nil)
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x7a55480 should not be run anymore
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:854: [simix_process/DEBUG] Yield process 'main'
      [5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process main (0x7a55480), waiting synchro (nil)
      [5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x7a55480 should not be run anymore
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Control returned to me: 'main'
      #+END_EXAMPLE
      Same process cleaned twice.
      - [X] check SIMIX_process_cleanup:
        - It seems to be called twice each time.
          #+BEGIN_EXAMPLE
          Breakpoint 1, SIMIX_process_cleanup (process=0x7173770)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) display process->pid
          4: process->pid = 1
          (gdb) c
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7173770)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7a54830)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 2
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7a54830)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 2
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0xb2501b0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 8
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0xb2501b0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 8
          #+END_EXAMPLE
        - At two different moment:
          #+BEGIN_EXAMPLE
          Breakpoint 1, SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73a5912 in smx_ctx_base_stop (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:89
          #2  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #3  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #4  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73bf466 in SIMIX_simcall_handle (simcall=0x8fccb8, value=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:398
          #2  0x00007ffff73a9179 in SIMIX_run ()
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
          #3  0x00007ffff752ef43 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, 
          argc=3, argv=0x7fffffffda48)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
          #4  0x000000000044b3e7 in main (argc=7, argv=0x7fffffffda48)
          at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
        - They are both called in smx_ctx_base_stop:
          #+BEGIN_EXAMPLE
          Breakpoint 2, SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52	  XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73a5912 in smx_ctx_base_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:89
          #2  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #3  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #4  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process 0 (0x8fcc50), waiting synchro (nil)
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x8fcc50 should not be run anymore
          
          Breakpoint 1, simcall_BODY_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:1022
          1022	    smx_process_t self = SIMIX_process_self();
          (gdb) bt
          #0  simcall_BODY_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:1022
          #1  0x00007ffff73a2ad7 in simcall_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:617
          #2  0x00007ffff73a5942 in smx_ctx_base_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:92
          #3  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #4  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #5  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:854: [simix_process/DEBUG] Yield process '0'
          
          Breakpoint 2, SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52	  XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73bf466 in SIMIX_simcall_handle (simcall=0x8fcce8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:398
          #2  0x00007ffff73a9179 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
          #3  0x00007ffff752ef43 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc68)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
          #4  0x000000000044b3e7 in main (argc=8, argv=0x7fffffffdc68) at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
          #+begin_src C
            void smx_ctx_base_stop(smx_context_t context)
            {
              if (context->cleanup_func)
          -->   context->cleanup_func(context->process);
              context->process->suspended = 0;
              context->iwannadie = 0;
          --> simcall_process_cleanup(context->process);
              context->iwannadie = 1;
            }  
          #+end_src
          I tried to make the call only once but the original problem is
          still there, it seems to be not related.  
        - Context free'd two time:
          - First here:
            #+BEGIN_EXAMPLE
            [0.000020] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:117: [simix_process/DEBUG] Getting rid of 0x8fd410
            
        --> Breakpoint 5, smx_ctx_base_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            71	  if (context) {
        --> 1: context->argv = (char **) 0x8fd210
            (gdb) bt
            #0  smx_ctx_base_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            #1  0x00007ffff74a1d75 in smx_ctx_thread_free (pcontext=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:131
            #2  0x00007ffff73b4dc7 in SIMIX_context_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:277
            #3  0x00007ffff73b54fa in SIMIX_process_empty_trash () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:119
            #4  0x00007ffff73a9be3 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:493
            #5  0x00007ffff752ef45 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
            at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
            #6  0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
            (gdb) 
            #+END_EXAMPLE
          - And then:
            #+BEGIN_EXAMPLE
            [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x8f7930 should not be run anymore
            [5.000010] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:820: [simix_process/DEBUG] Destroy synchro 0xa426d0
            [5.000010] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:117: [simix_process/DEBUG] Getting rid of 0x8f7930
            [Thread 0x7fffeffff700 (LWP 27896) exited]
            
        --> Breakpoint 5, smx_ctx_base_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            71	  if (context) {
        --> 1: context->argv = (char **) 0x8fd210
            (gdb) bt
            #0  smx_ctx_base_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            #1  0x00007ffff74a1d75 in smx_ctx_thread_free (pcontext=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:131
            #2  0x00007ffff73b4dc7 in SIMIX_context_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:277
            #3  0x00007ffff73b54fa in SIMIX_process_empty_trash () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:119
            #4  0x00007ffff73a9be3 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:493
            #5  0x00007ffff752ef45 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
            at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
            #6  0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
            #+END_EXAMPLE
            The two context reference the same argv
      - [X] Find how two contexts can reference the same argv:
        - First time:
          #+BEGIN_EXAMPLE
          [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:286: [simix_process/VERBOSE] Create context 1
          [New Thread 0x7ffff5dbe700 (LWP 28369)]
          
          Breakpoint 8, smx_ctx_base_factory_create_context_sized (size=80, code=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x8fd210, 
          cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, process=0x8fd410) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:46
          46	  smx_context_t context = xbt_malloc0(size);
          (gdb) bt
          #0  smx_ctx_base_factory_create_context_sized (size=80, code=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x8fd210, 
          cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, process=0x8fd410) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:46
          #1  0x00007ffff74a1c52 in smx_ctx_thread_factory_create_context (code=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x8fd210, 
          cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, process=0x8fd410) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:85
          #2  0x00007ffff73b4d9f in SIMIX_context_new (code=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x8fd210, cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, 
          simix_process=0x8fd410) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:264
          #3  0x00007ffff73b616f in SIMIX_process_create (process=0x7fffffffd4f0, name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x8fd3d0, 
          hostname=0x9010b0 "node-2.acme.org", kill_time=-1, argc=3, argv=0x8fd210, properties=0x0, auto_restart=0, parent_process=0x8f43b0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:287
          #4  0x00007ffff73b5a5b in simcall_HANDLER_process_create (simcall=0x8f4448, process=0x7fffffffd4f0, name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x8fd3d0, 
          hostname=0x9010b0 "node-2.acme.org", kill_time=-1, argc=3, argv=0x8fd210, properties=0x0, auto_restart=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:212
          #5  0x00007ffff73bf3f5 in SIMIX_simcall_handle (simcall=0x8f4448, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:383
          #6  0x00007ffff739acc7 in simcall_BODY_process_create (process=0x7fffffffd4f0, name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x8fd3d0, 
          hostname=0x9010b0 "node-2.acme.org", kill_time=-1, argc=3, argv=0x8fd210, properties=0x0, auto_restart=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:974
          #7  0x00007ffff73a2a85 in simcall_process_create (process=0x7fffffffd4f0, name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x8fd3d0, 
          hostname=0x9010b0 "node-2.acme.org", kill_time=-1, argc=3, argv=0x8fd210, properties=0x0, auto_restart=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:583
          #8  0x00007ffff73749ed in MSG_process_create_with_environment (name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x0, host=0x8f6e00, argc=3, argv=0x8fd210, 
          properties=0x0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_process.c:171
          #9  0x00007ffff737466f in MSG_process_create_from_SIMIX (process=0x7fffffffd620, name=0x8fd230 "1", code=0x40bfd5 <_starpu_mpi_simgrid_init>, data=0x0, 
          hostname=0x9010b0 "node-2.acme.org", kill_time=-1, argc=3, argv=0x8fd210, properties=0x0, auto_restart=0, parent_process=0x0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_process.c:66
          #10 0x00007ffff73a7156 in parse_process (process=0x7fffffffd720) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_deployment.c:74
          #11 0x00007ffff7429732 in sg_platf_new_process (process=0x7fffffffd720) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/sg_platf.c:265
          #12 0x00007ffff747dfb5 in ETag_surfxml_process () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surfxml_parse.c:960
          #13 0x00007ffff7476880 in surf_parse_lex () at src/surf/simgrid_dtd.c:9227
          #14 0x00007ffff747e984 in _surf_parse () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surfxml_parse.c:1066
          #15 0x00007ffff73a73a6 in SIMIX_launch_application (file=0x7fffffffe12a "tmpRIbK3h") at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_deployment.c:125
          #16 0x00007ffff752eefb in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:671
          #17 0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
        - Second time:
          #+BEGIN_EXAMPLE
          [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:286: [simix_process/VERBOSE] Create context main
          [New Thread 0x7ffff49d2700 (LWP 28390)]
          
          Breakpoint 8, smx_ctx_base_factory_create_context_sized (size=80, code=0x40507d <smpi_simulated_main_>, argc=1, argv=0x8fd210, 
          cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, process=0x8f7930) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:46
          46	  smx_context_t context = xbt_malloc0(size);
          (gdb) p SIMIX_process_self()->pid
          $9 = 0
          (gdb) bt
          #0  xbt_malloc0 (n=80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/include/xbt/sysdep.h:110
          #1  smx_ctx_base_factory_create_context_sized (size=80, code=0x40507d <smpi_simulated_main_>, argc=1, argv=0x8fd210, cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, 
          process=0x8f7930) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:46
          #2  0x00007ffff74a1c52 in smx_ctx_thread_factory_create_context (code=0x40507d <smpi_simulated_main_>, argc=1, argv=0x8fd210, 
          cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, process=0x8f7930) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:85
          #3  0x00007ffff73b4d9f in SIMIX_context_new (code=0x40507d <smpi_simulated_main_>, argc=1, argv=0x8fd210, cleanup_func=0x7ffff737454d <MSG_process_cleanup_from_SIMIX>, 
          simix_process=0x8f7930) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:264
          #4  0x00007ffff73b616f in SIMIX_process_create (process=0x7ffff55bcca0, name=0x4afe02 "main", code=0x40507d <smpi_simulated_main_>, data=0x7fffe8000990, 
          hostname=0x93bbe0 "StarPU-MPI1-MAIN", kill_time=-1, argc=1, argv=0x8fd210, properties=0x0, auto_restart=0, parent_process=0x8fd410)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:287
          #5  0x00007ffff73b5a5b in simcall_HANDLER_process_create (simcall=0x8fd4a8, process=0x7ffff55bcca0, name=0x4afe02 "main", code=0x40507d <smpi_simulated_main_>, 
          data=0x7fffe8000990, hostname=0x93bbe0 "StarPU-MPI1-MAIN", kill_time=-1, argc=1, argv=0x8fd210, properties=0x0, auto_restart=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:212
          #6  0x00007ffff73bf3f5 in SIMIX_simcall_handle (simcall=0x8fd4a8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:383
          #7  0x00007ffff73a917b in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
          #8  0x00007ffff752ef45 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
          #9  0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
        - What happens really:
          #+CAPTION: Life and death of process... and their context.
          #+NAME:   fig:context_argv
          [[./Schema/Img/context_argv.jpg]]
          Process 1 and 2 are killed before the others with their
          context->argv. But process 3 and 4 use the context->argv of
          process 1 and 2 and free them too when they have done.
          Maybe 1 and 2 should terminate after 3 and 4.
        - [X] Added a quick fix in SimGrid:
          #+NAME: smx_ctx_base_free
          In smx_ctx_base_free pointers are set to NULL and checked
          before free. A strange thing is that the value of
          context->argv[0] changes after the call to
          free(context->argv).
*** DONE 2015-06-15 monday [1/1]
    - [X] sometime in StarPU MPI_Init can be called twice (in the
      application and in an initialization function of StarPU). So the
      second needs to be ignored. 
*** DONE 2015-06-17 wednesday [1/1]
    - [X] See with Arnaud if it is preferable that smpi process die at
      last and the [[smx_ctx_base_free][quick fix]].
*** 2015-06-18 thursday [0/1]
**** TODO Error in starpu_task_wait_for_all [0/1]
     This function is called at the end of the programm.
     Dans StarPU un contexte sert en quelque sorte à regrouper des
     tâches. Cette fonction va donc pour chaque contexte attendre la
     fin des tâches. Le problème vient peut-être du fait qu'elle est
     également appelé pour des processus SMPI.
     starpu_pthread_getspecific doit-elle être utilisé avec des
     process SMPI?

    - [ ] SegFault surf_resource_get_properties ring_async_implicit
***** MSG_host_self on SIMIX_process
****** Incorrect host value and argv:
      - Informations at the segfault:
        #+BEGIN_EXAMPLE
        #0  0x0000000000000000 in ?? ()
        #1  0x00007ffff74401d7 in surf_resource_get_properties (resource=0x7ffff6b11b78 <main_arena+88>)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surf_c_bindings.cpp:304
    --> #2  0x00007ffff73ab744 in SIMIX_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_host.c:189
        #3  0x00007ffff73becab in SIMIX_simcall_handle (simcall=0x8f4cf8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:189
        #4  0x00007ffff73a91d5 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
    --> #5  0x00007ffff752ef9f in smpi_main (realmain=0x40bcfe <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffda18)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
        #6  0x0000000000448dab in main (argc=8, argv=0x7fffffffda18) at ../../src/core/simgrid.c:197      
        #+END_EXAMPLE
        At this time no argv have been freed.
        This function was called in a simcall and we see that the
        problem happened before the simcall.
****** Incorrect value returned by MSG_host_self()
****** Before the simcall
        #+BEGIN_EXAMPLE
        Breakpoint 3, simcall_BODY_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
        105         smx_process_t self = SIMIX_process_self();
        (gdb) bt
        #0  simcall_BODY_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
        #1  0x00007ffff73a1ce2 in simcall_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:79
        #2  0x00007ffff7370962 in MSG_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:293
        #3  0x00007ffff737083b in MSG_host_get_property_value (host=0x7ffff6b11b78 <main_arena+88>, name=0x7ffff756f7b7 "data")
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:280
    --> #4  0x00007ffff7370115 in MSG_host_get_data (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:99
        #5  0x0000000000420a6e in starpu_pthread_getspecific (key=1) at ../../src/common/thread.c:205
        #6  0x0000000000462738 in _starpu_memory_node_get_local_key () at ../../src/datawizard/memory_nodes.c:70
        #7  0x000000000047793c in starpu_data_get_local_ptr (handle=0xb84200) at ../../src/datawizard/interfaces/data_interface.c:476
        #8  0x0000000000406d3b in _starpu_mpi_isend_size_func (req=0xb9e070) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:370
        #9  0x000000000040a05e in _starpu_mpi_handle_ready_request (req=0xb9e070) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1124
        #10 0x000000000040aed6 in _starpu_mpi_progress_thread_func (arg=0x8f5820) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1320
        #11 0x000000000040bcf7 in _starpu_mpi_initialize (argc=0x7ffff5dbdfbc, argv=0x7ffff5dbdfb0, initialize_mpi=1, comm=0x8f5660)
        at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1577
        #12 0x000000000040bd2c in _starpu_mpi_simgrid_init (argc=1, argv=0x8ec300) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1596
        #13 0x00007ffff73a5e6d in smx_ctx_raw_wrapper (context=0x8f4df0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388
        #14 0x0000000000000000 in ?? ()
        (gdb) p SIMIX_process_self()->pid
        $3 = 1
        #+END_EXAMPLE
****** MSG_host_self() is odd
       In gdb when I look the value returned by MSG_host_self() for
       the process of pid 1 I can see that it is not what we excepect.
        #+BEGIN_EXAMPLE
        #5  0x0000000000420a6e in starpu_pthread_getspecific (key=1) at ../../src/common/thread.c:205
        (gdb) p MSG_host_self()
        $7 = (struct s_xbt_dictelm *) 0x7ffff6b11b78 <main_arena+88>
        #+END_EXAMPLE
       Maybe it hasn't been set correctly.
****** Process 1 seems to be correctly created
       At the creation the host of the process 1 is correct.
        #+BEGIN_EXAMPLE
        Breakpoint 4, SIMIX_process_create (process=0x7fffffffd2d0, name=0x8f7450 "0", code=0x40bcfe <_starpu_mpi_simgrid_init>, data=0x8f67f0, hostname=0x8f98e0 "node-1.acme.org", 
        kill_time=-1, argc=3, argv=0x8ec300, properties=0x0, auto_restart=0, parent_process=0x8ec3c0)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:238
        238       *process = NULL;
        (gdb) p ((simdata_process_t*) process->data)->m_host
        $9 = (msg_host_t) 0x8f98e0
        (gdb) p process->pid
        $10 = 1
        (gdb) p &(((simdata_process_t*) process->data)->m_host)
        $12 = (msg_host_t *) 0x8eee90
        #+END_EXAMPLE
****** MSG_host_self doesn't work for SMPI process
      - It seems the value returned by MSG_host_self is incorrect
        because the current process is not at MSG process:
        #+BEGIN_EXAMPLE
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:241: [simix_process/DEBUG] Start process 0 on host 'node-1.acme.org'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:288: [simix_process/VERBOSE] Create context 0
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:305: [simix_process/DEBUG] Start context '0'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:309: [simix_process/DEBUG] Inserting 0(node-1.acme.org) in the to_run list
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:241: [simix_process/DEBUG] Start process 1 on host 'node-2.acme.org'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:288: [simix_process/VERBOSE] Create context 1
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:305: [simix_process/DEBUG] Start context '1'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:309: [simix_process/DEBUG] Inserting 1(node-2.acme.org) in the to_run list
        [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
        Breakpoint 1, SIMIX_process_yield (self=0x8f4c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:856
        856       XBT_DEBUG("Yield process '%s'", self->name);
        (gdb) p SIMIX_process_self()->data
        $8 = (void *) 0x8ef640
        (gdb) p ((simdata_process_t*) SIMIX_process_self()->data)->m_host
        $9 = (msg_host_t) 0x9817d0
        (gdb) p SIMIX_host_self()
        $10 = (struct s_xbt_dictelm *) 0x8eee90
        (gdb) p MSG_host_self()
        $11 = (struct s_xbt_dictelm *) 0x7ffff6b11b78 <main_arena+88>
        #+END_EXAMPLE
        If we use SIMIX_host_self() for SMPI process, it shouldn't be
        a problem.
****** Error in starpu_get_specific & starpu_set_specific 
      - Having replaced MSG_host_self by SIMIX_host_self -> still
        having a segfault:
        #+BEGIN_EXAMPLE
        Program received signal SIGTRAP, Trace/breakpoint trap.                                                                                                                            
        0x0000000005668860 in MSG_host_get_properties (host=0x0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:291                                       
        291       xbt_assert((host != NULL), "Invalid parameters (host is NULL)");                                                                                                         
        (gdb) bt                                                                                                                                                                           
        #0  0x0000000005668860 in MSG_host_get_properties (host=0x0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:291                                   
        #1  0x000000000566883b in MSG_host_get_property_value (host=0x0, name=0x58677b7 "data") at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:280        
        #2  0x0000000005668115 in MSG_host_get_data (host=0x0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:99                                          
        #3  0x0000000000420a1a in starpu_pthread_setspecific (key=2, pointer=0x97ee780) at ../../src/common/thread.c:195                                                                   
        #4  0x000000000042385b in _starpu_set_current_task (task=0x97ee780) at ../../src/core/task.c:1011                                                                                  
        #5  0x000000000049a2a8 in _starpu_handle_job_termination (j=0x97ef0a0) at ../../src/core/jobs.c:331                                                                                
        #6  0x0000000000446c31 in _starpu_repush_task (j=0x97ef0a0) at ../../src/core/sched_policy.c:410                                                                                   
        #7  0x0000000000446a13 in _starpu_push_task (j=0x97ef0a0) at ../../src/core/sched_policy.c:352
        #8  0x000000000049ad73 in _starpu_enforce_deps_starting_from_task (j=0x97ef0a0) at ../../src/core/jobs.c:596
        #9  0x000000000049c202 in _starpu_notify_cg (cg=0x97ef6e0) at ../../src/core/dependencies/cg.c:165
        #10 0x000000000049c409 in _starpu_notify_cg_list (successors=0x97ec098) at ../../src/core/dependencies/cg.c:214
        #11 0x0000000000435659 in _starpu_notify_task_dependencies (j=0x97ebf10) at ../../src/core/dependencies/task_deps.c:56
        #12 0x000000000049c6df in _starpu_notify_dependencies (j=0x97ebf10) at ../../src/core/dependencies/dependencies.c:33
        #13 0x000000000049a135 in _starpu_handle_job_termination (j=0x97ebf10) at ../../src/core/jobs.c:305
        #14 0x0000000000446c31 in _starpu_repush_task (j=0x97ebf10) at ../../src/core/sched_policy.c:410
        #15 0x0000000000446a13 in _starpu_push_task (j=0x97ebf10) at ../../src/core/sched_policy.c:352
        #16 0x000000000049ac18 in _starpu_enforce_deps_and_schedule (j=0x97ebf10) at ../../src/core/jobs.c:573
        #17 0x0000000000421bb1 in _starpu_submit_job (j=0x97ebf10) at ../../src/core/task.c:363
        #18 0x00000000004228cd in starpu_task_submit (task=0x97ebd40) at ../../src/core/task.c:664
        #19 0x0000000000422947 in _starpu_task_submit_internally (task=0x97ebd40) at ../../src/core/task.c:681
        #20 0x000000000043216c in _starpu_unlock_post_sync_tasks (handle=0x97d3610) at ../../src/core/dependencies/implicit_data_deps.c:518
        #21 0x00000000004735d4 in starpu_data_release_on_node (handle=0x97d3610, node=0) at ../../src/datawizard/user_interactions.c:345
        #22 0x0000000000473672 in starpu_data_release (handle=0x97d3610) at ../../src/datawizard/user_interactions.c:360
        #23 0x0000000000409589 in _starpu_mpi_handle_request_termination (req=0x97eb2a0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:939
        #24 0x0000000000409bbf in _starpu_mpi_test_detached_requests () at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1068
        #25 0x000000000040b01a in _starpu_mpi_progress_thread_func (arg=0x72523c0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1335
        #26 0x000000000040bcf7 in _starpu_mpi_initialize (argc=0x7a53fbc, argv=0x7a53fb0, initialize_mpi=1, comm=0x8257a50)
        at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1577
        #27 0x000000000040bd2c in _starpu_mpi_simgrid_init (argc=1, argv=0x7173790) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1596
        #28 0x000000000569de6d in smx_ctx_raw_wrapper (context=0x7173df0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388
        #29 0x0000000000000000 in ?? ()
        #+END_EXAMPLE
	
***** What
****** SegFault:
       Incorrect host value. On essaie de récupérer les propriétés
       d'un host qui n'est pas correct. Comment on se trouve à tapper dans la
       zone du main?
       #+BEGIN_EXAMPLE
       #1  0x00007ffff74401d7 in surf_resource_get_properties (resource=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surf_c_bindings.cpp:304
       #2  0x00007ffff73ab744 in SIMIX_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_host.c:189
       #3  0x00007ffff73becab in SIMIX_simcall_handle (simcall=0x8f4cc8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:189
       #4  0x00007ffff73a91d5 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
       #5  0x00007ffff752ef9f in smpi_main (realmain=0x40bcfe <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffe1e8) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
       #6  0x0000000000448dab in main (argc=7, argv=0x7fffffffe1e8) at ../../src/core/simgrid.c:197
       #+END_EXAMPLE
***** Who 
       Called by process of PID 1 so this a SMPI process.
       #+BEGIN_EXAMPLE
       #1  0x00007ffff74401d7 in surf_resource_get_properties (resource=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surf_c_bindings.cpp:304
       #2  0x00007ffff73ab744 in SIMIX_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_host.c:189
       #3  0x00007ffff73becab in SIMIX_simcall_handle (simcall=0x8f4cc8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:189
       #4  0x00007ffff73a91d5 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
       (gdb) p process->pid
       $50 = 1
       #+END_EXAMPLE
       
***** When
      #+BEGIN_EXAMPLE
      5       breakpoint     keep y   0x00007ffff73972ba in simcall_BODY_host_get_properties at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
        stop only if SIMIX_process_self() == 0x8f4c30
        breakpoint already hit 1 time

      #+END_EXAMPLE
      #+BEGIN_EXAMPLE
      #0  simcall_BODY_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
      #1  0x00007ffff73a1ce2 in simcall_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:79
      #2  0x00007ffff7370962 in MSG_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:293
      #3  0x00007ffff737083b in MSG_host_get_property_value (host=0x7ffff6b11b78 <main_arena+88>, name=0x7ffff756f7b7 "data") at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:280
      #4  0x00007ffff7370115 in MSG_host_get_data (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:99
      #5  0x0000000000420a6e in starpu_pthread_getspecific (key=1) at ../../src/common/thread.c:205
      #6  0x0000000000462738 in _starpu_memory_node_get_local_key () at ../../src/datawizard/memory_nodes.c:70
      #7  0x000000000047793c in starpu_data_get_local_ptr (handle=0xb841d0) at ../../src/datawizard/interfaces/data_interface.c:476
      #8  0x0000000000406d3b in _starpu_mpi_isend_size_func (req=0xb9e040) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:370
      #9  0x000000000040a05e in _starpu_mpi_handle_ready_request (req=0xb9e040) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1124
      #10 0x000000000040aed6 in _starpu_mpi_progress_thread_func (arg=0x8f57f0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1320
      #11 0x000000000040bcf7 in _starpu_mpi_initialize (argc=0x7ffff5dbdfbc, argv=0x7ffff5dbdfb0, initialize_mpi=1, comm=0x8f5630) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1577
      #12 0x000000000040bd2c in _starpu_mpi_simgrid_init (argc=1, argv=0x8ec2d0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1596
      #13 0x00007ffff73a5e6d in smx_ctx_raw_wrapper (context=0x8f4dc0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388

      #+END_EXAMPLE

      What is a RAM node?

      In fact this doesn't happen in when process 1 make a starpu_task_wait_for_all
     #+BEGIN_EXAMPLE
     Num     Type           Disp Enb Address            What
     2       breakpoint     keep y   0x00007ffff73972ba in simcall_BODY_host_get_properties at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
        stop only if SIMIX_process_self() == 0x8f4c30
        breakpoint already hit 1 time
     5       breakpoint     keep y   0x0000000000423084 in starpu_task_wait_for_all at ../../src/core/task.c:801
        breakpoint already hit 1 time
     #+END_EXAMPLE

      #+BEGIN_EXAMPLE
      Breakpoint 5, starpu_task_wait_for_all () at ../../src/core/task.c:801
      801             unsigned nsched_ctxs = _starpu_get_nsched_ctxs();
      1: SIMIX_process_self()->pid = 3
      (gdb) c
      Continuing.
      Warning: element with specified key does not exist ((null)|a10bd9c7)
      Element (null)|a10bd9c7 will take 0 seconds
      
      Breakpoint 2, simcall_BODY_host_get_properties (host=0x7ffff6b11b78 <main_arena+88>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:105
      105         smx_process_t self = SIMIX_process_self();
      1: SIMIX_process_self()->pid = 1

      #+END_EXAMPLE

      It is called at this moment
      #+BEGIN_EXAMPLE
      #0  starpu_pthread_getspecific (key=1) at ../../src/common/thread.c:205
      #1  0x0000000000462738 in _starpu_memory_node_get_local_key () at ../../src/datawizard/memory_nodes.c:70
      #2  0x000000000047793c in starpu_data_get_local_ptr (handle=0x7fffe4005300) at ../../src/datawizard/interfaces/data_interface.c:476
      #3  0x0000000000406d3b in _starpu_mpi_isend_size_func (req=0x7fffe4011be0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:370
      #4  0x000000000040a05e in _starpu_mpi_handle_ready_request (req=0x7fffe4011be0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1124
      #5  0x000000000040aed6 in _starpu_mpi_progress_thread_func (arg=0x7ffff00008c0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1321
      #6  0x000000000040bcf7 in _starpu_mpi_initialize (argc=0x7ffff5dbde7c, argv=0x7ffff5dbde70, initialize_mpi=1, comm=0x8f5b90)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1578
      #7  0x000000000040bd2c in _starpu_mpi_simgrid_init (argc=1, argv=0x8ec2d0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1597
      #8  0x00007ffff74a1ec2 in smx_ctx_thread_wrapper (param=0x8f4dd0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:169
      #9  0x00007ffff74a27e1 in wrapper_start_routine (s=0x8f4e90) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/xbt_os_thread.c:167
      #10 0x00007ffff6b1e354 in start_thread () from /usr/lib/libpthread.so.0
      #11 0x00007ffff685cbfd in clone () from /usr/lib/libc.so.6
      #+END_EXAMPLE

****** Last call _starpu_mpi_isend_irecv_common to
       It seems it is not the one we are looking for:
       #+BEGIN_EXAMPLE
       (gdb) p SIMIX_process_self()->pid
       $4 = 3
       #+END_EXAMPLE
      #+BEGIN_EXAMPLE
        breakpoint     keep y   0x00000000004066da in _starpu_mpi_isend_irecv_common at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:286
        stop only if func == _starpu_mpi_isend_size_func
        breakpoint already hit 4095 times
      #+END_EXAMPLE
      #+BEGIN_EXAMPLE
      Breakpoint 2, _starpu_mpi_isend_irecv_common (data_handle=0x7fffe4005300, srcdst=1, data_tag=4095, comm=0x8f5b90, detached=1, sync=0, callback=0x0, arg=0x0, 
      request_type=SEND_REQ, func=0x406c88 <_starpu_mpi_isend_size_func>, mode=STARPU_R, sequential_consistency=1, is_internal_req=0, count=0)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:286
      286             _STARPU_MPI_INC_POSTED_REQUESTS(1);
      (gdb) bt
      #0  _starpu_mpi_isend_irecv_common (data_handle=0x7fffe4005300, srcdst=1, data_tag=4095, comm=0x8f5b90, detached=1, sync=0, callback=0x0, arg=0x0, request_type=SEND_REQ, 
      func=0x406c88 <_starpu_mpi_isend_size_func>, mode=STARPU_R, sequential_consistency=1, is_internal_req=0, count=0)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:286
      #1  0x0000000000407141 in _starpu_mpi_isend_common (data_handle=0x7fffe4005300, dest=1, data_tag=4095, comm=0x8f5b90, detached=1, sync=0, callback=0x0, arg=0x0, 
      sequential_consistency=1) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:430
      #2  0x00000000004072d9 in starpu_mpi_isend_detached (data_handle=0x7fffe4005300, dest=1, data_tag=4095, comm=0x8f5b90, callback=0x0, arg=0x0)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:454
      #3  0x00000000004051ef in smpi_simulated_main_ (argc=1, argv=0x8ec2d0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async_implicit.c:114
      #4  0x00007ffff74a1ec2 in smx_ctx_thread_wrapper (param=0x8f6220) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:169
      #5  0x00007ffff74a27e1 in wrapper_start_routine (s=0x8f53b0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/xbt_os_thread.c:167
      #6  0x00007ffff6b1e354 in start_thread () from /usr/lib/libpthread.so.0
      #7  0x00007ffff685cbfd in clone () from /usr/lib/libc.so.6

      #+END_EXAMPLE
*** 2015-06-22 monday [0/1] 
**** TODO Compilation problem with libtcmalloc [0/1] : 
     If the libtcmalloc is installed, it will try to use this lib for
     linking but it fails for static as there is no .a.      
     Just removed it for now.
     This problem seems to happen on archlinux but on debian maybe because
     the arch version doesn't have .a.
     - [ ] Inform Samuel about this problem.
*** 2015-06-30 monday
**** SimGrid Route error:
     Plateform must be passed before the programm.
    
** 2015-07 July
*** 2015-07-01 wednesday [1/1]
    New start for the get/setspecific error
    Ce sont les processus SMPI qui executent
    _starpu_mpi_progress_thread_func.
    *[get/set]specific : attached a data to a thread ( privatisation )*

    Request processed by process 1 made the crash
**** How does StarPU SMPI works
     One process SMPI is created per node. Those process execute the
     _starpu_mpi_progress_thread_func function. I guess it is
     responsible for scheduling charge between nodes.
**** Searching [1/1]
***** Let it run untill it crashes
      - Debug
      #+BEGIN_EXAMPLE
      Warning: element with specified key does not exist ((null)|a10bd9c7)
      Element (null)|a10bd9c7 will take 0 seconds
      #+END_EXAMPLE

      - gdb
      #+BEGIN_EXAMPLE
      #0  0x00007ffff6b11c08 in main_arena () from /usr/lib/libc.so.6
      #1  0x00007ffff74401d7 in surf_resource_get_properties (resource=0x7ffff6b11c18 <main_arena+248>)
      at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/surf/surf_c_bindings.cpp:304
      #2  0x00007ffff73ab744 in SIMIX_host_get_properties (host=0x7ffff6b11c18 <main_arena+248>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_host.c:189
      #3  0x00007ffff73becab in SIMIX_simcall_handle (simcall=0x8f4cd8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:189
      #4  0x00007ffff73a91d5 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
      #5  0x00007ffff752ef9f in smpi_main (realmain=0x40bcfe <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffd978)
      at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
      #6  0x0000000000448dab in main (argc=8, argv=0x7fffffffd978) at ../../src/core/simgrid.c:197
      #+END_EXAMPLE
***** DONE Who is responsible for? [1/1]
     - [X]  Find where and when 1 did this
     Process of PID 1 (SMPI process) has emited a simcall simcall_host_get_properties.
     #+BEGIN_EXAMPLE
     #3  0x00007ffff73becab in SIMIX_simcall_handle (simcall=0x8f4cd8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:189
     189           simcall->result.dp = SIMIX_host_get_properties((smx_host_t) simcall->args[0].dp);
     (gdb) p simcall->issuer->pid
     $10 = 1
     #+END_EXAMPLE
***** When simcall_host_get_properties is called by process 1
      Process of PID 1 is handling a request which asked _starpu_mpi_isend_size_func
     - Breakpoint:
       #+BEGIN_EXAMPLE
       (gdb) info breakpoints 
       Num     Type           Disp Enb Address            What
       1       breakpoint     keep y   0x00007ffff73a1cd6 in simcall_host_get_properties at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:79
        stop only if SIMIX_process_self()->pid == 1
       #+END_EXAMPLE
     - Trace:
       #+BEGIN_EXAMPLE
       (gdb) bt
       #0  simcall_host_get_properties (host=0x7ffff6b11c18 <main_arena+248>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:79
       #1  0x00007ffff7370962 in MSG_host_get_properties (host=0x7ffff6b11c18 <main_arena+248>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:293
       #2  0x00007ffff737083b in MSG_host_get_property_value (host=0x7ffff6b11c18 <main_arena+248>, name=0x7ffff756f7b7 "data")
       at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:280
       #3  0x00007ffff7370115 in MSG_host_get_data (host=0x7ffff6b11c18 <main_arena+248>) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/msg/msg_host.c:99
       #4  0x0000000000420a6e in starpu_pthread_getspecific (key=1) at ../../src/common/thread.c:208
       #5  0x0000000000462738 in _starpu_memory_node_get_local_key () at ../../src/datawizard/memory_nodes.c:70
       #6  0x000000000047793c in starpu_data_get_local_ptr (handle=0x7fffe4005300) at ../../src/datawizard/interfaces/data_interface.c:476
  -->  #7  0x0000000000406d3b in _starpu_mpi_isend_size_func (req=0x7fffe4011be0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:370
       #8  0x000000000040a05e in _starpu_mpi_handle_ready_request (req=0x7fffe4011be0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1124
       #9  0x000000000040aed6 in _starpu_mpi_progress_thread_func (arg=0x7ffff00008c0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1321
       #10 0x000000000040bcf7 in _starpu_mpi_initialize (argc=0x7ffff5dbde7c, argv=0x7ffff5dbde70, initialize_mpi=1, comm=0x8f5bc0)
       at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1578
       #11 0x000000000040bd2c in _starpu_mpi_simgrid_init (argc=1, argv=0x8ec300) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1597
       #12 0x00007ffff74a1ec2 in smx_ctx_thread_wrapper (param=0x8f4e00) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:169
       #13 0x00007ffff74a27e1 in wrapper_start_routine (s=0x8f4ec0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/xbt_os_thread.c:167
       #14 0x00007ffff6b1e354 in start_thread () from /usr/lib/libpthread.so.0
       #15 0x00007ffff685cbfd in clone () from /usr/lib/libc.so.6
       #+END_EXAMPLE
***** Request info
      - Breakpoint:
        #+BEGIN_EXAMPLE
        4       breakpoint     keep y   0x00000000004075ef in _starpu_mpi_isend_size_func at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:359
        breakpoint already hit 1 time
        #+END_EXAMPLE
      - Infos:
        The process of rank 0 posted a send request to send to rank 1 and want to call _starpu_mpi_isend_size_func
        #+BEGIN_EXAMPLE
        (gdb) p req->node_tag 
        $6 = {comm = 0x8fd630, rank = 0, data_tag = 1}
        (gdb) p req->request_type 
        $7 = SEND_REQ
        (gdb) p req->func
        $15 = (void (*)(struct _starpu_mpi_req *)) 0x4075e2 <_starpu_mpi_isend_size_func>
        #+END_EXAMPLE
***** Responsible for this send request 
      - A process SMPI (of PID 3) has posted this request
        #+BEGIN_EXAMPLE
        Breakpoint 1, MPI_Comm_rank (comm=0x8fd630, rank=0x7ffff55baeb0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
        (gdb) up
        #1  0x000000000040c5ff in _starpu_mpi_progress_thread_func (arg=0x8fd860) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1245
        (gdb) n
        _starpu_mpi_progress_thread_func (arg=0x8fd860) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1246
        (gdb) p rank
        $1 = 1
        (gdb) p SIMIX_process_self()->pid
        $2 = 2
        #+END_EXAMPLE
***** The request was made by a call to _starpu_mpi_isend_irecv_common
      *Not sure this usefull*
      - Hit 8190 times before the SegFault :
        #+BEGIN_EXAMPLE
        breakpoint     keep y   0x0000000000406d58 in _starpu_mpi_isend_irecv_common at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:286
        breakpoint already hit 8190 times
        #+END_EXAMPLE

      #+BEGIN_EXAMPLE
      2       breakpoint     keep y   0x0000000000405205 in smpi_simulated_main_ at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async_implicit.c:114
        stop only if loop == 2047
        breakpoint already hit 1 time
      #+END_EXAMPLE
***** Tree call
      This is a tree of what are the calls _starpu_mpi_isend_size_func
      to which are interesting to us in this context
      (ring_async_implicit). Here starpu_mpi_isend_common can only be
      reached by a call to main in ring_async_implicit.c.
      - _starpu_mpi_isend_size_func
        - _starpu_mpi_isend_common
          - starpu_mpi_isend
            - starpu_mpi_send
              - starpu_mpi_get_data_on_node
          - _starpu_mpi_isend_detached
            - _SEND_DATA
            - starpu_mpi_get_data_on_node_detached
            - starpu_mpi_redux_data
            - *main ring_async_implicit.c*
          - starpu_mpi_issend
          - starpu_mpi_issend_detached
            - _SEND_DATA
    It seems that we are crashing at the end of the loop.
    #+BEGIN_EXAMPLE
    2       breakpoint     keep y   0x0000000000405205 in smpi_simulated_main_ at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async_implicit.c:114
        stop only if loop == 2047
        breakpoint already hit 1 time          
    #+END_EXAMPLE
***** Audit Trail
      setspecific and getspecific must not be based on host but on process.
**** What StarPU does
***** StarPU MPI     
     #+BEGIN_EXAMPLE
          STARPU_SCHED=dmda STARPU_GENERATE_TRACE=0 STARPU_NOPENCL=0 /usr/bin/mpirun -hostfile hostfile   /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit 
     #+END_EXAMPLE
     #+BEGIN_EXAMPLE
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-debug (-O0), and is thus not optimized
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-spinlock-check, which slows down a bit                                                                    
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-verbose, which slows down a bit                                                                           
     [starpu][starpu_initialize] Warning: StarPU was configured with --with-fxt, which slows down a bit                                                                                 
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-debug (-O0), and is thus not optimized                                                                    
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-spinlock-check, which slows down a bit                                                                    
     [starpu][starpu_initialize] Warning: StarPU was configured with --enable-verbose, which slows down a bit                                                                           
     [starpu][starpu_initialize] Warning: StarPU was configured with --with-fxt, which slows down a bit                                                                                 
     [starpu][load_bus_latency_file_content] loading latencies from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.latency              
     [starpu][load_bus_latency_file_content] loading latencies from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.latency              
     [starpu][load_bus_bandwidth_file_content] loading bandwidth from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.bandwidth          
     [starpu][load_bus_bandwidth_file_content] loading bandwidth from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.bandwidth          
     [starpu][_starpu_init_workers_binding] worker 0 type 0 devid 0 bound to cpu 0, STARPU memory node 0                                                                                
     [starpu][_starpu_init_workers_binding] worker 1 type 0 devid 1 bound to cpu 2, STARPU memory node 0                                                                                
     [starpu][_starpu_init_workers_binding] worker 0 type 0 devid 0 bound to cpu 0, STARPU memory node 0                                                                                
     [starpu][_starpu_init_workers_binding] worker 1 type 0 devid 1 bound to cpu 2, STARPU memory node 0                                                                                
     [starpu][load_sched_policy] Use dmda scheduler (data-aware performance model)                                                                                                      
     [starpu][_starpu_launch_drivers] initialising worker 0/2
     [starpu][load_sched_policy] Use dmda scheduler (data-aware performance model)
     [starpu][_starpu_launch_drivers] initialising worker 0/2
     [starpu][_starpu_driver_start] worker 0x6f7a00 0 for dev 0 is ready on logical cpu 0
     [starpu][_starpu_driver_start] worker 0x6f7a00 0 cpuset start at 0
     [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 3937492992
     [starpu][_starpu_launch_drivers] initialising worker 1/2
     [starpu][_starpu_driver_start] worker 0x6f7e00 1 for dev 1 is ready on logical cpu 2
     [starpu][_starpu_driver_start] worker 0x6f7e00 1 cpuset start at 2
     [starpu][_starpu_launch_drivers] waiting for worker 0 initialization
     [starpu][_starpu_launch_drivers] waiting for worker 1 initialization
     [starpu][_starpu_launch_drivers] finished launching drivers
     [starpu][starpu_initialize] Initialisation finished
     [starpu][_starpu_mpi_progress_thread_func] Calling MPI_Init_thread
     [starpu][_starpu_driver_start] worker 0x6f7a00 0 for dev 0 is ready on logical cpu 0
     [starpu][_starpu_driver_start] worker 0x6f7a00 0 cpuset start at 0
     [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 3937492992
     [starpu][_starpu_launch_drivers] initialising worker 1/2
     [starpu][_starpu_driver_start] worker 0x6f7e00 1 for dev 1 is ready on logical cpu 2
     [starpu][_starpu_driver_start] worker 0x6f7e00 1 cpuset start at 2
     [starpu][_starpu_launch_drivers] waiting for worker 0 initialization
     [starpu][_starpu_launch_drivers] waiting for worker 1 initialization
     [starpu][_starpu_launch_drivers] finished launching drivers
     [starpu][starpu_initialize] Initialisation finished
     [starpu][_starpu_mpi_progress_thread_func] Calling MPI_Init_thread
     [starpu][_starpu_mpi_print_thread_level_support] MPI_Init_thread level = MPI_THREAD_SERIALIZED; Multiple threads may make MPI calls, but only one at a time.
     [starpu][_starpu_mpi_print_thread_level_support] MPI_Init_thread level = MPI_THREAD_SERIALIZED; Multiple threads may make MPI calls, but only one at a time.
     [starpu][starpu_profiling_set_id] Set id to <1>
     [starpu][starpu_profiling_set_id] Set id to <0>
     Start with token value 0
     [starpu][starpu_task_wait_for_all] Waiting for tasks submitted to context 0
     Finished : token value 4096
     [starpu][starpu_task_wait_for_all] Waiting for tasks submitted to context 0
     [starpu][_starpu_deinitialize_registered_performance_models] FREE MODELS !
     [starpu][_starpu_terminate_workers] wait for worker 0
     [starpu][_starpu_terminate_workers] wait for worker 1
     [starpu][_starpu_barrier_destroy] reached_exit 0
     [starpu][_starpu_barrier_destroy] reached_exit 0
     [starpu][deinitialize_dmda_policy] total_task_cnt 2048 ready_task_cnt 2048 -> 100.000000
     [starpu][_starpu_deinitialize_registered_performance_models] FREE MODELS !
     [starpu][_starpu_terminate_workers] wait for worker 0
     [starpu][_starpu_terminate_workers] wait for worker 1
     [starpu][_starpu_barrier_destroy] reached_exit 0
     [starpu][_starpu_barrier_destroy] reached_exit 0
     [starpu][deinitialize_dmda_policy] total_task_cnt 2048 ready_task_cnt 2048 -> 100.000000
     Writing FxT traces into file archeon:/tmp/prof_file_steven_1
     Writing FxT traces into file archeon:/tmp/prof_file_steven_0
     [starpu][starpu_shutdown] Shutdown finished
[1] token = 4096 == 2048 * 2 ?
     [starpu][starpu_shutdown] Shutdown finished

     #+END_EXAMPLE
***** StarPU SMPI
      #+BEGIN_EXAMPLE
      STARPU_SCHED=dmda STARPU_GENERATE_TRACE=0 STARPU_NOPENCL=0 /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun -hostfile /home/steven/Programmation/TER/starpu-simgrid/src/starpu-mpi/hostfile  -platform /home/steven/Programmation/TER/starpu-simgrid/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml  /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/ring_async_implicit  --cfg=smpi/privatize_global_variables:yes
      #+END_EXAMPLE
      #+BEGIN_EXAMPLE
      [starpu][_starpu_mpi_initialize] Calling MPI_Init_thread
      [starpu][_starpu_mpi_initialize] Calling MPI_Init_thread
      [starpu][load_bus_latency_file_content] loading latencies from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.latency
      [starpu][load_bus_bandwidth_file_content] loading bandwidth from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.bandwidth
      [starpu][load_bus_latency_file_content] loading latencies from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.latency
      [starpu][load_bus_bandwidth_file_content] loading bandwidth from /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/tools/perfmodels/sampling//bus/mirage.bandwidth
      [starpu][_starpu_init_workers_binding] worker 0 type 1 devid 0 bound to cpu 0, STARPU memory node 1
      [starpu][_starpu_init_workers_binding] worker 1 type 0 devid 0 bound to cpu 0, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 2 type 0 devid 1 bound to cpu 1, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 3 type 0 devid 2 bound to cpu 2, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 0 type 1 devid 0 bound to cpu 0, STARPU memory node 1
      [starpu][_starpu_init_workers_binding] worker 1 type 0 devid 0 bound to cpu 0, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 2 type 0 devid 1 bound to cpu 1, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 3 type 0 devid 2 bound to cpu 2, STARPU memory node 0
      [starpu][load_sched_policy] Use dmda scheduler (data-aware performance model)
      [starpu][load_sched_policy] Use dmda scheduler (data-aware performance model)
      [starpu][_starpu_launch_drivers] initialising worker 0/4
      [starpu][_starpu_launch_drivers] initialising worker 0/4
      [starpu][_starpu_driver_start] worker 0x6e82b0 0 for dev 0 is ready on logical cpu 0
      [starpu][_starpu_driver_start] worker 0x6e82b0 0 for dev 0 is ready on logical cpu 0
      [starpu][_starpu_cuda_limit_gpu_mem_if_needed] CUDA device 0: Wasting 0 MB / Limit 459 MB / Total 511 MB / Remains 511 MB
      [starpu][_starpu_cuda_limit_gpu_mem_if_needed] CUDA device 0: Wasting 0 MB / Limit 459 MB / Total 511 MB / Remains 511 MB
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 1 is 481296384
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 1 is 481296384
      [starpu][_starpu_cuda_driver_init] cuda (Simgrid) dev id 0 worker 0 thread is ready to run on CPU 0 !
      [starpu][_starpu_cuda_driver_init] cuda (Simgrid) dev id 0 worker 0 thread is ready to run on CPU 0 !
      [starpu][_starpu_launch_drivers] initialising worker 1/4
      [starpu][_starpu_launch_drivers] initialising worker 1/4
      [starpu][_starpu_driver_start] worker 0x6e8570 1 for dev 0 is ready on logical cpu 0
      [starpu][_starpu_driver_start] worker 0x6e8570 1 for dev 0 is ready on logical cpu 0
      [starpu][_starpu_launch_drivers] initialising worker 2/4
      [starpu][_starpu_launch_drivers] initialising worker 2/4
      [starpu][_starpu_driver_start] worker 0x6e8830 2 for dev 1 is ready on logical cpu 1
      [starpu][_starpu_driver_start] worker 0x6e8830 2 for dev 1 is ready on logical cpu 1
      [starpu][_starpu_launch_drivers] initialising worker 3/4
      [starpu][_starpu_launch_drivers] initialising worker 3/4
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_driver_start] worker 0x6e8af0 3 for dev 2 is ready on logical cpu 2
      [starpu][_starpu_driver_start] worker 0x6e8af0 3 for dev 2 is ready on logical cpu 2
      [starpu][_starpu_launch_drivers] waiting for worker 1 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 1 initialization
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_launch_drivers] waiting for worker 2 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 2 initialization
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 0
      [starpu][_starpu_launch_drivers] waiting for worker 3 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 3 initialization
      [starpu][_starpu_launch_drivers] finished launching drivers
      [starpu][_starpu_launch_drivers] finished launching drivers
      [starpu][starpu_initialize] Initialisation finished
      [starpu][starpu_initialize] Initialisation finished
      Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileStart with token value 0
      [starpu][starpu_task_wait_for_all] Waiting for tasks submitted to context 0
      Warning: element with specified key does not exist ((null)|a10bd9c7)
      Element (null)|a10bd9c7 will take 0 seconds
      Segmentation fault.
      /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun : ligne 461 :  6824 Erreur de segmentation  (core dumped)${EXEC} ${TRACEOPTIONS} ${SIMOPTS} ${PLATFORMTMP} ${APPLICATIONTMP}
      #+END_EXAMPLE
*** TODO 2015-07-02 Thursday [0/1]
    - [ ] Update StarPU
*** DONE 2015-07-03 Friday [1/1]
    We call MPI_Init for the first time I try to see if it was
    already called. But privatisation has not been activated
    yet. Maybe that's the problem.
    
      #+BEGIN_EXAMPLE
      Program received signal SIGSEGV, Segmentation fault.
      0x000000000040c67d in _starpu_mpi_progress_thread_func (arg=0xb8c660) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1254
      warning: Source file is more recent than executable.
      1254            MSG_process_create_with_arguments("main", smpi_simulated_main_, NULL, _starpu_simgrid_get_host_by_name("MAIN"), *(argc_argv->argc), *(argc_argv->argv));
      (gdb) bt
      #0  0x000000000040c67d in _starpu_mpi_progress_thread_func (arg=0xb8c660) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1254
      #1  0x000000000040e0b9 in _starpu_mpi_initialize (argc=0x0, argv=0x0, initialize_mpi=0, comm=0x8fd630)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1578
      #2  0x000000000040e11e in starpu_mpi_init_comm (argc=0x0, argv=0x0, initialize_mpi=0, comm=0x8fd630)
      at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1604
      #3  0x000000000040e14d in starpu_mpi_init (argc=0x0, argv=0x0, initialize_mpi=0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/src/starpu_mpi.c:1615
      #4  0x00000000004050d1 in smpi_simulated_main_ (argc=1, argv=0x8f42d0) at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async.c:81
      #5  0x00007ffff73a5e6d in smx_ctx_raw_wrapper (context=0x8f7800) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388
      #6  0x0000000000000000 in ?? ()
      (gdb) 

      #+END_EXAMPLE

      - [X] Did we really need to modify smpi_process_initialized?
*** TODO 2015-07-06 Monday [0/1]
    - [ ] Argv should be a copy.
      Is it really necessary? Because the parent doesn't modify it, it
      use it just to initialize the process SMPI and create a MSG
      process.
**** Invalid Read smpi_process_index
***** Valgrind
       #+BEGIN_EXAMPLE
       ==9175== Invalid read of size 4
       ==9175==    at 0x58258CF: smpi_process_index (smpi_global.c:254)
       ==9175==    by 0x5825622: smpi_process_initialized (smpi_global.c:181)
       ==9175==    by 0x583D57D: PMPI_Initialized (smpi_pmpi.c:2597)
       ==9175==    by 0x5829BCD: MPI_Initialized (smpi_mpi.c:822)
       ==9175==    by 0x5834723: PMPI_Init (smpi_pmpi.c:30)
       ==9175==    by 0x5827C17: MPI_Init (smpi_mpi.c:18)
       ==9175==    by 0x5834A96: PMPI_Init_thread (smpi_pmpi.c:90)
       ==9175==    by 0x5827C6C: MPI_Init_thread (smpi_mpi.c:33)
       ==9175==    by 0x40DD2C: _starpu_mpi_initialize (starpu_mpi.c:1535)
       ==9175==    by 0x40E0A9: _starpu_mpi_simgrid_init (starpu_mpi.c:1597)
       ==9175==    by 0x569DE6C: smx_ctx_raw_wrapper (smx_context_raw.c:388)
       ==9175==  Address 0x7a54808 is 24 bytes after a block of size 64 in arena "client"
       #+END_EXAMPLE
***** Which process
       #+BEGIN_EXAMPLE
       0x00000000058258cf in smpi_process_index () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:254
       254       return data ? data->index : MPI_UNDEFINED;
       (gdb) p SIMIX_process_self()->pid
       $39 = 2
       #+END_EXAMPLE
***** Address of data->index at the initialisation of process 2
       #+BEGIN_EXAMPLE
       Breakpoint 2, smpi_process_init (argc=0x7ffff55bafbc, argv=0x7ffff55bafb0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:75
       75        int index=-1;
       (gdb) p &(data->index)
       $37 = (int *) 0x8fd398
       (gdb) p SIMIX_process_self()->pid
       $38 = 2
       #+END_EXAMPLE
      - Wrong value returned by smpi_process_data?
      - Is data still correct? 
        Check at the initialization
        #+BEGIN_EXAMPLE
        $2 = (smpi_process_data_t) 0x8fd340
        (gdb) p &data
        #+END_EXAMPLE
        
*** TODO 2015-07-07 Tuesday [0/2]
    - [ ] Insure that the modification for MPI_Init is correct
    - [ ] Maybe find why MSG_host_get_data doesn't work with an SMPI process?

*** DONE 2015-07-09 Thursday [1/1]
      
**** DONE set_specific get_specific [2/2]
     Those function are based on host's data but must be instead based
     on process_data.
     - [X] Rename simdata_process_t in msg_process_data_t

     - [X] Look for set bidoule maybe in MSG_process_create or
       something like that. 
       MSG_host_set_data is called in _starpu_simgrid_init.
       The host data is initialized like follow:
       #+begin_src C :results output :session :exports both
         int nb = xbt_dynar_length(hosts);
         for (i = 0; i < nb; i++)
           MSG_host_set_data(xbt_dynar_get_as(hosts, i, msg_host_t), calloc(MAX_TSD, sizeof(void*)));
           
         xbt_dynar_free(&hosts);         
       #+end_src
       
       En fait ce qu'on a essayé de faire avec set/get_specific n'est
       peut-être pas correct parce que setspecific est utilisé pour
       crée une clé au niveau d'un noeud.
       #+begin_src C :results output :session :exports both
       _starpu_memory_node_set_local_key(&worker->memory_node); 
       #+end_src

* Changes
  work in progress
** SimGrid
*** Initialization 
*** Segment data management
*** Delete shared argv context only one time 
    To avoid the double free of a shared argv, we just set to NULL
    after freeing and check if it has already been freed before freeing.
*** Many call to MPI_Init
    In order to be able to call MPI_Init multiple by a same process,
    now we just check if the smpi process was already initialized by
    call MPI_Initialized and skipping this initialization if it has
    already been done.  
*** Rename simdata_process_t in msg_process_data_t    
** StarPU
*** Initialization 
*** Many call to MPI_Init.
    Skip the assert insuring that MPI_Init should be done by
    implicitly by StarPU.

* Experiments
** TODO [1/3]
   - [X] Prepare all I need for test and check all is ok [3/3]
     - [X] Tracing
     - [X] Script for real systems and simulations
     - [X] Preparing environment
       - [X] Fxt install script
       - [ ] Nodes' config
   - [ ] Test on Grid5K
   - [ ] Test with SimGrid
** Real
*** Clusters with GPU
    - Adonis Grenoble
*** 2015-06-25 Thursday
**** Installation StarPU
***** hwloc error
     Error during the configure, hwloc wasn't found but it has already
     been installed.
     #+BEGIN_EXAMPLE
     configure: WARNING: Old FxT without fxt.pc file, hoping link will succeed
     configure: WARNING: GCC plug-ins not supported; StarPU's GCC plug-in will not be built
     ../configure: line 32672: test: argument expected
     configure: error: hwloc was not found on your system. If the target machine is hyperthreaded the performance may be impacted a lot.  It is strongly recommended to install hwloc. However, if you really want to use StarPU without enabling hwloc, please restart configure by specifying the option '--without-hwloc'.
     make: *** No targets specified and no makefile found.  Stop.
     make: *** No rule to make target `install'.  Stop.
     #+END_EXAMPLE
***** SegFault
      It seems to a problem with environment vars.
      #+BEGIN_EXAMPLE
      STARPU_SCHED=dmda STARPU_GENERATE_TRACE=1 STARPU_NOPENCL=0 /usr/bin/mpirun -hostfile /root/experiments/hostfile  /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit  
      [starpu][starpu_initialize] Warning: StarPU was configured with --enable-debug (-O0), and is thus not optimized
      [starpu][starpu_initialize] Warning: StarPU was configured with --enable-spinlock-check, which slows down a bit
      [starpu][starpu_initialize] Warning: StarPU was configured with --with-fxt, which slows down a bit
      [adonis-9:00974] *** Process received signal ***
      [adonis-9:00974] Signal: Segmentation fault (11)
      [adonis-9:00974] Signal code: Address not mapped (1)
      [adonis-9:00974] Failing at address: 0x170
      [adonis-9:00974] [ 0] /lib/x86_64-linux-gnu/libpthread.so.0(+0xf0a0) [0x7f3194e220a0]
      [adonis-9:00974] [ 1] /lib/x86_64-linux-gnu/libc.so.6(getenv+0x90) [0x7f319448d130]
      [adonis-9:00974] [ 2] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit() [0x483994]
      [adonis-9:00974] [ 3] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit() [0x483a39]
      [adonis-9:00974] [ 4] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit(starpu_memchunk_tidy+0x43) [0x486360]
      [adonis-9:00974] [ 5] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit(__starpu_datawizard_progress+0xa0) [0x47ecfa]
      [adonis-9:00974] [ 6] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit(_starpu_cuda_driver_run_once+0x6b7) [0x4b638f]
      [adonis-9:00974] [ 7] /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit(_starpu_cuda_worker+0x33) [0x4b668c]
      [adonis-9:00974] [ 8] /lib/x86_64-linux-gnu/libpthread.so.0(+0x6b50) [0x7f3194e19b50]
      [adonis-9:00974] [ 9] /lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7f319453295d]
      [adonis-9:00974] *** End of error message ***
      --------------------------------------------------------------------------
      mpirun noticed that process rank 0 with PID 974 on node adonis-9.grenoble.grid5000.fr exited on signal 11 (Segmentation fault).
      #+END_EXAMPLE

      Strange thing, the name passed to the function was truncated
      #+BEGIN_EXAMPLE
      #1  0x0000000000485dd0 in starpu_get_env_number (str=0x4e7390 "STARPU_TARGET_AVAILABLE_MEM") at ../../include/starpu_util.h:236 
      236             strval = getenv(str);

      #0  *__GI_getenv (name=0x4e7392 "ARPU_TARGET_AVAILABLE_MEM") at getenv.c:84 
      84      getenv.c: No such file or directory.
      (gdb) p name    
 -->  $1 = 0x4e7392 "ARPU_TARGET_AVAILABLE_MEM"
      (gdb) p (char*)0x4e7390
 -->  *$2 = 0x4e7390 "STARPU_TARGET_AVAILABLE_MEM"
      #+END_EXAMPLE

      #+BEGIN_EXAMPLE
      STARPU_SCHED=dmda STARPU_GENERATE_TRACE=1 STARPU_NOPENCL=0 /usr/bin/mpirun -hostfile /root/experiments/hostfile valgrind --db-attach=yes  /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit 
      ==30979== Memcheck, a memory error detector
      ==30979== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
      ==30979== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
      ==30979== Command: /root/experiments/src/StarPU/StarPU-MPI/mpi/tests/ring_async_implicit
      ==30979== 
      [starpu][starpu_initialize] Warning: StarPU was configured with --enable-debug (-O0), and is thus not optimized
      [starpu][starpu_initialize] Warning: StarPU was configured with --enable-spinlock-check, which slows down a bit
      [starpu][starpu_initialize] Warning: StarPU was configured with --enable-verbose, which slows down a bit
      [starpu][starpu_initialize] Warning: StarPU was configured with --with-fxt, which slows down a bit
      [starpu][load_bus_affinity_file_content] loading affinities from /root/experiments/src/StarPU/tools/perfmodels/sampling//bus/mirage.affinity
      [starpu][load_bus_latency_file_content] loading latencies from /root/experiments/src/StarPU/tools/perfmodels/sampling//bus/mirage.latency
      ==30979== Conditional jump or move depends on uninitialised value(s)
      ==30979==    at 0xB463BE1: __GI___strncasecmp_l (strcmp.S:243)
      ==30979==    by 0xB419FE3: ____strtod_l_internal (strtod_l.c:585)
      ==30979==    by 0xB42F16D: _IO_vfscanf (vfscanf.c:2351)
      ==30979==    by 0xB4349B7: fscanf (fscanf.c:32)
      ==30979==    by 0x462875: _starpu_read_double (perfmodel_nan.c:79)
      ==30979==    by 0x45E95F: load_bus_latency_file_content (perfmodel_bus.c:1033)
      ==30979==    by 0x45EFDC: load_bus_latency_file (perfmodel_bus.c:1211)
      ==30979==    by 0x460AF3: _starpu_load_bus_performance_files (perfmodel_bus.c:2420)
      ==30979==    by 0x441CCC: starpu_initialize (workers.c:1247)
      ==30979==    by 0x4418D0: starpu_init (workers.c:1104)
      ==30979==    by 0x418EC6: main (ring_async_implicit.c:65)
      ==30903== 
      ==30903== 
      ==30903== ---- Attach to debugger ? --- [Return/N/n/Y/y/C/c] ---- c
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0xB466107: __GI___strncasecmp_l (strcmp.S:2255)
      ==30903==    by 0xB419FE3: ____strtod_l_internal (strtod_l.c:585)
      ==30903==    by 0xB42F16D: _IO_vfscanf (vfscanf.c:2351)
      ==30903==    by 0xB4349B7: fscanf (fscanf.c:32)
      ==30903==    by 0x462875: _starpu_read_double (perfmodel_nan.c:79)
      ==30903==    by 0x45E95F: load_bus_latency_file_content (perfmodel_bus.c:1033)
      ==30903==    by 0x45EFDC: load_bus_latency_file (perfmodel_bus.c:1211)
      ==30903==    by 0x460AF3: _starpu_load_bus_performance_files (perfmodel_bus.c:2420)
      ==30903==    by 0x441CCC: starpu_initialize (workers.c:1247)
      ==30903==    by 0x4418D0: starpu_init (workers.c:1104)
      ==30903==    by 0x418EC6: main (ring_async_implicit.c:65)
      ==30903== 
      [starpu][load_bus_bandwidth_file_content] loading bandwidth from /root/experiments/src/StarPU/tools/perfmodels/sampling//bus/mirage.bandwidth
      [starpu][_starpu_init_workers_binding] worker 0 type 1 devid 0 bound to cpu 4, STARPU memory node 1
      [starpu][_starpu_init_workers_binding] worker 1 type 1 devid 1 bound to cpu 0, STARPU memory node 2
      [starpu][_starpu_init_workers_binding] worker 2 type 0 devid 0 bound to cpu 2, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 3 type 0 devid 1 bound to cpu 3, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 4 type 0 devid 2 bound to cpu 1, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 5 type 0 devid 3 bound to cpu 5, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 6 type 0 devid 4 bound to cpu 6, STARPU memory node 0
      [starpu][_starpu_init_workers_binding] worker 7 type 0 devid 5 bound to cpu 7, STARPU memory node 0
      [starpu][load_sched_policy] Use dmda scheduler (data-aware performance model)
      [starpu][_starpu_launch_drivers] initialising worker 0/8
      [starpu][_starpu_driver_start] worker 0x717040 0 for dev 0 is ready on logical cpu 4
      [starpu][_starpu_driver_start] worker 0x717040 0 cpuset start at 4
      [starpu][_starpu_cuda_limit_gpu_mem_if_needed] CUDA device 0: Wasting 410 MB / Limit 3685 MB / Total 4095 MB / Remains 3685 MB
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 1 is 3864002560
      [starpu][_starpu_cuda_driver_init] cuda (Tesla T10 Processor) dev id 0 worker 0 thread is ready to run on CPU 4 !
      [starpu][_starpu_launch_drivers] initialising worker 1/8
      [starpu][_starpu_driver_start] worker 0x717440 1 for dev 1 is ready on logical cpu 0
      [starpu][_starpu_driver_start] worker 0x717440 1 cpuset start at 0
      [starpu][_starpu_cuda_limit_gpu_mem_if_needed] CUDA device 1: Wasting 410 MB / Limit 3685 MB / Total 4095 MB / Remains 3685 MB
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 2 is 3864002560
      [starpu][_starpu_cuda_driver_init] cuda (Tesla T10 Processor) dev id 1 worker 0 thread is ready to run on CPU 0 !
      [starpu][_starpu_launch_drivers] initialising worker 2/8
      [starpu][_starpu_driver_start] worker 0x717840 2 for dev 0 is ready on logical cpu 2
      [starpu][_starpu_driver_start] worker 0x717840 2 cpuset start at 2
      [starpu][_starpu_memory_manager_set_global_memory_size] Global size for node 0 is 25760276480
      [starpu][_starpu_launch_drivers] initialising worker 3/8
      [starpu][_starpu_driver_start] worker 0x717c40 3 for dev 1 is ready on logical cpu 3
      [starpu][_starpu_driver_start] worker 0x717c40 3 cpuset start at 3
      [starpu][_starpu_launch_drivers] initialising worker 4/8
      [starpu][_starpu_driver_start] worker 0x718040 4 for dev 2 is ready on logical cpu 1
      [starpu][_starpu_driver_start] worker 0x718040 4 cpuset start at 1
      [starpu][_starpu_launch_drivers] initialising worker 5/8
      [starpu][_starpu_driver_start] worker 0x718440 5 for dev 3 is ready on logical cpu 5
      [starpu][_starpu_driver_start] worker 0x718440 5 cpuset start at 5
      [starpu][_starpu_launch_drivers] initialising worker 6/8
      [starpu][_starpu_driver_start] worker 0x718840 6 for dev 4 is ready on logical cpu 6
      [starpu][_starpu_driver_start] worker 0x718840 6 cpuset start at 6
      [starpu][_starpu_launch_drivers] initialising worker 7/8
      [starpu][_starpu_driver_start] worker 0x718c40 7 for dev 5 is ready on logical cpu 7
      [starpu][_starpu_driver_start] worker 0x718c40 7 cpuset start at 7
      [starpu][_starpu_launch_drivers] waiting for worker 2 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 3 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 4 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 5 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 6 initialization
      [starpu][_starpu_launch_drivers] waiting for worker 7 initialization
      [starpu][_starpu_launch_drivers] finished launching drivers
      [starpu][starpu_initialize] Initialisation finished
      [starpu][_starpu_mpi_progress_thread_func] Calling MPI_Init_thread
      ==30903== Thread 12:
      ==30903== Invalid read of size 8
      ==30903==    at 0xB46683D: _wordcopy_fwd_dest_aligned (wordcopy.c:205)
      ==30903==    by 0xB4604DE: __GI_memmove (memmove.c:76)
      ==30903==    by 0xB467AEB: argz_insert (argz-insert.c:55)
      ==30903==    by 0x564D595: lt_argz_insert (ltdl.c:1683)
      ==30903==    by 0x564DEA8: foreachfile_callback (ltdl.c:1722)
      ==30903==    by 0x564DB85: foreach_dirinpath (ltdl.c:710)
      ==30903==    by 0x564DC30: lt_dlforeachfile (ltdl.c:1869)
      ==30903==    by 0x5654FFD: mca_base_component_find (mca_base_component_find.c:281)
      ==30903==    by 0x5655BD0: mca_base_components_open (mca_base_components_open.c:129)
      ==30903==    by 0x5671174: opal_paffinity_base_open (paffinity_base_open.c:107)
      ==30903==    by 0x56467DE: opal_init (opal_init.c:292)
      ==30903==    by 0x53F5A3C: orte_init (orte_init.c:76)
      ==30903==  Address 0x18d7e058 is 40 bytes inside a block of size 43 alloc'd
      ==30903==    at 0x4C28BED: malloc (vg_replace_malloc.c:263)
      ==30903==    by 0x564C6D8: lt__malloc (lt__alloc.c:54)
      ==30903==    by 0x564DE21: foreachfile_callback (ltdl.c:1768)
      ==30903==    by 0x564DB85: foreach_dirinpath (ltdl.c:710)
      ==30903==    by 0x564DC30: lt_dlforeachfile (ltdl.c:1869)
      ==30903==    by 0x5654FFD: mca_base_component_find (mca_base_component_find.c:281)
      ==30903==    by 0x5655BD0: mca_base_components_open (mca_base_components_open.c:129)
      ==30903==    by 0x5671174: opal_paffinity_base_open (paffinity_base_open.c:107)
      ==30903==    by 0x56467DE: opal_init (opal_init.c:292)
      ==30903==    by 0x53F5A3C: orte_init (orte_init.c:76)
      ==30903==    by 0x516ED46: ompi_mpi_init (ompi_mpi_init.c:344)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Syscall param sched_setaffinity(mask) points to unaddressable byte(s)
      ==30903==    at 0xB4B61D9: syscall (syscall.S:39)
      ==30903==    by 0x1C6455D5: opal_paffinity_linux_plpa_api_probe_init (plpa_api_probe.c:56)
      ==30903==    by 0x1C6459A4: opal_paffinity_linux_plpa_init (plpa_runtime.c:37)
      ==30903==    by 0x1C646369: opal_paffinity_linux_plpa_have_topology_information (plpa_map.c:494)
      ==30903==    by 0x1C64545F: linux_module_init (paffinity_linux_module.c:119)
      ==30903==    by 0x56710FA: opal_paffinity_base_select (paffinity_base_select.c:64)
      ==30903==    by 0x5646824: opal_init (opal_init.c:296)
      ==30903==    by 0x53F5A3C: orte_init (orte_init.c:76)
      ==30903==    by 0x516ED46: ompi_mpi_init (ompi_mpi_init.c:344)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
      ==30903== 
      [adonis-2.grenoble.grid5000.fr:30903] Error in mx_init (error No MX device entry in /dev.)
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC3630: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0A90D: ibv_open_device@@IBVERBS_1.1 (device.c:144)
      ==30903==    by 0x208FF42F: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FF605: rdma_create_event_channel (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B1CF: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:244)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903== 
      ==30903== Use of uninitialised value of size 8
      ==30903==    at 0xB420EBB: _itoa_word (_itoa.c:195)
      ==30903==    by 0xB422F96: vfprintf (vfprintf.c:1628)
      ==30903==    by 0xB449511: vsnprintf (vsnprintf.c:120)
      ==30903==    by 0xB42C302: snprintf (snprintf.c:35)
      ==30903==    by 0x1FEC4AB0: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x208FF3C4: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FF605: rdma_create_event_channel (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B1CF: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:244)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0xB420EC5: _itoa_word (_itoa.c:195)
      ==30903==    by 0xB422F96: vfprintf (vfprintf.c:1628)
      ==30903==    by 0xB449511: vsnprintf (vsnprintf.c:120)
      ==30903==    by 0xB42C302: snprintf (snprintf.c:35)
      ==30903==    by 0x1FEC4AB0: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x208FF3C4: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FF605: rdma_create_event_channel (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B1CF: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:244)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FF9C6: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B2BE: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:260)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==  Address 0x1c64268c is on thread 12's stack
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FEB1F: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x2090018D: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B396: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:300)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==  Address 0x1c642660 is on thread 12's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20900192: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B396: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:300)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x209001C1: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B396: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:300)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FE7C2: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B2BE: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:260)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==  Address 0x1c642550 is on thread 12's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE819: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B2BE: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:260)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE8DD: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B2BE: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:260)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE609: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FE8EA: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2B2BE: mca_btl_openib_build_rdma_addr_list (btl_openib_iwarp.c:260)
      ==30903==    by 0x20D2DE99: rdmacm_component_init (btl_openib_connect_rdmacm.c:2009)
      ==30903==    by 0x20D2BC00: ompi_btl_openib_connect_base_init (btl_openib_connect_base.c:214)
      ==30903==    by 0x20D1C964: btl_openib_component_init (btl_openib_component.c:2355)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC3630: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0A90D: ibv_open_device@@IBVERBS_1.1 (device.c:144)
      ==30903==    by 0x20D1B555: init_one_device (btl_openib_component.c:1494)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1B732: init_one_device (btl_openib_component.c:1114)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1B74C: init_one_device (btl_openib_component.c:1114)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1B96F: init_one_device (btl_openib_component.c:1516)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D28D60: ompi_btl_openib_ini_query (btl_openib_ini.c:176)
      ==30903==    by 0x20D1B98D: init_one_device (btl_openib_component.c:1525)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D28D66: ompi_btl_openib_ini_query (btl_openib_ini.c:177)
      ==30903==    by 0x20D1B98D: init_one_device (btl_openib_component.c:1525)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1BB81: init_one_device (btl_openib_component.c:1736)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1BB90: init_one_device (btl_openib_component.c:1741)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1AD34: init_one_port (btl_openib_component.c:640)
      ==30903==    by 0x20D1C1C9: init_one_device (btl_openib_component.c:1749)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1AD85: init_one_port (btl_openib_component.c:660)
      ==30903==    by 0x20D1C1C9: init_one_device (btl_openib_component.c:1749)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Use of uninitialised value of size 8
      ==30903==    at 0xB420EBB: _itoa_word (_itoa.c:195)
      ==30903==    by 0xB422F96: vfprintf (vfprintf.c:1628)
      ==30903==    by 0xB447998: vsprintf (iovsprintf.c:43)
      ==30903==    by 0xB42C397: sprintf (sprintf.c:34)
      ==30903==    by 0x20D1B021: init_one_port (btl_openib_component.c:705)
      ==30903==    by 0x20D1C1C9: init_one_device (btl_openib_component.c:1749)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0xB420EC5: _itoa_word (_itoa.c:195)
      ==30903==    by 0xB422F96: vfprintf (vfprintf.c:1628)
      ==30903==    by 0xB447998: vsprintf (iovsprintf.c:43)
      ==30903==    by 0xB42C397: sprintf (sprintf.c:34)
      ==30903==    by 0x20D1B021: init_one_port (btl_openib_component.c:705)
      ==30903==    by 0x20D1C1C9: init_one_device (btl_openib_component.c:1749)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1B210: init_one_port (btl_openib_component.c:661)
      ==30903==    by 0x20D1C1C9: init_one_device (btl_openib_component.c:1749)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D1BB4C: init_one_device (btl_openib_component.c:1727)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FF9C6: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D306E1: rdmacm_component_query (btl_openib_connect_rdmacm.c:1859)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==  Address 0x1c6426ac is on thread 12's stack
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FE7C2: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D306E1: rdmacm_component_query (btl_openib_connect_rdmacm.c:1859)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==  Address 0x1c642570 is on thread 12's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE819: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D306E1: rdmacm_component_query (btl_openib_connect_rdmacm.c:1859)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE8DD: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFA0F: rdma_bind_addr (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D306E1: rdmacm_component_query (btl_openib_connect_rdmacm.c:1859)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D2B035: mca_btl_openib_rdma_get_ipv4addr (btl_openib_iwarp.c:134)
      ==30903==    by 0x20D30753: rdmacm_component_query (btl_openib_connect_rdmacm.c:1703)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FFD8E: rdma_listen (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D30942: rdmacm_component_query (btl_openib_connect_rdmacm.c:1881)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==  Address 0x1c6426b8 is on thread 12's stack
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FE7C2: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFDC6: rdma_listen (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D30942: rdmacm_component_query (btl_openib_connect_rdmacm.c:1881)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==  Address 0x1c6425a0 is on thread 12's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE819: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFDC6: rdma_listen (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D30942: rdmacm_component_query (btl_openib_connect_rdmacm.c:1881)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x208FE8DD: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x208FFDC6: rdma_listen (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D30942: rdmacm_component_query (btl_openib_connect_rdmacm.c:1881)
      ==30903==    by 0x20D2BE17: ompi_btl_openib_connect_base_select_for_local_port (btl_openib_connect_base.c:265)
      ==30903==    by 0x20D1DA77: btl_openib_component_init (btl_openib_component.c:2665)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20D1A6C3: prepare_device_for_use (btl_openib_component.c:951)
      ==30903==    by 0x20D1DF02: btl_openib_component_init (btl_openib_component.c:2708)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==  Address 0x1f09fc9c is 268 bytes inside a block of size 4,576 alloc'd
      ==30903==    at 0x4C272B8: calloc (vg_replace_malloc.c:566)
      ==30903==    by 0x1FEC3540: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0A90D: ibv_open_device@@IBVERBS_1.1 (device.c:144)
      ==30903==    by 0x20D1B555: init_one_device (btl_openib_component.c:1494)
      ==30903==    by 0x20D1D031: btl_openib_component_init (btl_openib_component.c:2586)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D2929B: btl_openib_async_command_done (btl_openib_async.c:408)
      ==30903==    by 0x20D1A6DB: prepare_device_for_use (btl_openib_component.c:957)
      ==30903==    by 0x20D1DF02: btl_openib_component_init (btl_openib_component.c:2708)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==    by 0x51AA878: mca_bml_base_init (bml_base_init.c:69)
      ==30903==    by 0x1F8A429F: mca_pml_ob1_component_init (pml_ob1_component.c:168)
      ==30903==    by 0x51B4948: mca_pml_base_select (pml_base_select.c:126)
      ==30903==    by 0x516EF96: ompi_mpi_init (ompi_mpi_init.c:535)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B08236: ibv_cmd_reg_mr (cmd.c:251)
      ==30903==    by 0x1FEC4BF9: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CC3C: ibv_reg_mr@@IBVERBS_1.1 (verbs.c:165)
      ==30903==    by 0x20D19804: openib_reg_mr (btl_openib_component.c:508)
      ==30903==    by 0x1E87527E: register_cache_bypass (mpool_rdma_module.c:174)
      ==30903==    by 0x1E875D38: mca_mpool_rdma_alloc (mpool_rdma_module.c:117)
      ==30903==    by 0x51534CF: ompi_free_list_grow (ompi_free_list.c:198)
      ==30903==    by 0x20D1A7F0: prepare_device_for_use (btl_openib_component.c:1016)
      ==30903==    by 0x20D1DF02: btl_openib_component_init (btl_openib_component.c:2708)
      ==30903==    by 0x51AB043: mca_btl_base_select (btl_base_select.c:110)
      ==30903==    by 0x202EC8B1: mca_bml_r2_component_init (bml_r2_component.c:86)
      ==30903==  Address 0x1c6425c8 is on thread 12's stack
      ==30903== 
      ==30903== Syscall param writev(vector[...]) points to uninitialised byte(s)
      ==30903==    at 0xB4B2AC7: writev (writev.c:56)
      ==30903==    by 0x1DE62166: mca_oob_tcp_msg_send_handler (oob_tcp_msg.c:248)
      ==30903==    by 0x1DE6355C: mca_oob_tcp_peer_send (oob_tcp_peer.c:197)
      ==30903==    by 0x1DE65C3C: mca_oob_tcp_send_nb (oob_tcp_send.c:167)
      ==30903==    by 0x1DC587C7: orte_rml_oob_send (rml_oob_send.c:137)
      ==30903==    by 0x1DC58A9F: orte_rml_oob_send_buffer (rml_oob_send.c:269)
      ==30903==    by 0x1DA53D72: allgather (grpcomm_bad_module.c:369)
      ==30903==    by 0x1DA534C9: modex (grpcomm_bad_module.c:497)
      ==30903==    by 0x516F161: ompi_mpi_init (ompi_mpi_init.c:646)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==  Address 0x1f279757 is 119 bytes inside a block of size 512 alloc'd
      ==30903==    at 0x4C28CCE: realloc (vg_replace_malloc.c:632)
      ==30903==    by 0x5647B92: opal_dss_buffer_extend (dss_internal_functions.c:63)
      ==30903==    by 0x5648544: opal_dss_copy_payload (dss_load_unload.c:164)
      ==30903==    by 0x1DA53D47: allgather (grpcomm_bad_module.c:363)
      ==30903==    by 0x1DA534C9: modex (grpcomm_bad_module.c:497)
      ==30903==    by 0x516F161: ompi_mpi_init (ompi_mpi_init.c:646)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CA9: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D188F9: mca_btl_openib_add_procs (btl_openib.c:281)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CED: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D188F9: mca_btl_openib_add_procs (btl_openib.c:281)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CF5: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D188F9: mca_btl_openib_add_procs (btl_openib.c:281)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CA9: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D18922: mca_btl_openib_add_procs (btl_openib.c:286)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CED: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D18922: mca_btl_openib_add_procs (btl_openib.c:286)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x1FEC4CF5: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CEBE: ibv_create_cq@@IBVERBS_1.1 (verbs.c:280)
      ==30903==    by 0x20D179DF: adjust_cq (btl_openib.c:152)
      ==30903==    by 0x20D18922: mca_btl_openib_add_procs (btl_openib.c:286)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B08821: ibv_cmd_create_srq (cmd.c:466)
      ==30903==    by 0x1FEC50A6: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0D0BB: ibv_create_srq@@IBVERBS_1.1 (verbs.c:364)
      ==30903==    by 0x20D189F5: mca_btl_openib_add_procs (btl_openib.c:247)
      ==30903==    by 0x202EB8B6: mca_bml_r2_add_procs (bml_r2.c:206)
      ==30903==    by 0x1F8A24DB: mca_pml_ob1_add_procs (pml_ob1.c:316)
      ==30903==    by 0x516F24E: ompi_mpi_init (ompi_mpi_init.c:687)
      ==30903==    by 0x5190763: PMPI_Init_thread (pinit_thread.c:83)
      ==30903==    by 0x420EEE: _starpu_mpi_progress_thread_func (starpu_mpi.c:1230)
      ==30903==    by 0xAB97B4F: start_thread (pthread_create.c:304)
      ==30903==    by 0xB4B995C: clone (clone.S:112)
      ==30903==  Address 0x1c642938 is on thread 12's stack
      ==30903== 
      [starpu][_starpu_mpi_print_thread_level_support] MPI_Init_thread level = MPI_THREAD_SINGLE; MPI does not have multi-thread support, this might cause problems. The application can make calls to StarPU-MPI functions, but not call directly MPI Communication functions.
      [starpu][starpu_profiling_set_id] Set id to <0>
      We need at least 2 processes.
      ==30903== Thread 1:
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B08A2D: ibv_cmd_destroy_srq (cmd.c:585)
      ==30903==    by 0x1FEC515C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D17F14: mca_btl_openib_finalize_resources (btl_openib.c:1170)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903==  Address 0x7ff000360 is on thread 1's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20B08AAB: ibv_cmd_destroy_srq (cmd.c:591)
      ==30903==    by 0x1FEC515C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D17F14: mca_btl_openib_finalize_resources (btl_openib.c:1170)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20D1A07D: device_destruct (btl_openib_component.c:854)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903==  Address 0x7ff00038c is on thread 1's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20D2929B: btl_openib_async_command_done (btl_openib_async.c:408)
      ==30903==    by 0x20D1A08F: device_destruct (btl_openib_component.c:860)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B082D1: ibv_cmd_dereg_mr (cmd.c:271)
      ==30903==    by 0x1FEC4C4C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20B0CCB0: ibv_dereg_mr@@IBVERBS_1.1 (verbs.c:184)
      ==30903==    by 0x20D19761: openib_dereg_mr (btl_openib_component.c:522)
      ==30903==    by 0x1E87613D: mca_mpool_rdma_free (mpool_rdma_module.c:89)
      ==30903==    by 0x5153079: ompi_free_list_destruct (ompi_free_list.c:74)
      ==30903==    by 0x20D1A1B0: device_destruct (opal_object.h:447)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==  Address 0x7ff0002b8 is on thread 1's stack
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B086E2: ibv_cmd_destroy_cq (cmd.c:440)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A262: device_destruct (btl_openib_component.c:886)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903==  Address 0x7ff000300 is on thread 1's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20B08772: ibv_cmd_destroy_cq (cmd.c:446)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A262: device_destruct (btl_openib_component.c:886)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20B0877B: ibv_cmd_destroy_cq (cmd.c:446)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A262: device_destruct (btl_openib_component.c:886)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B086E2: ibv_cmd_destroy_cq (cmd.c:440)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A277: device_destruct (btl_openib_component.c:893)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903==  Address 0x7ff000300 is on thread 1's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20B08772: ibv_cmd_destroy_cq (cmd.c:446)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A277: device_destruct (btl_openib_component.c:893)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20B0877B: ibv_cmd_destroy_cq (cmd.c:446)
      ==30903==    by 0x1FEC4F6C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A277: device_destruct (btl_openib_component.c:893)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B08191: ibv_cmd_dealloc_pd (cmd.c:230)
      ==30903==    by 0x1FEC4B5C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x20D1A2A6: device_destruct (btl_openib_component.c:913)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903==  Address 0x7ff000338 is on thread 1's stack
      ==30903== 
      ==30903== Syscall param close(fd) contains uninitialised byte(s)
      ==30903==    at 0xAB9F25D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B0A9A7: ibv_close_device@@IBVERBS_1.1 (device.c:175)
      ==30903==    by 0x20D1A2DA: device_destruct (btl_openib_component.c:920)
      ==30903==    by 0x20D17E28: mca_btl_openib_finalize_resources (opal_object.h:447)
      ==30903==    by 0x20D181A5: mca_btl_openib_finalize (btl_openib.c:1209)
      ==30903==    by 0x51AAA82: mca_btl_base_close (btl_base_close.c:58)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x208FEB1F: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x2090018D: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2EA63: id_context_destructor (btl_openib_connect_rdmacm.c:185)
      ==30903==    by 0x20D2E8F0: rdmacm_component_finalize (opal_object.h:447)
      ==30903==    by 0x20D2B7FA: ompi_btl_openib_connect_base_finalize (btl_openib_connect_base.c:499)
      ==30903==    by 0x20D19D37: btl_openib_component_close (btl_openib_component.c:197)
      ==30903==    by 0x5656181: mca_base_components_close (mca_base_components_close.c:53)
      ==30903==    by 0x51AAAEF: mca_btl_base_close (btl_base_close.c:66)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==  Address 0x7ff000320 is on thread 1's stack
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x20900192: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2EA63: id_context_destructor (btl_openib_connect_rdmacm.c:185)
      ==30903==    by 0x20D2E8F0: rdmacm_component_finalize (opal_object.h:447)
      ==30903==    by 0x20D2B7FA: ompi_btl_openib_connect_base_finalize (btl_openib_connect_base.c:499)
      ==30903==    by 0x20D19D37: btl_openib_component_close (btl_openib_component.c:197)
      ==30903==    by 0x5656181: mca_base_components_close (mca_base_components_close.c:53)
      ==30903==    by 0x51AAAEF: mca_btl_base_close (btl_base_close.c:66)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Conditional jump or move depends on uninitialised value(s)
      ==30903==    at 0x209001C1: rdma_destroy_id (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x20D2EA63: id_context_destructor (btl_openib_connect_rdmacm.c:185)
      ==30903==    by 0x20D2E8F0: rdmacm_component_finalize (opal_object.h:447)
      ==30903==    by 0x20D2B7FA: ompi_btl_openib_connect_base_finalize (btl_openib_connect_base.c:499)
      ==30903==    by 0x20D19D37: btl_openib_component_close (btl_openib_component.c:197)
      ==30903==    by 0x5656181: mca_base_components_close (mca_base_components_close.c:53)
      ==30903==    by 0x51AAAEF: mca_btl_base_close (btl_base_close.c:66)
      ==30903==    by 0x202EC7FD: mca_bml_r2_finalize (bml_r2.c:640)
      ==30903==    by 0x1F8A430D: mca_pml_ob1_component_fini (pml_ob1_component.c:187)
      ==30903==    by 0x516FC84: ompi_mpi_finalize (ompi_mpi_finalize.c:201)
      ==30903==    by 0x418FF5: main (ring_async_implicit.c:77)
      ==30903== 
      ==30903== Syscall param write(buf) points to uninitialised byte(s)
      ==30903==    at 0xAB9F19D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B08191: ibv_cmd_dealloc_pd (cmd.c:230)
      ==30903==    by 0x1FEC4B5C: ??? (in /usr/lib/libibverbs/libmlx4-rdmav2.so)
      ==30903==    by 0x208FE04D: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x4012EF8: _dl_close_worker (dl-close.c:266)
      ==30903==    by 0x40139CD: _dl_close (dl-close.c:754)
      ==30903==    by 0x400DBD5: _dl_catch_error (dl-error.c:178)
      ==30903==    by 0x5CA42EB: _dlerror_run (dlerror.c:164)
      ==30903==    by 0x5CA400E: dlclose (dlclose.c:48)
      ==30903==    by 0x565046B: vm_close (dlopen.c:212)
      ==30903==    by 0x564D17D: lt_dlclose (ltdl.c:1943)
      ==30903==    by 0x5655322: ri_destructor (mca_base_component_repository.c:380)
      ==30903==  Address 0x7fefffe48 is on thread 1's stack
      ==30903== 
      ==30903== Syscall param close(fd) contains uninitialised byte(s)
      ==30903==    at 0xAB9F25D: ??? (syscall-template.S:82)
      ==30903==    by 0x20B0A9A7: ibv_close_device@@IBVERBS_1.1 (device.c:175)
      ==30903==    by 0x208FE067: ??? (in /usr/lib/librdmacm.so.1.0.0)
      ==30903==    by 0x4012EF8: _dl_close_worker (dl-close.c:266)
      ==30903==    by 0x40139CD: _dl_close (dl-close.c:754)
      ==30903==    by 0x400DBD5: _dl_catch_error (dl-error.c:178)
      ==30903==    by 0x5CA42EB: _dlerror_run (dlerror.c:164)
      ==30903==    by 0x5CA400E: dlclose (dlclose.c:48)
      ==30903==    by 0x565046B: vm_close (dlopen.c:212)
      ==30903==    by 0x564D17D: lt_dlclose (ltdl.c:1943)
      ==30903==    by 0x5655322: ri_destructor (mca_base_component_repository.c:380)
      ==30903==    by 0x56558F0: mca_base_component_repository_release (opal_object.h:447)
      ==30903== 
      Writing FxT traces into file adonis-2.grenoble.grid5000.fr:/tmp/prof_file_root_0
      ==30903== 
      ==30903== HEAP SUMMARY:
      ==30903==     in use at exit: 61,333,979 bytes in 123,059 blocks
      ==30903==   total heap usage: 204,246 allocs, 81,187 frees, 159,911,760 bytes allocated
      ==30903== 
      ==30903== LEAK SUMMARY:
      ==30903==    definitely lost: 79,632 bytes in 93 blocks
      ==30903==    indirectly lost: 21,182 bytes in 25 blocks
      ==30903==      possibly lost: 1,738,576 bytes in 12,771 blocks
      ==30903==    still reachable: 59,494,589 bytes in 110,170 blocks
      ==30903==         suppressed: 0 bytes in 0 blocks
      ==30903== Rerun with --leak-check=full to see details of leaked memory
      ==30903== 
      ==30903== For counts of detected and suppressed errors, rerun with: -v
      ==30903== Use --track-origins=yes to see where uninitialised values come from
      ==30903== ERROR SUMMARY: 978 errors from 67 contexts (suppressed: 20 from 9)

      #+END_EXAMPLE
      #+BEGIN_EXAMPLE
      *__GI_getenv (name=0x4e9ed5 "ARPU_MINIMUM_AVAILABLE_MEM") at getenv.c:84

      0x00000000004894ec in starpu_get_env_number (
      str=0x4e9ed3 "STARPU_MINIMUM_AVAILABLE_MEM")
      at ../../include/starpu_util.h:236
      236             strval = getenv(str);
      (gdb) p str
      $1 = 0x4e9ed3 "STARPU_MINIMUM_AVAILABLE_MEM"

      #+END_EXAMPLE
** Simulation 
