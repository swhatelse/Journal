#+OPTIONS: ^:nil

* TODO A faire [12/15]
  * [X] Installer FxT 
  * [X] Compiler StarPU MPI avec FxT
  * [X] Installation swirl
  * [ ] Apprendre R [0/12]
    * [ ] Basic build blocks
    * [ ] Sequences of numbers
    * [ ] Vectors
    * [ ] Missing values
    * [ ] Subsetting vectors  
    * [ ] Matrices and data frames
    * [ ] Logic
    * [ ] lapply and sapply
    * [ ] vapply and tapply
    * [ ] Looking at data
    * [ ] Simulation
    * [ ] Data and times
  * [ ] Apprendre à utiliser grid5000
    oarsub, kadeploy, kaenv3
  * [X] Simgrid [2/2]
    * [X] Installer
    * [X] Tester que tout fonctionne
  * [X] linker example de samuel avec starpu et simgrid
  * [X] Jeter un oeil au fichier smpi global.c    
  * [X] Refléchir à réorganisation de mon espace de travail
  * [X] Attacher thread au processus MPI qui l'a créé
    * [X] Comprendre le fonctionnement des MSG_process
  * [X] Implémenter le changement de contexte [3/3] 
    * [X] Tagger les process [3/3]
      * [X] Ajout de l'index du segment data du proc SMPI
      * [X] Initialisation 
      * [X] Set de la valeur côté SMPI et SIMIX
    * [X] Fonction de switch côté SIMIX
    * [X] Trouver pourquoi ça ne marche pas
  * [X] Problème de parent host[3/3]
    * [X] Jetter un oeil a xbt_dynar_foreach
    * [X] Comprendre le fonctionnement de SIMIX_run
    * [X] Tester avec au moins 3 noeuds et voir ce qu'il se passe 
  * [ ] Apprendre à utiliser StarPu
  * [X] git format-patch pour arnaud
  * [X] script de config et de lancement
* Memo
** Links
   git clone git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/starpu-simgrid/starpu-simgrid.git
   git submodule add --force git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/simgrid/simgrid.git src/simgrid
** Commandes emacs
   C-c C-h : raccourcis associé au mode utilisé
   C-c C-e : Ouvre menu avec possibilité d'exporter en html, latex, etc...
** Usefull types
   . ./script.sh --pour export des variables
   ldd permet de connaître les lib dynamques qui ont été linkées.
   nm donne la liste des fonctions d'un programme.
   LD_LIBRARY_PATH: Y pensez car sinon à l'exécution ça ne passe pas.
** GDB
   - watch : break point condition qui permet de surveiller quand une variable change de valeur
* 2014
** 2014-12 décembre
*** 2014-12-15 lundi
**** Installation starpu
      - Instructions obselètes doxygen.cfg:
        #+begin_src sh :results output :exports both
          doxygen -u doxygen.cfg
        #+end_src
      - Nécessite latex xtab.sty présent dans texlive-latexextra

*** 2014-12-16 mardi
**** Installation Fxt
     #+begin_src sh :session foo :results output :exports both 
       cd ~/Programmation/TER
       wget http://download.savannah.gnu.org/releases/fkt/fxt-0.3.0.tar.gz
     #+end_src

     #+begin_src sh :session foo :results output :exports both 
       cd ~/Programmation/TER/fxt-0.3.0/
       mkdir build
       cd build
       ./configure --prefix=/home/steven/Programmation/TER/fxt/
       make -j5 
       make install -j5
     #+end_src

     Définition des flags de compilation pour compiler StarPU avec FxT
     #+begin_src sh :results output :exports both
       pkg-config --cflags fxt
       pkg-config --libs fxt
     #+end_src

     Recompilation de starpu avec FxT
     #+begin_src sh :results output :exports both
       ./configure --with-fxt
     #+end_src

*** 2014-12-17 mercredi
    Vérification de l'installation de de FxT et de la génération de trace.
    #+begin_src sh :results output :exports both
      STARPU_GENERATE_TRACE=1 ./cholesky_implicit -size 960 -nblocks 1    
    #+end_src

*** 2014-12-19 vendredi
**** Installation de simgrid
***** Test du fonctionnement de Simgrid
      #+begin_src sh :results output :exports both
        cd ~/Programmation/TER/SimGrid-3.11/build
        ctest
      #+end_src

**** Compilation starpu avec support simgrid
     - Besoin d'opencl

* 2015
** 2015-02 février
*** 2015-02-05 jeudi
    Linkage Starpu Simgrid.
    Modification du script de Lukas.
**** Réinstallation de FXT
     #+begin_src sh :results output :exports both
       export FXTDIR=/home/steven/Programmation/TER/fxt-0.3.0/inst
       cd ~/Programmation/TER/fxt-0.3.0/
       mkdir build
       cd build
       ./configure --prefix=$FXTDIR
       make -5 
       make install -j5
     #+end_src
*** 2015-02-06 vendredi
    Problème d'installation simgrid récupéré sur avec starpu-simgrid, utilisation de la version tar.gz
    
*** 2015-02-12 jeudi
    Si problème avec la doc à l'install -> la désactiver
** 2015-03 mars
*** 2015-03-13 vendredi
    Modifs effectuées dans le fichier smx_process.c mais ne sont pas correctes. Balise test steven.
    J'ai essayé de rattacher les process MSG créés dans un contexte MPI, au processus qui les à créé. Mais le problème c'est que
    je remonte trop haut dans la hierachie et tout mes process sont rattaché à un seul et même.
    En fait je donne le segment data du parent mais forcément ça remonte jusqu'au tout premier process. J'essaie de voir si je peux 
    m'arrêter un bon niveau dans la hierarchie avec les informations que l'on a déjà.
    Autre problème lié à ma modifs est qu'apparemment le champs data de smx_process_t est apparement obselète et sera remplacé par moddata dont
    mais je n'ai trouvé aucune trace.
    
*** 2015-03-19 jeudi
    Etude de la création des MSG_process:
    Les process MSG sont créés à partir de process SIMIX. Ils servent à simplifier la création de process au niveau user.
    Au moment de la création d'un process MSG on sait à quel host appartient ce dernier. On sait également quel est le père du process.

*** 2015-03-20 vendredi
    Sous gdb en observant la creation de process SIMIX, je suis tombé
    là dessus : dans la fonction SIMIX_process_create, un process ("worker") est rattaché à l'host
    StarPU-MPI0-CPU0 alors que le parent de ce dernier ("mpi") est
    rattaché à l'host StarPU-MPI1-MAIN. Ce processus mpi est sensé
    être créé sur les deux host mais il ne semble qu'il n'y en a qu'un.
    
    [[file:img/gdb_bad_rank.jpg][Mauvais smx_host]]
    
    #+begin_src sh :results output :exports both
      cd ~/Programmation/TER/starpu-simgrid/src/starpu-mpi
      ./run.sh
    #+end_src

    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 0 on host 'node-1.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context 0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context '0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting 0(node-1.acme.org) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 1 on host 'node-2.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context 1
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting 1(node-2.acme.org) in the to_run list
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    I'm 0/2
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    I'm 1/2
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI0-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting mpi(StarPU-MPI0-MAIN) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI1-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting mpi(StarPU-MPI1-MAIN) in the to_run list
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fd30
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fc40
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fb50
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182fa60
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f970
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f880
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f790
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f6a0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:276: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:293: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:297: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f5b0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f4c0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f3d0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f2e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f2e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fd30
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fc40
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fb50
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182fa60
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f970
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f880
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f790
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f6a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f5b0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f4c0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f3d0
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b0a0), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b320), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195bda0), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195c020), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195caa0), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195cd20), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195d7a0), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195da20), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'worker'
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f3d0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b0a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195b320), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195bda0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195c020), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195caa0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195cd20), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195d7a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:813: [simix_process/DEBUG] Create sleep action 0x182f6a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x195da20), waiting action (nil)
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'worker'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x1732820), waiting action (nil)
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x1732820), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x172e000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x172e000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: '0'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f3d0
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Destroy action 0x182f6a0
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733450), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733220), waiting action (nil)
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:894: [simix_process/DEBUG] Yield process 'mpi'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733450), waiting action (nil)
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x1733220), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:900: [simix_process/DEBUG] Control returned to me: 'mpi'
    #+END_EXAMPLE    
*** 2015-03-26 jeudi
    Fonctionnement:
    Smpirun execute le programme directement.
    Pour lancer ce dernier le main du programme est remplacé par un main "secondaire" (smpi_simulated_main).
    Ensuite le main par défaut de simgrid ("weak main") est lancé et va se charger d'exécuter le main simulé.

    La fonction smpi_main va s'occuper de créer la plate forme(SIMIX_create_env), de créer les différents process smpi(SIMIX_launch_app) et ensuite de privatiser leurs segments data
    en le dupliquant quelque part dans le tas. Cela n'est fait qu'a ce moment et donc ce qui est créé après n'est pas privatisé.

    Piste : jeter un oeil à Simix process_list, SIMIX_process_get_data.
    
    process_list : type swag(sorte de liste générique)
    Changement de segment data (smpi_switch_data_segment) effectué au niveau smpi uniquement, c'est pour ça que je ne l'avais pas vu.

    Hypothèse : dans la struct smx_process_t rajouter l'index du segment data du père et rajouter le switch contexte privée. cf Discussions
    avec Arnaud

**** Discussions avec Arnaud
- ajout d'un champ =segment_index= à =smx_process_t= qui correspond à
  l'index du segment data du process SMPI. Par défaut cet index est
  initialisé à -1.
- ajout d'une variable globale à SIMIX =SMPI_switch_data_segment= initialisée
  à NULL par défaut.
- Quand on créée les process SMPI, on =SIMIX_segment_index_set= au
  numéro de segment (de 0 à n-1). Ces process là sont créés par le
  "maestro", celui qui appelle le =smpi_main=.
- Quand on créé un process on atterri dans =SIMIX_process_create=. Juste
  à coté de la récupération du ppid, tu récupères le =segment_index= du
  père.
- Après avoir fait le =SIMIX_global_init= (dans =smpi_main=), on set
  =SMPI_switch_data_segment= à =smpi_switch_data_segement=.
- On veut changer de segment automatiquement à la sortie des
  =simcall_*_wait= (voir =simcall_host_execution_wait= dans
  =smpi_execute_flops=).
  - Appeler plusieurs fois =smpi_switch_data_segment= n'est pas un
    problème.
  - Regardons =simcall_host_execution_wait=, ->
    =simcall_BODY_host_execution_wait= -> =SIMIX_process_yield=. À la fin
    d'un de ces deux (trois ?) là, on veut faire
    #+BEGIN_SRC C
      if(SMPI_switch_data_segment && ((idx=smx_process_current()->index)!=-1)) {
        SMPI_switch_data_segment(idx);
      }
    #+END_SRC
    La question, c'est doit-on le faire pour tous les simcalls ? Faut tenter...
*** 2015-03-27 vendredi
    Fonction appelée à la fin de SIMIX_process_yield(), ça marche! Mais on dirait que le rank ne correspond pas vraiment.
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 0 on host 'node-1.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context 0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context '0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting 0(node-1.acme.org) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process 1 on host 'node-2.acme.org'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context 1
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting 1(node-2.acme.org) in the to_run list
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    I'm 0/2
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    I'm 1/2
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI0-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting mpi(StarPU-MPI0-MAIN) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process mpi on host 'StarPU-MPI1-MAIN'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context mpi
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting mpi(StarPU-MPI1-MAIN) in the to_run list
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0d30
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0c40
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU0'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU0) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0b50
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0a60
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU1'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU1) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0970
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0880
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU2'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU2) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae0790
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae06a0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:235: [simix_process/DEBUG] Start process worker on host 'StarPU-MPI0-CPU3'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:281: [simix_process/VERBOSE] Create context worker
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:298: [simix_process/DEBUG] Start context 'worker'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:302: [simix_process/DEBUG] Inserting worker(StarPU-MPI0-CPU3) in the to_run list
    My rank from nested : 1
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    My rank from nested : 0
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 0
    [StarPU-MPI0-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae05b0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae04c0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae03d0
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae02e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae02e0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0d30
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0c40
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0b50
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0a60
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0970
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0880
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae0790
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae06a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae05b0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae04c0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae03d0
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 1
    [StarPU-MPI1-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c0a0), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c320), waiting action (nil)
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0cda0), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0d020), waiting action (nil)
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0daa0), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0dd20), waiting action (nil)
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0e7a0), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    my rank is 0
    [StarPU-MPI0-MAIN:mpi:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0ea20), waiting action (nil)
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'worker'
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae03d0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c0a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0c320), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0cda0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0d020), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0daa0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0dd20), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0e7a0), waiting action (nil)
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:818: [simix_process/DEBUG] Create sleep action 0x1ae06a0
    [1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process worker (0x1c0ea20), waiting action (nil)
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU0:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU1:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU2:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [StarPU-MPI0-CPU3:worker:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'worker'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x19e3820), waiting action (nil)
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 1 (0x19e3820), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x19df000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '1'
    [1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process 0 (0x19df000), waiting action (nil)
    [node-1.acme.org:0:(0) 1.001209] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: '0'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae03d0
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:865: [simix_process/DEBUG] Destroy action 0x1ae06a0
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4450), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4220), waiting action (nil)
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:899: [simix_process/DEBUG] Yield process 'mpi'
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4450), waiting action (nil)
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:56: [simix_process/DEBUG] Cleanup process mpi (0x19e4220), waiting action (nil)
    [StarPU-MPI1-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    [StarPU-MPI0-MAIN:mpi:(0) 2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:905: [simix_process/DEBUG] Control returned to me: 'mpi'
    
    #+END_EXAMPLE
    
    Dans SIMIX_run , le hostname envoyé au simcall ne correspond pas au smx_host->key du process
    #+BEGIN_EXAMPLE
          fp = 0x83b4a0, cp = 0x83b4a0}, {c = 16 '\020', cc = 0x64e510 "StarPU-MPI0-CPU0", s = -6896, i = 6612240, l = 6612240, uc = 16 '\020', us = 58640, ui = 6612240,
      ul = 6612240, f = 9.26572176e-39, d = 3.266880626057324e-317, sz = 6612240, sgsz = 6612240, sgoff = 6612240, dp = 0x64e510, fp = 0x64e510, cp = 0x64e510}, {c = 0 '\000',
      cc = 0xbff0000000000000 <error: Cannot access memory at address 0xbff0000000000000>, s = 0, i = 0, l = -4616189618054758400, uc = 0 '\000', us = 0, ui = 0,
      ul = 13830554455654793216, f = 0, d = -1, sz = 13830554455654793216, sgsz = 13830554455654793216, sgoff = -4616189618054758400, dp = 0xbff0000000000000,
      fp = 0xbff0000000000000, cp = 0xbff0000000000000}, {c = -1 '\377', cc = 0xffffffff <error: Cannot access memory at address 0xffffffff>, s = -1, i = -1, l = 4294967295,
      uc = 255 '\377', us = 65535, ui = 4294967295, ul = 4294967295, f = -nan(0x7fffff), d = 2.1219957904712067e-314, sz = 4294967295, sgsz = 4294967295, sgoff = 4294967295,
      dp = 0xffffffff, fp = 0xffffffff, cp = 0xffffffff}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0,
      sgoff = 0, dp = 0x0, fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0,
      dp = 0x0, fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0,
      fp = 0x0, cp = 0x0}, {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0, fp = 0x0,
      cp = 0x0}}, result = {c = 0 '\000', cc = 0x0, s = 0, i = 0, l = 0, uc = 0 '\000', us = 0, ui = 0, ul = 0, f = 0, d = 0, sz = 0, sgsz = 0, sgoff = 0, dp = 0x0, fp = 0x0,
    cp = 0x0}, {new_api = {param1 = 0x0, param2 = 0, result = 0}}}
    (gdb) p process->smx_host 
    $15 = (smx_host_t) 0x644ba0
    (gdb) p process->smx_host->key
    $16 = 0x6545c0 "StarPU-MPI1-MAIN"
    #+END_EXAMPLE
    
** 2015-04 avril
*** 2015-04-02 jeudi
    Relevé gdb plus clair du problème soulevé vendredi dernier.
    Ici l'host du parent est StarPU-MPIO* alors que le process enfant est StarPU-MPI1*.
    smx_process.c:280
    #+BEGIN_EXAMPLE
    Breakpoint 3, SIMIX_process_create (process=0x7ffff51d9ee0, name=0x40100d "worker", code=0x400c16 <worker_func>, data=0x83b440, hostname=0x654a90 "StarPU-MPI1-CPU0",
    kill_time=-1, argc=-1, argv=0x0, properties=0x0, auto_restart=0, parent_process=0x613220)
    at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:280
    5: *process->smx_host = {key = 0x654a90 "StarPU-MPI1-CPU0", key_len = 16, hash_code = 196770957, content = 0x654a60, next = 0x0}
    4: *parent_process->smx_host = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
    3: hostname = 0x654a90 "StarPU-MPI1-CPU0"
    2: parent_process = (smx_process_t) 0x613220
    #+END_EXAMPLE

    Sur l'exemple de Samuel, le problème ne semble apparaître que pour sur "workers" et les références sont "croisées".
    On a StarPU-MPIO-CPU* --> StarPU-MPI1-CPU* et StarPU-MPI1-CPU* --> StarPU-MPI0-CPU*.
    
    - Regardons comment sont créés les workers, sont-ils correctements créés?
      Structure test.c:
      |-main
      | |- application_main
      | | |- starpu_init
      | | | |- worker_func
      | |- mpi_func
      
      Vérifier ce que me retourne MSG_get_host_by_name(name).
      
    - Est-ce que les segments mémoires (segment_index) rattachés sont bien corrects?

    - Remonter à la source
      smx_process.c:208
      #+BEGIN_EXAMPLE
      (gdb) p *simcall->issuer->smx_host
      $21 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      (gdb) p hostname
      $22 = 0x654a90 "StarPU-MPI1-CPU0"
      #+END_EXAMPLE
      
      simcalls_generated_case.c:218
      #+BEGIN_EXAMPLE
      (gdb) p *simcall->issuer->smx_host
      $24 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      (gdb) p simcall->args[4].cc
      $25 = 0x654a90 "StarPU-MPI1-CPU0"
      #+END_EXAMPLE

      smx_global.c:401
      #+BEGIN_EXAMPLE
      (gdb) p *process->simcall->issuer->smx_host
      $28 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      #+END_EXAMPLE
      
      xbt_dynar_foreach est juste une macro qui permet de parcourir un tableau dynamique. Possible qu'il y ait une erreur lors de 
      l'insertion dans le dynar?
      
      Que fais ce code? Dans SIMIX_run smx_global.c:399
      #+BEGIN_EXAMPLE
      xbt_dynar_foreach(simix_global->process_that_ran, iter, process) {
        if (process->simcall.call != SIMCALL_NONE) {
          SIMIX_simcall_pre(&process->simcall, 0);
        }
      }
      #+END_EXAMPLE
      Si je comprends bien, process_that_ran est un dynar que nous parcourons à la recherche de process qui sont en attentes que leurs
      appels systèmes soient pris en comptent. 

      Au moment du simcall, il y a déjà une incohérence. Que se passe t-il avant?
      Jettons un oeil à MSG_process_create pour voir où cela nous mène. 
      
      Dans simcall_BODY_process_create simcalls_generated_body.c:664
      #+BEGIN_EXAMPLE
      (gdb) p hostname
      $7 = 0x654a90 "StarPU-MPI1-CPU0"
      (gdb) p *self->smx_host
      $8 = {key = 0x64e040 "StarPU-MPI0-MAIN", key_len = 16, hash_code = 157978233, content = 0x64e010, next = 0x0}
      #+END_EXAMPLE

      Déjà ici l'host du process avec lequel a été appelé le simcall diverge de l'host du process retourné par simix.
      Est-ce que simix nous a bien retourné ce à quoi on s'attendais? 
      Piste vérifier les pid des process "mpi" créés sur chacun des noeuds.

      Hypothèses : 
      - switch effectué mais au mauvais moment? (ça parait absurde)
      - mauvais pointeur passé quelque part...

*** 2015-04-03 vendredi
    J'ai rajouté un noeud au test (on en est à 3). Je n'ai pas encore vérifié si les rank sont bien retournés par les bons noeud, 
    mais il y a le bon nombre de rang attendu. Par contre j'ai une autre erreur:
    #+BEGIN_EXAMPLE
    I'm 0/3
    I'm 1/3
    I'm 2/3
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    My rank from nested : 2
    My rank from nested : 0
    My rank from nested : 1
    6572048 : my rank is 0
    6573488 : my rank is 1
    6572768 : my rank is 2
    6572768 : my rank is 2
    6572048 : my rank is 0
    6573488 : my rank is 1
    [2.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:462: [simix_kernel/CRITICAL] Oops ! Deadlock or code not perfectly clean.
    [2.000000] [simix_kernel/INFO] 3 processes are still running, waiting for something.
    [2.000000] [simix_kernel/INFO] Legend of the following listing: "Process <pid> (<name>@<host>): <status>"
    [2.000000] [simix_kernel/INFO] Process 1 (0@node-1.acme.org): waiting for synchronization action 0x714720 (synchro) in state 0 to finish
    [2.000000] [simix_kernel/INFO] Process 2 (1@node-2.acme.org): waiting for synchronization action 0x714540 (synchro) in state 0 to finish
    [2.000000] [simix_kernel/INFO] Process 3 (2@node-3.acme.org): waiting for communication action 0x714630 ((null)) in state 0 to finish
    #+END_EXAMPLE
    
    Bon j'ai récupéré les infos du process depuis le programme de test de samuel et en fait tout semble correct, le rank correspond
    au bon host...
    breakpoint test.c:29 (exemple de Samuel)
    #+BEGIN_EXAMPLE
    3: myrank = 1
    2: *host = {key = 0x654a90 "StarPU-MPI1-CPU0", key_len = 16, hash_code = 196770957, content = 0x654a60, next = 0x0}
    #+END_EXAMPLE
    
*** 2015-04-09 jeudi
    Effectivement comme, Arnaud me l'a suggéré, le message d"erreur précédent de Simgrid (deadlock...), n'est pas une erreur de fonctionnement de 
    Simgrid. Il y avait un process MPI qui attendait un message alors qu'au  message ne lui a été envoyé.
*** 2015-04-10 vendredi
    Début d'écriture d'un script pour la configuration de starpu-mpi simgrid. 
    Utilisation d'un fichier point org pour la construction du scrit
*** 2015-04-17 vendredi
    Comme en fait dans la base que j'avais récupéré de Luka, StarPU est compilé avec Simgrid mais sans le support MPI activé,
    je me suis fais un script pour de config et d'install, un peu comme le fichier run_inject_StarPUSG.sh de Luka.
    En tentant l'install avec le support Simgrid et MPI activé, j'avais ce genre d'erreur (cf tuto_config.org dans le rep de 
    starpu-simgrid):
   
    #+BEGIN_EXAMPLE
    Making all in src
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    CC       libstarpu_1.3_la-barrier.lo
    CC       libstarpu_1.3_la-barrier_counter.lo
    CC       libstarpu_1.3_la-bitmap.lo
    CC       libstarpu_1.3_la-rwlock.lo
    CC       libstarpu_1.3_la-hash.lo
    CC       libstarpu_1.3_la-starpu_spinlock.lo
    CC       libstarpu_1.3_la-timing.lo
    CC       libstarpu_1.3_la-utils.lo
    CC       libstarpu_1.3_la-fxt.lo
    CC       libstarpu_1.3_la-thread.lo
    CC       libstarpu_1.3_la-jobs.lo
    CC       libstarpu_1.3_la-task.lo
    CC       libstarpu_1.3_la-task_bundle.lo
    CC       libstarpu_1.3_la-tree.lo
    CC       libstarpu_1.3_la-workers.lo
    CC       libstarpu_1.3_la-combined_workers.lo
    CC       libstarpu_1.3_la-topology.lo
    CC       libstarpu_1.3_la-disk.lo
    CC       libstarpu_1.3_la-debug.lo
    CC       libstarpu_1.3_la-errorcheck.lo
    CC       libstarpu_1.3_la-progress_hook.lo
    CC       libstarpu_1.3_la-cg.lo
    CC       libstarpu_1.3_la-dependencies.lo
    CC       libstarpu_1.3_la-implicit_data_deps.lo
    CC       libstarpu_1.3_la-tags.lo
    CC       libstarpu_1.3_la-task_deps.lo
    CC       libstarpu_1.3_la-data_concurrency.lo
    CC       libstarpu_1.3_la-disk_stdio.lo
    CC       libstarpu_1.3_la-disk_unistd.lo
    CC       libstarpu_1.3_la-disk_unistd_global.lo
    CC       libstarpu_1.3_la-perfmodel_history.lo
    CC       libstarpu_1.3_la-perfmodel_bus.lo
    CC       libstarpu_1.3_la-perfmodel.lo
    CC       libstarpu_1.3_la-perfmodel_print.lo
    CC       libstarpu_1.3_la-perfmodel_nan.lo
    CC       libstarpu_1.3_la-regression.lo
    CC       libstarpu_1.3_la-sched_policy.lo
    CC       libstarpu_1.3_la-simgrid.lo
    CC       libstarpu_1.3_la-sched_ctx.lo
    CC       libstarpu_1.3_la-sched_ctx_list.lo
    CC       libstarpu_1.3_la-parallel_task.lo
    CC       libstarpu_1.3_la-detect_combined_workers.lo
    CC       libstarpu_1.3_la-eager_central_policy.lo
    CC       libstarpu_1.3_la-eager_central_priority_policy.lo
    CC       libstarpu_1.3_la-work_stealing_policy.lo
    CC       libstarpu_1.3_la-locality_work_stealing_policy.lo
    CC       libstarpu_1.3_la-deque_modeling_policy_data_aware.lo
    CC       libstarpu_1.3_la-random_policy.lo
    CC       libstarpu_1.3_la-stack_queues.lo
    CC       libstarpu_1.3_la-deque_queues.lo
    CC       libstarpu_1.3_la-fifo_queues.lo
    CC       libstarpu_1.3_la-parallel_heft.lo
    CC       libstarpu_1.3_la-parallel_eager.lo
    CC       libstarpu_1.3_la-driver_common.lo
    CC       libstarpu_1.3_la-driver_disk.lo
    CC       libstarpu_1.3_la-memory_nodes.lo
    CC       libstarpu_1.3_la-write_back.lo
    CC       libstarpu_1.3_la-coherency.lo
    CC       libstarpu_1.3_la-data_request.lo
    CC       libstarpu_1.3_la-datawizard.lo
    CC       libstarpu_1.3_la-copy_driver.lo
    CC       libstarpu_1.3_la-filters.lo
    CC       libstarpu_1.3_la-sort_data_handles.lo
    CC       libstarpu_1.3_la-malloc.lo
    CC       libstarpu_1.3_la-memory_manager.lo
    CC       libstarpu_1.3_la-memalloc.lo
    CC       libstarpu_1.3_la-memstats.lo
    CC       libstarpu_1.3_la-footprint.lo
    CC       libstarpu_1.3_la-datastats.lo
    CC       libstarpu_1.3_la-user_interactions.lo
    CC       libstarpu_1.3_la-reduction.lo
    CC       libstarpu_1.3_la-data_interface.lo
    CC       libstarpu_1.3_la-bcsr_interface.lo
    CC       libstarpu_1.3_la-coo_interface.lo
    CC       libstarpu_1.3_la-csr_interface.lo
    CC       libstarpu_1.3_la-matrix_filters.lo
    CC       libstarpu_1.3_la-matrix_interface.lo
    CC       libstarpu_1.3_la-block_filters.lo
    CC       libstarpu_1.3_la-block_interface.lo
    CC       libstarpu_1.3_la-vector_interface.lo
    CC       libstarpu_1.3_la-bcsr_filters.lo
    CC       libstarpu_1.3_la-csr_filters.lo
    CC       libstarpu_1.3_la-vector_filters.lo
    CC       libstarpu_1.3_la-void_interface.lo
    CC       libstarpu_1.3_la-variable_interface.lo
    CC       libstarpu_1.3_la-multiformat_interface.lo
    CC       libstarpu_1.3_la-execute_on_all.lo
    CC       libstarpu_1.3_la-starpu_create_sync_task.lo
    CC       libstarpu_1.3_la-file.lo
    CC       libstarpu_1.3_la-misc.lo
    CC       libstarpu_1.3_la-openmp_runtime_support.lo
    CC       libstarpu_1.3_la-openmp_runtime_support_environment.lo
    CC       libstarpu_1.3_la-openmp_runtime_support_omp_api.lo
    CC       libstarpu_1.3_la-starpu_data_cpy.lo
    CC       libstarpu_1.3_la-starpu_task_insert.lo
    CC       libstarpu_1.3_la-starpu_task_insert_utils.lo
    CC       libstarpu_1.3_la-starpu_fxt.lo
    CC       libstarpu_1.3_la-starpu_fxt_mpi.lo
    CC       libstarpu_1.3_la-starpu_fxt_dag.lo
    CC       libstarpu_1.3_la-starpu_paje.lo
    CC       libstarpu_1.3_la-latency.lo
    CC       libstarpu_1.3_la-profiling.lo
    CC       libstarpu_1.3_la-structures_size.lo
    CC       libstarpu_1.3_la-bound.lo
    CC       libstarpu_1.3_la-profiling_helpers.lo
    CC       libstarpu_1.3_la-starpu_top.lo
    CC       libstarpu_1.3_la-starpu_top_task.lo
    CC       libstarpu_1.3_la-starpu_top_message_queue.lo
    CC       libstarpu_1.3_la-starpu_top_connection.lo
    CC       libstarpu_1.3_la-worker_list.lo
    CC       libstarpu_1.3_la-worker_tree.lo
    CC       libstarpu_1.3_la-component_worker.lo
    CC       libstarpu_1.3_la-component_sched.lo
    CC       libstarpu_1.3_la-component_fifo.lo
    CC       libstarpu_1.3_la-prio_deque.lo
    CC       libstarpu_1.3_la-helper_mct.lo
    CC       libstarpu_1.3_la-component_prio.lo
    CC       libstarpu_1.3_la-component_random.lo
    CC       libstarpu_1.3_la-component_eager.lo
    CC       libstarpu_1.3_la-component_eager_calibration.lo
    CC       libstarpu_1.3_la-component_mct.lo
    CC       libstarpu_1.3_la-component_heft.lo
    CC       libstarpu_1.3_la-component_best_implementation.lo
    CC       libstarpu_1.3_la-component_perfmodel_select.lo
    CC       libstarpu_1.3_la-component_composed.lo
    CC       libstarpu_1.3_la-modular_eager.lo
    CC       libstarpu_1.3_la-modular_eager_prefetching.lo
    CC       libstarpu_1.3_la-modular_prio.lo
    CC       libstarpu_1.3_la-modular_prio_prefetching.lo
    CC       libstarpu_1.3_la-modular_random.lo
    CC       libstarpu_1.3_la-modular_random_prefetching.lo
    CC       libstarpu_1.3_la-modular_heft.lo
    CC       libstarpu_1.3_la-modular_heft2.lo
    CC       libstarpu_1.3_la-driver_cpu.lo
    CC       libstarpu_1.3_la-driver_cuda.lo
    CC       libstarpu_1.3_la-starpu_cublas.lo
    CC       libstarpu_1.3_la-driver_opencl.lo
    CC       libstarpu_1.3_la-disk_unistd_o_direct.lo
    CXXLD    libstarpu-1.3.la
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/src »
    Making all in tools
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    CC       starpu_perfmodel_display.o
    CC       starpu_perfmodel_plot-starpu_perfmodel_plot.o
    CC       starpu_calibrate_bus.o
    CC       starpu_machine_display.o
    CC       starpu_lp2paje.o
    CCLD     starpu_lp2paje
    CCLD     starpu_calibrate_bus
    CCLD     starpu_perfmodel_display
    CCLD     starpu_machine_display
    CCLD     starpu_perfmodel_plot
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tools »
    Making all in tests
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make  all-recursive
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    CC       tasks_size_overhead.o
    CC       local_pingpong.o
    CC       main_deprecated_func-deprecated_func.o
    CC       init_run_deinit.o
    CC       run_driver.o
    CC       deploop.o
    CC       restart.o
    CC       execute_on_a_specific_worker.o
    CC       execute_schedule.o
    CC       insert_task.o
    CC       insert_task_dyn_handles.o
    CC       insert_task_nullcodelet.o
    CC       insert_task_array.o
    CC       multithreaded.o
    CC       multithreaded_init.o
    CC       starpu_task_bundle.o
    CC       starpu_task_wait_for_all.o
    CC       static_restartable.o
    CC       starpu_task_wait.o
    CC       static_restartable_using_initializer.o
    CC       static_restartable_tag.o
    CC       regenerate.o
    CC       regenerate_pipeline.o
    CC       wait_all_regenerable_tasks.o
    CC       subgraph_repeat.o
    CC       subgraph_repeat_tag.o
    CC       subgraph_repeat_regenerate.o
    CC       subgraph_repeat_regenerate_tag.o
    CC       empty_task.o
    CC       empty_task_sync_point.o
    CC       empty_task_sync_point_tasks.o
    CC       empty_task_chain.o
    CC       tag_wait_api.o
    CC       task_wait_api.o
    CC       declare_deps_in_callback.o
    CC       declare_deps_after_submission.o
    CC       declare_deps_after_submission_synchronous.o
    CC       get_current_task.o
    CC       starpu_init.o
    CC       starpu_worker_exists.o
    CC       submit.o
    CC       pause_resume.o
    CC       codelet_null_callback.o
    CC       pack.o
    CC       allocate.o
    CC       acquire_cb.o
    CC       acquire_cb_insert.o
    CC       acquire_release.o
    CC       acquire_release2.o
    CC       cache.o
    CC       commute2.o
    CC       commute.o
    CC       copy.o
    CC       data_implicit_deps.o
    CC       data_lookup.o
    CC       scratch.o
    CC       sync_and_notify_data.o
    CC       sync_and_notify_data_implicit.o
    CC       dsm_stress.o
    CC       double_parameter.o
    CC       write_only_tmp_buffer.o
    CC       data_invalidation.o
    CC       dining_philosophers.o
    CC       manual_reduction.o
    CC       readers_and_writers.o
    CC       unpartition.o
    CC       user_interaction_implicit.o
    CC       sync_with_data_with_mem.o
    CC       sync_with_data_with_mem_non_blocking.o
    CC       sync_with_data_with_mem_non_blocking_implicit.o
    CC       mpi_like.o
    CC       mpi_like_async.o
    CC       critical_section_with_void_interface.o
    CC       increment_init.o
    CC       increment_redux.o
    CC       increment_redux_v2.o
    CC       increment_redux_lazy.o
    CC       handle_to_pointer.o
    CC       lazy_allocation.o
    CC       lazy_unregister.o
    CC       noreclaim.o
    CC       copy_interfaces.o
    CC       test_interfaces.o
    CC       block_interface.o
    CC       bcsr_interface.o
    CC       coo_interface.o
    CC       csr_interface.o
    CC       matrix_interface.o
    CC       multiformat_interface.o
    CC       multiformat_conversion_codelets.o
    CC       generic.o
    CC       multiformat_cuda_opencl.o
    CC       multiformat_worker.o
    CC       multiformat_data_release.o
    CC       multiformat_handle_conversion.o
    CC       same_handle.o
    CC       variable_interface.o
    CC       void_interface.o
    CC       test_vector_interface.o
    CC       scal.o
    CC       in_place_partition.o
    CC       partition_lazy.o
    CC       gpu_register.o
    CC       gpu_ptr_register.o
    CC       variable_parameters.o
    CC       wt_host.o
    CC       wt_broadcast.o
    CC       readonly.o
    CC       specific_node.o
    CC       disk_copy.o
    CC       disk_compute.o
    CC       starpu_init_noworker.o
    CC       disk_pack.o
    CC       invalid_blocking_calls.o
    CC       invalid_tasks.o
    CC       cublas_init.o
    CC       starpu_data_cpy.o
    CC       pinned_memory.o
    CC       execute_on_all.o
    CC       async_tasks_overhead.o
    CC       starpu_create_sync_task.o
    CC       sync_tasks_overhead.o
    CC       tasks_overhead.o
    CC       prefetch_data_on_node.o
    CC       redundant_buffer.o
    CC       matrix_as_vector.o
    CC       init_exit_01.o
    CC       init_exit_02.o
    CC       environment.o
    CC       api_01.o
    CC       parallel_01.o
    CC       parallel_02.o
    CC       parallel_03.o
    CC       parallel_barrier_01.o
    CC       parallel_master_01.o
    CC       parallel_master_inline_01.o
    CC       parallel_single_wait_01.o
    CC       parallel_single_nowait_01.o
    CC       parallel_single_inline_01.o
    CC       parallel_single_copyprivate_01.o
    CC       parallel_single_copyprivate_inline_01.o
    CC       parallel_critical_01.o
    CC       parallel_critical_inline_01.o
    CC       parallel_critical_named_01.o
    CC       parallel_critical_named_inline_01.o
    CC       parallel_simple_lock_01.o
    CC       parallel_nested_lock_01.o
    CC       parallel_for_01.o
    CC       parallel_for_02.o
    CC       parallel_sections_01.o
    CC       parallel_for_ordered_01.o
    CC       parallel_sections_combined_01.o
    CC       task_01.o
    CC       task_02.o
    CC       taskwait_01.o
    CC       taskgroup_01.o
    CC       array_slice_01.o
    CC       taskgroup_02.o
    CC       cuda_task_01.o
    CC       overlap.o
    CC       gpu_concurrency.o
    CC       explicit_combined_worker.o
    CC       parallel_kernels.o
    CC       parallel_kernels_spmd.o
    CC       spmd_peager.o
    CC       cuda_only.o
    CC       regression_based.o
    CC       non_linear_regression_based.o
    CC       feed.o
    CC       user_base.o
    CC       valid_model.o
    CC       value_nan.o
    CC       memory.o
    CC       data_locality.o
    CC       execute_all_tasks.o
    CC       simple_deps.o
    CC       prio.o
    CC       simple_cpu_gpu_sched.o
    CCLD     microbenchs/tasks_size_overhead
    CCLD     main/deprecated_func
    CCLD     microbenchs/local_pingpong
    CCLD     main/driver_api/init_run_deinit
    CCLD     main/driver_api/run_driver
    CCLD     main/deploop
    CCLD     main/restart
    CCLD     main/execute_on_a_specific_worker
    CCLD     main/execute_schedule
    CCLD     main/insert_task
    CCLD     main/insert_task_dyn_handles
    CCLD     main/insert_task_nullcodelet
    CCLD     main/insert_task_array
    CCLD     main/multithreaded
    CCLD     main/multithreaded_init
    CCLD     main/starpu_task_bundle
    CCLD     main/starpu_task_wait_for_all
    CCLD     main/starpu_task_wait
    CCLD     main/static_restartable
    CCLD     main/static_restartable_using_initializer
    CCLD     main/static_restartable_tag
    CCLD     main/regenerate
    CCLD     main/regenerate_pipeline
    CCLD     main/wait_all_regenerable_tasks
    CCLD     main/subgraph_repeat
    CCLD     main/subgraph_repeat_tag
    CCLD     main/subgraph_repeat_regenerate
    CCLD     main/empty_task
    CCLD     main/subgraph_repeat_regenerate_tag
    CCLD     main/empty_task_sync_point
    CCLD     main/empty_task_sync_point_tasks
    CCLD     main/empty_task_chain
    CCLD     main/tag_wait_api
    CCLD     main/task_wait_api
    CCLD     main/declare_deps_in_callback
    CCLD     main/declare_deps_after_submission
    CCLD     main/declare_deps_after_submission_synchronous
    CCLD     main/get_current_task
    CCLD     main/starpu_init
    CCLD     main/starpu_worker_exists
    CCLD     main/submit
    CCLD     main/codelet_null_callback
    CCLD     main/pause_resume
    CCLD     main/pack
    CCLD     datawizard/allocate
    CCLD     datawizard/acquire_cb
    CCLD     datawizard/acquire_cb_insert
    CCLD     datawizard/acquire_release
    CCLD     datawizard/acquire_release2
    CCLD     datawizard/cache
    CCLD     datawizard/commute
    CCLD     datawizard/copy
    CCLD     datawizard/commute2
    CCLD     datawizard/data_implicit_deps
    CCLD     datawizard/data_lookup
    CCLD     datawizard/scratch
    CCLD     datawizard/sync_and_notify_data
    CCLD     datawizard/sync_and_notify_data_implicit
    CCLD     datawizard/dsm_stress
    CCLD     datawizard/double_parameter
    CCLD     datawizard/write_only_tmp_buffer
    CCLD     datawizard/data_invalidation
    CCLD     datawizard/dining_philosophers
    CCLD     datawizard/manual_reduction
    CCLD     datawizard/readers_and_writers
    CCLD     datawizard/unpartition
    CCLD     datawizard/user_interaction_implicit
    CCLD     datawizard/sync_with_data_with_mem
    CCLD     datawizard/sync_with_data_with_mem_non_blocking
    CCLD     datawizard/sync_with_data_with_mem_non_blocking_implicit
    CCLD     datawizard/mpi_like
    CCLD     datawizard/mpi_like_async
    CCLD     datawizard/critical_section_with_void_interface
    CCLD     datawizard/increment_init
    CCLD     datawizard/increment_redux
    CCLD     datawizard/increment_redux_v2
    CCLD     datawizard/increment_redux_lazy
    CCLD     datawizard/handle_to_pointer
    CCLD     datawizard/lazy_allocation
    CCLD     datawizard/lazy_unregister
    CCLD     datawizard/noreclaim
    CCLD     datawizard/interfaces/block/block_interface
    CCLD     datawizard/interfaces/copy_interfaces
    CCLD     datawizard/interfaces/bcsr/bcsr_interface
    CCLD     datawizard/interfaces/coo/coo_interface
    CCLD     datawizard/interfaces/csr/csr_interface
    CCLD     datawizard/interfaces/matrix/matrix_interface
    CCLD     datawizard/interfaces/multiformat/multiformat_interface
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_cuda_opencl
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_data_release
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_worker
    CCLD     datawizard/interfaces/multiformat/advanced/multiformat_handle_conversion
    CCLD     datawizard/interfaces/multiformat/advanced/same_handle
    CCLD     datawizard/interfaces/vector/test_vector_interface
    CCLD     datawizard/interfaces/variable/variable_interface
    CCLD     datawizard/interfaces/void/void_interface
    CCLD     datawizard/in_place_partition
    CCLD     datawizard/partition_lazy
    CCLD     datawizard/gpu_register
    CCLD     datawizard/gpu_ptr_register
    CCLD     datawizard/variable_parameters
    CCLD     datawizard/wt_host
    CCLD     datawizard/wt_broadcast
    CCLD     datawizard/readonly
    CCLD     datawizard/specific_node
    CCLD     disk/disk_copy
    CCLD     disk/disk_pack
    CCLD     disk/disk_compute
    CCLD     errorcheck/starpu_init_noworker
    CCLD     errorcheck/invalid_blocking_calls
    CCLD     errorcheck/invalid_tasks
    CCLD     helper/cublas_init
    CCLD     helper/starpu_data_cpy
    CCLD     helper/execute_on_all
    CCLD     helper/pinned_memory
    CCLD     helper/starpu_create_sync_task
    CCLD     microbenchs/async_tasks_overhead
    CCLD     microbenchs/sync_tasks_overhead
    CCLD     microbenchs/tasks_overhead
    CCLD     microbenchs/prefetch_data_on_node
    CCLD     microbenchs/redundant_buffer
    CCLD     microbenchs/matrix_as_vector
    CCLD     openmp/init_exit_01
    CCLD     openmp/init_exit_02
    CCLD     openmp/environment
    CCLD     openmp/api_01
    CCLD     openmp/parallel_01
    CCLD     openmp/parallel_02
    CCLD     openmp/parallel_03
    CCLD     openmp/parallel_barrier_01
    CCLD     openmp/parallel_master_01
    CCLD     openmp/parallel_master_inline_01
    CCLD     openmp/parallel_single_wait_01
    CCLD     openmp/parallel_single_nowait_01
    CCLD     openmp/parallel_single_inline_01
    CCLD     openmp/parallel_single_copyprivate_01
    CCLD     openmp/parallel_single_copyprivate_inline_01
    CCLD     openmp/parallel_critical_01
    CCLD     openmp/parallel_critical_inline_01
    CCLD     openmp/parallel_critical_named_01
    CCLD     openmp/parallel_critical_named_inline_01
    CCLD     openmp/parallel_simple_lock_01
    CCLD     openmp/parallel_nested_lock_01
    CCLD     openmp/parallel_for_01
    CCLD     openmp/parallel_for_02
    CCLD     openmp/parallel_for_ordered_01
    CCLD     openmp/parallel_sections_01
    CCLD     openmp/task_01
    CCLD     openmp/parallel_sections_combined_01
    CCLD     openmp/task_02
    CCLD     openmp/taskwait_01
    CCLD     openmp/taskgroup_01
    CCLD     openmp/taskgroup_02
    CCLD     openmp/array_slice_01
    CCLD     openmp/cuda_task_01
    CCLD     overlap/overlap
    CCLD     overlap/gpu_concurrency
    CCLD     parallel_tasks/explicit_combined_worker
    CCLD     parallel_tasks/parallel_kernels
    CCLD     parallel_tasks/parallel_kernels_spmd
    CCLD     parallel_tasks/spmd_peager
    CCLD     parallel_tasks/cuda_only
    CCLD     perfmodels/regression_based
    CCLD     perfmodels/non_linear_regression_based
    CCLD     perfmodels/feed
    CCLD     perfmodels/user_base
    CCLD     perfmodels/valid_model
    CCLD     perfmodels/value_nan
    CCLD     perfmodels/memory
    CCLD     sched_policies/data_locality
    CCLD     sched_policies/execute_all_tasks
    CCLD     sched_policies/prio
    CCLD     sched_policies/simple_deps
    CCLD     sched_policies/simple_cpu_gpu_sched
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/tests »
    Making all in doc
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[2]: rien à faire pour « all-am ».
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/doc »
    Making all in mpi
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi »
    Making all in src
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    make  all-am
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    CC       starpu_mpi_helper.lo
    CC       starpu_mpi_datatype.lo
    CC       starpu_mpi_task_insert.lo
    CC       starpu_mpi_collective.lo
    CC       starpu_mpi.lo
    Makefile:640 : la recette pour la cible « starpu_mpi_collective.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_datatype.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_helper.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi_task_insert.lo » a échouée
    Makefile:640 : la recette pour la cible « starpu_mpi.lo » a échouée
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    Makefile:534 : la recette pour la cible « all » a échouée
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/src »
    Makefile:605 : la recette pour la cible « all-recursive » a échouée
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi »
    Makefile:985 : la recette pour la cible « all-recursive » a échouée

    #+END_EXAMPLE
    On a donc essayé avec Luka de voir d'où ça venait. La seul piste que l'on ait est que dans Simgrid les fonctions MPI ne 
    sont pas toutes portées et c'est ce qui causerait ces erreurs de compile.
*** 2015-04-23 jeudi
    - Il manquait les flags:
      En essayant de lancer le jeu de test de starpu (avec le support simgrid) avec la commande make check, j'ai des erreurs, par contre
      sans le support de simgrid ça marche. J'ai essayé avec l'install de Luka mais ça me fait pareil.
      #+BEGIN_EXAMPLE
    Making check in src
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[2]: rien à faire pour « check-am ».
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/src »
    Making check in tools
    make[1] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make[2] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make  loader   starpu_machine_display starpu_perfmodel_display starpu_perfmodel_plot
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    CC       loader-loader.o
    CCLD     loader
    make[3]: « starpu_machine_display » est à jour.
    make[3]: « starpu_perfmodel_display » est à jour.
    make[3]: « starpu_perfmodel_plot » est à jour.
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make  check-TESTS
    make[3] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    make[4] : on entre dans le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    FAIL: starpu_machine_display
    FAIL: starpu_perfmodel_display
    FAIL: starpu_perfmodel_plot
    ============================================================================
    Testsuite summary for StarPU 1.3.0
    ============================================================================
    # TOTAL: 3
    # PASS:  0
    # SKIP:  0
    # XFAIL: 0
    # FAIL:  3
    # XPASS: 0
    # ERROR: 0
    ============================================================================
    See tools/test-suite.log
    Please report to starpu-devel@lists.gforge.inria.fr
    ============================================================================
    Makefile:1474 : la recette pour la cible « test-suite.log » a échouée
    make[4]: *** [test-suite.log] Erreur 1
    make[4] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1580 : la recette pour la cible « check-TESTS » a échouée
    make[3]: *** [check-TESTS] Erreur 2
    make[3] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1720 : la recette pour la cible « check-am » a échouée
    make[2]: *** [check-am] Erreur 2
    make[2] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:1367 : la recette pour la cible « check-recursive » a échouée
    make[1]: *** [check-recursive] Erreur 1
    make[1] : on quitte le répertoire « /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid/tools »
    Makefile:985 : la recette pour la cible « check-recursive » a échouée
    make: *** [check-recursive] Erreur 1

    #+END_EXAMPLE
    
*** 2015-04-24 vendredi
    Tentative de maj de simgrid
    #+BEGIN_EXAMPLE
    git subrepo clone git+ssh://stevenqm@scm.gforge.inria.fr//gitroot/simgrid/simgrid.git src/simgrid
    #+END_EXAMPLE
** 2015-05 mai
*** 2015-05-18 lundi
    Finalement j'ai également pu lancer le make check, c'est juste qu'il manquait les variables d'environnements
    #+BEGIN_EXAMPLE
    . ./flags_simgrid_starpu.sh
    #+END_EXAMPLE
    Les tests passent moins jusqu'à un certain point. 
*** 2015-05-19 mardi
    Comparaison entre le make check de l'install sans simgrid et avec:
    #+begin_src sh :results output :file check_native.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/build-native
      make check > ~/org/check_native.txt
    #+end_src

    Install starpu simgrid avec run_inject_StarPUSG.sh de luka version master
    #+begin_src sh :results output :file check_simgrid.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/build-simgrid
      make check > ~/org/check_simgrid.txt
    #+end_src

    #+RESULTS:
    [[file:check_simgrid.txt]]

    Install starpu simgrid avec tuto_config.sh version steven-mpi
    #+begin_src sh :results output :file check_smpi.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd ~/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI
      make check > ~/org/check_smpi.txt
    #+end_src

    #+RESULTS:
    [[file:check_smpi.txt]]

*** 2015-05-20 mercredi
    
    Dans le testcase de Samuel, on voit que la valeur récupèré de la lib n'est pas correct.
    #+begin_src sh :results output :exports both
    cd ~/Programmation/TER/starpu-simgrid/src/starpu-mpi
    make run
    #+end_src

    
*** 2015-05-22 vendredi
    
    Erreur lorsque je compile le test de Samuel avec la libtest et libsimgrid en statique:
    #+begin_src sh :results output :file compile_test_static.txt :exports both
      cd ~/Programmation/TER/starpu-simgrid/
      . ./flags_simgrid_starpu.sh
      cd src/starpu-mpi/
      make &> ~/org/compile_test_static.txt   
    #+end_src
    
    #+RESULTS:
    [[file:compile_test_static.txt]]

*** 2015-05-27 mercredi
    Solution au problème de compile précédent: dans le Makefile on demandait de tout compiler en statique.
    
    J'ai refait une mise à jour et une fusion propre de simgrid pour pouvoir récupérer les modifs fait sur la partie SMPI.
    Mais souci lors de la compile de simgrid:
    #+begin_src sh :results output :file report/result_compile_merge_simgrid.txt :exports both 
      cd ~/Programmation/TER/starpu-simgrid/src/simgrid/
      make clean
      make &> ~/org/report/result_compile_merge_simgrid.txt
    #+end_src

    #+RESULTS:
    [[file:report/result_compile_merge_simgrid.txt]]

    En fait ma variable (extern) était déclaré mais pas défini
*** 2015-05-28 Jeudi
    Essai avec cholesky:
    #+begin_src sh :results output :exports both
      BASE="/home/steven/Programmation/TER/starpu-simgrid"
      SMPIRUN="$BASE/src/simgrid/SIMGRID/bin/smpirun"
      PLATFORM="$BASE/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml"
      HOSTFILE="$BASE/src/starpu-mpi/hostfile"
      cd $BASE
      . ./flags_simgrid_starpu.sh
      cd src/StarPU/StarPU-SMPI/mpi/examples/matrix_decomposition
      STARPU_SCHED=dmda $SMPIRUN -platform $PLATFORM -hostfile $HOSTFILE ./mpi_cholesky --cfg=smpi/privatize_global_variables:yes
    #+end_src

    #+RESULTS:
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    Segmentation fault.
    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun : ligne 461 :  1084 Erreur de segmentation  (core dumped)${EXEC} ${TRACEOPTIONS} ${SIMOPTS} ${PLATFORMTMP} ${APPLICATIONTMP}
    #+END_EXAMPLE
    
    Essai avec ring_async_implicit:
    #+begin_src sh :results output :exports both
      BASE="/home/steven/Programmation/TER/starpu-simgrid"
      SMPIRUN="$BASE/src/simgrid/SIMGRID/bin/smpirun"
      PLATFORM="$BASE/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml"
      HOSTFILE="$BASE/src/starpu-mpi/hostfile"
      cd $BASE
      . ./flags_simgrid_starpu.sh
      cd src/StarPU/StarPU-SMPI/mpi/tests
      STARPU_SCHED=dmda $SMPIRUN -platform $PLATFORM -hostfile $HOSTFILE ./ring_async_implicit --cfg=smpi/privatize_global_variables:yes
    #+end_src

    #+RESULTS:
    #+BEGIN_EXAMPLE
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
    [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
    [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
    [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
    [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:3420: [smpi_pmpi/WARNING] Not yet implemented : PMPI_Comm_set_errhandler. Please contact the Simgrid team if support is needed
    Segmentation fault.
    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/bin/smpirun : ligne 461 :   939 Erreur de segmentation  (core dumped)${EXEC} ${TRACEOPTIONS} ${SIMOPTS} ${PLATFORMTMP} ${APPLICATIONTMP}
    #+END_EXAMPLE

    Le problème est que PMPI_Comm_set_errhandler n'est pas encore
    implémenté dans simgrid.

    Dans mpi/src/starpu_mpi.c il est fait justement appel à cette
    fonction. Je tente de la mettre en commentaire:
    #+begin_src sh :results output :exports both
      cd ~/Programmation/TER/starpu-simgrid/
      ./run_StarPU_SMPI.sh -t
    #+end_src


    Pour le segfault:
    Essayer point d'entré -> main de SMPI. Par exemple MPI_Comm_rank...
    Verifier la valeur de ready_requests entre les différents
    processus, doit être différente pour chacun.
    Si c'est le cas surveiller la valeur de cette variable avec watch
    de gdb.
    Est-ce que watch fonctionne avec les adresses physiques?

*** 2015-05-29 vendredi
    Break point sur MPI_Comm_rank:
    #+BEGIN_EXAMPLE
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff5dbde80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92e0
    (gdb) cont
    Continuing.
    
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff55bae80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    Continuing.
    
    Breakpoint 1, MPI_Comm_rank (comm=0x8d8dc0, rank=0x7ffff4db7e80) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
    225       return PMPI_Comm_rank(comm, rank);
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    Continuing.
    
    Program received signal SIGSEGV, Segmentation fault.
    0x0000000000405196 in _starpu_mpi_req_list_empty (l=0x0) at ../../../mpi/src/starpu_mpi_private.h:99
    99      LIST_TYPE(_starpu_mpi_req,
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x0
    (gdb) 
    #+END_EXAMPLE
    
    La chose qui ferait passé ready_requests à NULL est
    starpu_mpi_shutdown mais on ne passe pas dedans avant le segfault.
    Mais quelque chose ne doit pas être correct à l'attribution du
    segment data.
** 2015-06 Juin [3/5]
*** 2015-06-01 lundi
    Regardons si l'adresse pointé par ready_requests est correct pour
    chacun ds process MPI:
    #+BEGIN_EXAMPLE
    br smx_process.c:855
    cond 6 ready_requests != (void*)0    
    #+END_EXAMPLE
    #+BEGIN_EXAMPLE
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92d0
    (gdb) cont
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92f0
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    (gdb) 
    Continuing.
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '0'
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 6, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    #+END_EXAMPLE
    
    À partir du 3e passsage l'adresse pointée ne change pas. 
    Voyons si l'a privatisation se fait correctement.
    #+BEGIN_EXAMPLE
    br smx_process.c:855 if ready_requests != (void*)0
    #+END_EXAMPLE
    #+BEGIN_EXAMPLE
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '1'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d8080) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92d0
    (gdb) cont
    Continuing.
    [node-2.acme.org:1:(2) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '1'
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '2'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d8570) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d92f0
    (gdb) 
    Continuing.
    [node-3.acme.org:2:(3) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:847: [simix_process/DEBUG] Yield process '2'
    [node-1.acme.org:0:(1) 0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:853: [simix_process/DEBUG] Control returned to me: '0'
    
    Breakpoint 2, SIMIX_process_yield (self=0x8d7c60) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:855
    855       if (self->new_host) {
    2: self->segment_index = 0
    1: ready_requests = (struct _starpu_mpi_req_list *) 0x8d9310
    #+END_EXAMPLE
    L'index du segment data est le même pour les 3 noeuds. Normalement il
    devrait être différent. 
    L'index du segment data est défini en fonction du pid du
    process - 1.
    
    Le segment data des process MPI semblent corrects. Ces processus
    sont créés d'abord par le tout premier processus de simigrd le
    processus "", à la création il partage le même segment data que
    lui. C'est un peu plutard les processus sont initialisés avec
    leurs propre segment data. Cependant l'index du segment data est
    égal au pid du processus -1, hors le processus maestro et le
    processus de pid 1 ont le même index (0). Le problème pourrait
    venir de là. -> Apparemment pas.

    Après vérification les exemples mpi sont bien compilé avec la
    libstarpu en statique.
   
    Après avoir discuter avec Arnaud du problème, on a vu que l'index
    du segment data était mis en place mais trop tard. Donc tentons de
    de faire en sorte que la fonction smpi_process_init soit appelé
    avant ou au tout debut de _starpu_mpi_simgrid_init.
    
*** DONE 2015-06-08 lundi [1/1]
    - [X] Modification de l'initialisation côté StarPU: 
      l'appel à MPI_Init_thread est effectué au début de
      _starpu_mpi_initialize pour SimGrid. Car sinon la privatisation
      du segment data est effectué trop tard.
    - Segfault lors de l'exécution de cholesky:
      Rapport valgrind:
      #+BEGIN_EXAMPLE
      ==24054== Invalid read of size 4
      ==24054==    at 0x582583F: smpi_process_index (smpi_global.c:238)
      ==24054==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
      ==24054==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
      ==24054==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
      ==24054==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
      ==24054==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
      ==24054==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"
      #+END_EXAMPLE
*** DONE 2015-06-09 mardi [1/1]
    - SegFault(suite):
      - Invalid reads trouvés par valgrind:
        #+BEGIN_EXAMPLE
        ==29290== Invalid read of size 4
        ==29290==    at 0x582583F: smpi_process_index (smpi_global.c:245)
        ==29290==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
        ==29290==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
        ==29290==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
        ==29290==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"

        ==29290== Invalid read of size 4
        ==29290==    at 0x58278BF: smpi_group_rank (smpi_group.c:106)
        ==29290==  Address 0x8a5acc0 is 16 bytes before a block of size 16 alloc'd
        ==29290==    at 0x4C2C080: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
        ==29290==    by 0x56B2EF0: xbt_malloc0 (sysdep.h:110)
        ==29290==    by 0x56B2EF0: SIMIX_cond_init (smx_synchro.c:263)
        ==29290==    by 0x56B7D10: SIMIX_simcall_handle (popping_generated.c:613)
        ==29290==    by 0x56972ED: simcall_BODY_cond_init (popping_bodies.c:2028)
        ==29290==    by 0x569C3D7: simcall_cond_init (libsmx.c:1211)
        ==29290==    by 0x57D17DD: xbt_cond_init (xbt_sg_synchro.c:165)
        ==29290==    by 0x57D1977: xbt_barrier_init (xbt_sg_synchro.c:207)
        ==29290==    by 0x582651C: smpi_global_init (smpi_global.c:466)
        ==29290==    by 0x5826EE0: smpi_main (smpi_global.c:670)
        ==29290==    by 0x43ED24: main (simgrid.c:195)

        ==29290== Invalid read of size 1
        ==29290==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
        ==29290==    by 0x43F4BA: _starpu_simgrid_submit_job (simgrid.c:324)
        ==29290==    by 0x485A66: execute_job_on_cpu (driver_cpu.c:110)
        ==29290==    by 0x48618F: _starpu_cpu_driver_run_once (driver_cpu.c:280)
        ==29290==    by 0x486295: _starpu_cpu_worker (driver_cpu.c:337)
        ==29290==    by 0x4408DE: _starpu_simgrid_thread_start (simgrid.c:663)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x0 is not stack'd, malloc'd or (recently) free'd        
        #+END_EXAMPLE
      - Analyse du premier invalid read:
        #+BEGIN_EXAMPLE
        ==29290== Invalid read of size 4
        ==29290==    at 0x582583F: smpi_process_index (smpi_global.c:245)
        ==29290==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
        ==29290==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
        ==29290==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
        ==29290==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
        ==29290==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
        ==29290==  Address 0x7a557f8 is 24 bytes after a block of size 64 in arena "client"
        #+END_EXAMPLE
        gdb:
        #+BEGIN_EXAMPLE
        (gdb) p (SIMIX_process_self())->ppid
        $6 = 1
        (gdb) p (SIMIX_process_self())->pid
        $5 = 4
        (gdb) p (SIMIX_process_self())->segment_index 
        $3 = 0
        (gdb) p (SIMIX_process_self())->data
        $8 = (void *) 0x7a557a0
        (gdb) bt
        #0  0x000000000582583f in smpi_process_index ()
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:245
        #1  0x0000000005822dd1 in smpi_comm_rank (comm=0x8a5ab10)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_comm.c:167
        #2  0x0000000005835f3a in PMPI_Comm_rank (comm=0x8a5ab10, rank=0x9820fa4)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_pmpi.c:681
        #3  0x0000000005828191 in MPI_Comm_rank (comm=0x8a5ab10, rank=0x9820fa4)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_mpi.c:225
        #4  0x0000000000404fc5 in smpi_simulated_main_ (argc=1, argv=0x7173390)
        at /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/mpi/tests/ring_async_implicit.c:69
        #5  0x000000000569de11 in smx_ctx_raw_wrapper (context=0x7a55bb0)
        at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:388
        #6  0x0000000000000000 in ?? ()
        (gdb) 
        #+END_EXAMPLE
        Première remarque, le processus 1 ainsi que tous ceux qu'il
        crée ont comme index de segment data la valeur 0 (index =
        pid - 1, cf smpi/private.h:778). Le processus maestro a
        également pour index 0. Cela pourrait donc poser problème et à
        mon avis le maestro ne devrait pas avoir le même index.
        Que se passe t-il pour le maestro si la privatisation est
        activé? Est-ce que c'est prévu?
      - Comment faire pour qu'au process n'est le même segment data
        que le maestro:
        Le process maestro n'est pas créé avec
        SIMIX_process_create, et n'est pas comptabilisé avec 
        SIMIX_process_count.
        - Passage du segment_index du maestro à -1. Apparemment cela
          ne change rien, ce qui est normal si ne maestro n'utilise
          pas de segment data virtuel...
    - [X] Vérifier comment fonctionne le mécanisme de segment
      virtuel (changement de contexte). Est-ce que le maestro
      utilise un segment virtuel? 
      Apparement aucun smpi_switch_segment_data n'est effectuée pour
      le maestro.
      MSG_process_get_data() != SIMIX_process_get_data() ?
      Privatisation pas correct?
*** DONE 2015-06-11 jeudi [1/1]
    Dans smpi_process_init on utilisait un index qui était égal au pid
    -1 (il n'y avait pas d'héritage de segment data et chacun avait le
    sien) mais j'imagine que maintenant, c'est le segment_index du
    process que l'on veut utiliser la place. De plus j'ai déplacé
    l'affectation du segment_index pour les process SMPI dans
    SIMIX_process_create. 
    
    - [X] Vérification du segment data:
      - A l'initialisation (smpi_initialize_global_memory_segments): 
        - création d'un array pour faire correspondre les différents
          process avec leur zone de mémoire virtuelle. 
        - création d'une zone en mémoire(mmap)
        - copie du segment data courant dans la zone.
      - Au switch (smpi_really_switch_data_segment):
        - Swap de segment data (mmap) 
      - A coup de gdb, tout semble correct:
        #+BEGIN_EXAMPLE
        Breakpoint 2, smpi_really_switch_data_segment (dest=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff4bcd000, file_descriptor = 3}
        4: SIMIX_process_self()->segment_index = 0
        3: SIMIX_process_self()->ppid = 0
        2: SIMIX_process_self()->pid = 1
        1: dest = 0

        Breakpoint 2, smpi_really_switch_data_segment (dest=1) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff49e1000, file_descriptor = 4}
        4: SIMIX_process_self()->segment_index = 1
        3: SIMIX_process_self()->ppid = 0
        2: SIMIX_process_self()->pid = 2
        1: dest = 1
        
        Breakpoint 2, smpi_really_switch_data_segment (dest=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff4bcd000, file_descriptor = 3}
        4: SIMIX_process_self()->segment_index = 0
        3: SIMIX_process_self()->ppid = 1
        2: SIMIX_process_self()->pid = 3
        1: dest = 0

        Breakpoint 2, smpi_really_switch_data_segment (dest=1) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_bench.c:645
        645     }
        5: smpi_privatisation_regions[dest] = {address = 0x7ffff49e1000, file_descriptor = 4}
        4: SIMIX_process_self()->segment_index = 1
        3: SIMIX_process_self()->ppid = 2
        2: SIMIX_process_self()->pid = 4
        1: dest = 1
        #+END_EXAMPLE
        
*** TODO 2015-06-12 friday [2/4]
    - [X] Update StarPU version :
      Update in branch steven-starpu-update and merge with steven-mpi.
      Host name is incorrect when calling
      MSG_process_create_with_arguments(), the function 
      starpu_mpi_world_rank() returns 91 giving ->
      StarPU-MPI91-MAIN.
      - Current vesion
	#+BEGIN_EXAMPLE
	Breakpoint 2, _starpu_simgrid_get_host_by_name (name=0x4add9d "MAIN") at ../../src/core/simgrid.c:148
	(gdb) p mpiname
	$1 = "StarPU-MPI91-MAIN\000\333\365\377\177\000\000\000\000\000\000\000\000\000"
	(gdb) p SIMIX_process_self()->name
	$2 = 0x8f8d80 "0"
	(gdb) p SIMIX_process_self()->smx_host->key
	$3 = 0x8fd8b0 "node-1.acme.org"
	(gdb) p MSG_get_host_by_name("StarPU-MPI0-MAIN")
	$4 = (struct s_xbt_dictelm *) 0x927f50
	#+END_EXAMPLE
      - Old version:
        #+BEGIN_EXAMPLE
	#0  _starpu_simgrid_get_host_by_name (name=0x49f53d "MAIN") at ../../src/core/simgrid.c:147
	(gdb) p MSG_get_host_by_name("StarPU-MPI0-MAIN")
	$5 = (struct s_xbt_dictelm *) 0x90cf50
	(gdb) p mpiname
	$6 = "StarPU-MPI0-MAIN\000\336\333\365\377\177\000\000\060\346\215\000\000\000\000"
	(gdb) p SIMIX_process_self()->name
	$7 = 0x8ddd80 "0"
	(gdb) p SIMIX_process_self()->smx_host
	$8 = (smx_host_t) 0x8d7e60
	(gdb) p SIMIX_process_self()->smx_host->key
	$9 = 0x8e28b0 "node-1.acme.org"
        #+END_EXAMPLE
      Ok bad merge from my part.
    - [X] Invalid read:
      Seems to be fixed with the update of StarPU.
      - Former version:
        - Valgrind report:
	  #+BEGIN_EXAMPLE
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
	  [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
	  [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
	  ==27987== Invalid read of size 4
	  ==27987==    at 0x582583F: smpi_process_index (smpi_global.c:238)
	  ==27987==    by 0x5822DD0: smpi_comm_rank (smpi_comm.c:167)
	  ==27987==    by 0x5835F39: PMPI_Comm_rank (smpi_pmpi.c:681)
	  ==27987==    by 0x5828190: MPI_Comm_rank (smpi_mpi.c:225)
	  ==27987==    by 0x404FC4: smpi_simulated_main_ (ring_async_implicit.c:69)
	  ==27987==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27987==  Address 0x7a55158 is 24 bytes after a block of size 64 in arena "client"
	  ==27987== 
	  ==27987== (action on error) vgdb me ... 
	  ==27987== Continuing ...
	  ==27987== Invalid read of size 4
	  ==27987==    at 0x58278BF: smpi_group_rank (smpi_group.c:106)
	  ==27987==  Address 0x8257c00 is 16 bytes before a block of size 16 alloc'd
	  ==27987==    at 0x4C2C080: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	  ==27987==    by 0x56B2EF0: xbt_malloc0 (sysdep.h:110)
	  ==27987==    by 0x56B2EF0: SIMIX_cond_init (smx_synchro.c:263)
	  ==27987==    by 0x56B7D10: SIMIX_simcall_handle (popping_generated.c:613)
	  ==27987==    by 0x56972ED: simcall_BODY_cond_init (popping_bodies.c:2028)
	  ==27987==    by 0x569C3D7: simcall_cond_init (libsmx.c:1211)
	  ==27987==    by 0x57D17DD: xbt_cond_init (xbt_sg_synchro.c:165)
	  ==27987==    by 0x57D1977: xbt_barrier_init (xbt_sg_synchro.c:207)
	  ==27987==    by 0x582651C: smpi_global_init (smpi_global.c:459)
	  ==27987==    by 0x5826EE0: smpi_main (smpi_global.c:663)
	  ==27987==    by 0x43ED24: main (simgrid.c:195)
	  ==27987== 
	  ==27987== (action on error) vgdb me ... 
	  ==27987== Continuing ...
	  Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileStart with token value 0
	  Start with token value 0
	  ==27987== Invalid read of size 1
	  ==27987==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
	  ==27987==    by 0x43F4BA: _starpu_simgrid_submit_job (simgrid.c:324)
	  ==27987==    by 0x485A66: execute_job_on_cpu (driver_cpu.c:110)
	  ==27987==    by 0x48618F: _starpu_cpu_driver_run_once (driver_cpu.c:280)
	  ==27987==    by 0x486295: _starpu_cpu_worker (driver_cpu.c:337)
	  ==27987==    by 0x4408DE: _starpu_simgrid_thread_start (simgrid.c:663)
	  ==27987==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27987==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
          #+END_EXAMPLE
        - GDB report:
	  #+BEGIN_EXAMPLE
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x000000000582583f in smpi_process_index ()
	  at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:238
	  warning: Source file is more recent than executable.
	  238
	  (gdb) cont
	  Continuing.
	  
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x00000000058278bf in smpi_group_rank (group=0x8257950, index=128)
	  at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_group.c:106
	  106       rank = group->index_to_rank_map[index];
	  (gdb) 
	  Continuing.
	  
	  Program received signal SIGTRAP, Trace/breakpoint trap.
	  0x0000000006189df0 in __strcmp_sse2_unaligned () from /usr/lib/libc.so.6
	  (gdb) cont
	  Continuing.
	  
	  Program received signal SIGSEGV, Segmentation fault.
	  0x0000000006189df0 in __strcmp_sse2_unaligned () from /usr/lib/libc.so.6
	  #+END_EXAMPLE
      - New version:
	- Valgrind report:
	  #+BEGIN_EXAMPLE
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
	  [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
	  [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
	  [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
	  [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
	  Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileStart with token value 0
	  ==27622== Invalid read of size 1
	  ==27622==    at 0x6189DF0: __strcmp_sse2_unaligned (in /usr/lib/libc-2.21.so)
	  ==27622==    by 0x449753: _starpu_simgrid_submit_job (simgrid.c:327)
	  ==27622==    by 0x495200: execute_job_on_cpu (driver_cpu.c:110)
	  ==27622==    by 0x495988: _starpu_cpu_driver_run_once (driver_cpu.c:285)
	  ==27622==    by 0x495A8E: _starpu_cpu_worker (driver_cpu.c:342)
	  ==27622==    by 0x44AB15: _starpu_simgrid_thread_start (simgrid.c:663)
	  ==27622==    by 0x569DE10: smx_ctx_raw_wrapper (smx_context_raw.c:388)
	  ==27622==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
	  #+END_EXAMPLE
      SegFault and the message "Error while opening the inputfile"
      still exitsts.
    - [ ] Segfault, strcmp_sse2_unaligned in Luka's inject/benchmark functions:
      Just desactived for now.
      - [ ] check if it is ok without SimGrid.
    - [ ] Memory error on mpi/tests/callback:
      - Valgrind report:
        #+BEGIN_EXAMPLE
	==10471== Invalid read of size 8
	==10471==    at 0x569D8AA: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54410 is 0 bytes inside a block of size 24 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471== 
	==10471== (action on error) vgdb me ... 
	==10471== Continuing ...
	==10471== Invalid free() / delete / delete[] / realloc()
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8B4: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54320 is 0 bytes inside a block of size 2 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8B4: smx_ctx_base_free (smx_context_base.c:76)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471== 
	==10471== (action on error) vgdb me ... 
	==10471== Continuing ...
	==10471== Invalid free() / delete / delete[] / realloc()
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
	==10471==  Address 0x7a54410 is 0 bytes inside a block of size 24 free'd
	==10471==    at 0x4C2B200: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
	==10471==    by 0x569D8D4: smx_ctx_base_free (smx_context_base.c:78)
	==10471==    by 0x569DDE3: smx_ctx_raw_free (smx_context_raw.c:379)
	==10471==    by 0x56ACDC4: SIMIX_context_free (smx_private.h:277)
	==10471==    by 0x56AD4F7: SIMIX_process_empty_trash (smx_process.c:119)
	==10471==    by 0x56A1BE0: SIMIX_run (smx_global.c:493)
	==10471==    by 0x5826F25: smpi_main (smpi_global.c:678)
	==10471==    by 0x44B3E6: main (simgrid.c:197)
        #+END_EXAMPLE
      - GDB report:
	#+BEGIN_EXAMPLE
	Program received signal SIGABRT, Aborted.
	0x00007ffff67a8528 in raise () from /usr/lib/libc.so.6
	(gdb) target remote | /usr/lib/valgrind/../../bin/vgdb --pid=10471
	A program is being debugged already.  Kill it? (y or n) y
	Remote debugging using | /usr/lib/valgrind/../../bin/vgdb --pid=10471
	relaying data between gdb and process 10471
	Reading symbols from /lib64/ld-linux-x86-64.so.2...(no debugging symbols found)...done.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004000d80 in _start () from /lib64/ld-linux-x86-64.so.2
	(gdb) cont
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x000000000569d8aa in smx_ctx_base_free (context=0x7a556c0)
	at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:76
	76              free(context->argv[i]);
	(gdb) cont
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004c2b200 in _vgr10050ZU_libcZdsoZa_free () from /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so
	(gdb) 
	Continuing.
	
	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x0000000004c2b200 in _vgr10050ZU_libcZdsoZa_free () from /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so
	(gdb) 
	#+END_EXAMPLE
      - Addtionnal report:
	#+BEGIN_EXAMPLE
	Starting program: /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback --cfg=surf/precision:1e-9 --cfg=network/model:SMPI --cfg=network/TCP_gamma:4194304 --cfg=smpi/privatize_global_variables:yes /home/steven/Programmation/TER/starpu-simgrid/src/starpu-mpi/StarPU-MPI-platform-dNHW3y.xml tmpEzjktR
        [Thread debugging using libthread_db enabled]
        Using host libthread_db library "/usr/lib/libthread_db.so.1".
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'surf/precision' to '1e-9'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/model' to 'SMPI'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'network/TCP_gamma' to '4194304'
        [0.000000] [xbt_cfg/INFO] Configuration change: Set 'smpi/privatize_global_variables' to 'yes'
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/filename registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/platform/topology registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/group registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/computing registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/sleeping registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/internals registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/categorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/uncategorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/process registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/msg/vm registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_link registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_power registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/buffer registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/onelink_only registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/disable_destroy registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/basic registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/display_sizes registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/smpi/format/ti_one_file registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem tracing/comment_file registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/uncategorized registered twice.
        [0.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/xbt/config.c:239: [xbt_cfg/WARNING] Config elem viva/categorized registered twice.
        [0.000000] [surf_config/INFO] Switching workstation model to compound since you changed the network and/or cpu model(s)
        [0.000000] [smpi_kernel/INFO] You did not set the power of the host running the simulation.  The timings will certainly not be accurate.  Use the option "--cfg=smpi/running_power:<flops>" to set its value.Check http://simgrid.org/simgrid/latest/doc/options.html#options_smpi_bench for more information.
        [0][starpu_mpi][callback] x=40
        [0][starpu_mpi][callback] x=41
        [0][starpu_mpi][prologue_callback] y=12
        [0][starpu_mpi][prologue_callback] y=13
        Error while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileError while opening the inputfileWarning: element with specified key does not exist ((null)|00000000)
        Element (null)|00000000 will take 0 seconds
        *** Error in `/home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback': free(): invalid size: 0x00000000008fce90 ***
        ======= Backtrace: =========
        /usr/lib/libc.so.6(+0x71bad)[0x7ffff67e6bad]
        /usr/lib/libc.so.6(+0x770fe)[0x7ffff67ec0fe]
        /usr/lib/libc.so.6(+0x778db)[0x7ffff67ec8db]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(smx_ctx_base_free+0x49)[0x7ffff73a58b5]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(+0x36dde4)[0x7ffff73a5de4]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(+0x37cdc5)[0x7ffff73b4dc5]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(SIMIX_process_empty_trash+0xa5)[0x7ffff73b54f8]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(SIMIX_run+0xc56)[0x7ffff73a9be1]
        /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12(smpi_main+0x1bb)[0x7ffff752ef26]
        /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback(main+0xc8)[0x44b3e7]
        /usr/lib/libc.so.6(__libc_start_main+0xf0)[0x7ffff6795790]
        /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback[0x404d49]
        ======= Memory map: ========
        00400000-004e2000 r-xp 00000000 08:34 9181435                            /home/steven/Programmation/TER/starpu-simgrid/src/StarPU/StarPU-SMPI/mpi/tests/callback
        006e2000-008d7000 rw-s 00000000 00:12 404137                             /dev/shm/my-buffer-iblGBH (deleted)
        008d7000-00bab000 rw-p 00000000 00:00 0                                  [heap]
        7ffff41cc000-7ffff41cd000 rw-p 00000000 00:00 0 
        7ffff41cd000-7ffff41ce000 ---p 00000000 00:00 0 
        7ffff41ce000-7ffff49cf000 rw-p 00000000 00:00 0 
        7ffff49cf000-7ffff4bc4000 rw-s 00000000 00:12 404137                     /dev/shm/my-buffer-iblGBH (deleted)
        7ffff4bc4000-7ffff4db9000 rw-s 00000000 00:12 404136                     /dev/shm/my-buffer-QSfIbS (deleted)
        7ffff5dbf000-7ffff5dc5000 r-xp 00000000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5dc5000-7ffff5fc4000 ---p 00006000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc4000-7ffff5fc5000 r--p 00005000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc5000-7ffff5fc6000 rw-p 00006000 08:33 5024899                    /usr/lib/libcdt.so.5.0.0
        7ffff5fc6000-7ffff5fdc000 r-xp 00000000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff5fdc000-7ffff61db000 ---p 00016000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff61db000-7ffff61dc000 rw-p 00015000 08:33 4987244                    /usr/lib/libgcc_s.so.1
        7ffff61dc000-7ffff61f2000 r-xp 00000000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff61f2000-7ffff63f1000 ---p 00016000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f1000-7ffff63f2000 r--p 00015000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f2000-7ffff63f3000 rw-p 00016000 08:33 5024900                    /usr/lib/libcgraph.so.6.0.0
        7ffff63f3000-7ffff6565000 r-xp 00000000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6565000-7ffff6765000 ---p 00172000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6765000-7ffff676f000 r--p 00172000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff676f000-7ffff6771000 rw-p 0017c000 08:33 5018844                    /usr/lib/libstdc++.so.6.0.21
        7ffff6771000-7ffff6775000 rw-p 00000000 00:00 0 
        7ffff6775000-7ffff690e000 r-xp 00000000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff690e000-7ffff6b0d000 ---p 00199000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b0d000-7ffff6b11000 r--p 00198000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b11000-7ffff6b13000 rw-p 0019c000 08:33 4983932                    /usr/lib/libc-2.21.so
        7ffff6b13000-7ffff6b17000 rw-p 00000000 00:00 0 
        7ffff6b17000-7ffff6b2f000 r-xp 00000000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6b2f000-7ffff6d2e000 ---p 00018000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d2e000-7ffff6d2f000 r--p 00017000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d2f000-7ffff6d30000 rw-p 00018000 08:33 4983971                    /usr/lib/libpthread-2.21.so
        7ffff6d30000-7ffff6d34000 rw-p 00000000 00:00 0 
        7ffff6d34000-7ffff6e37000 r-xp 00000000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff6e37000-7ffff7036000 ---p 00103000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7036000-7ffff7037000 r--p 00102000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7037000-7ffff7038000 rw-p 00103000 08:33 4984015                    /usr/lib/libm-2.21.so
        7ffff7038000-7ffff768d000 r-xp 00000000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff768d000-7ffff788c000 ---p 00655000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff788c000-7ffff78d8000 rw-p 00654000 08:34 9313161                    /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/SIMGRID/lib/libsimgrid.so.3.12
        7ffff78d8000-7ffff78e1000 rw-p 00000000 00:00 0 
        7ffff78e1000-7ffff78e8000 r-xp 00000000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff78e8000-7ffff7ae7000 ---p 00007000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae7000-7ffff7ae8000 r--p 00006000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae8000-7ffff7ae9000 rw-p 00007000 08:33 4983972                    /usr/lib/librt-2.21.so
        7ffff7ae9000-7ffff7bd9000 r-xp 00000000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7bd9000-7ffff7dd9000 ---p 000f0000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7dd9000-7ffff7dda000 r--p 000f0000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7dda000-7ffff7ddb000 rw-p 000f1000 08:33 5014440                    /usr/lib/libglpk.so.36.1.2
        7ffff7ddb000-7ffff7dfd000 r-xp 00000000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7fac000-7ffff7fb3000 rw-p 00000000 00:00 0 
        7ffff7ff5000-7ffff7ff8000 rw-p 00000000 00:00 0 
        7ffff7ff8000-7ffff7ffa000 r--p 00000000 00:00 0                          [vvar]
        7ffff7ffa000-7ffff7ffc000 r-xp 00000000 00:00 0                          [vdso]
        7ffff7ffc000-7ffff7ffd000 r--p 00021000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7ffd000-7ffff7ffe000 rw-p 00022000 08:33 4984011                    /usr/lib/ld-2.21.so
        7ffff7ffe000-7ffff7fff000 rw-p 00000000 00:00 0 
        7ffffffde000-7ffffffff000 rw-p 00000000 00:00 0                          [stack]
        ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
	#+END_EXAMPLE
      It seems that SIMIX is trying to free a context that has already
      been free'd. But When I check on gdb if that context has been
      free'd before I found nothing...
      #+BEGIN_EXAMPLE
      Program received signal SIGABRT, Aborted.
      0x00007ffff67a8528 in raise () from /usr/lib/libc.so.6
      (gdb) info breakpoints 
      Num     Type           Disp Enb Address            What
      1       breakpoint     keep y   0x00007ffff73a5878 in smx_ctx_base_free 
      at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
      stop only if context == 0x8fe090
      breakpoint already hit 1 time
      #+END_EXAMPLE
      It seems that this happens at the end in starpu_shutdown.
      Maybe bad sharing done at the begining, context?
      #+BEGIN_EXAMPLE
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process main (0x7a55480), waiting synchro (nil)
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x7a55480 should not be run anymore
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:854: [simix_process/DEBUG] Yield process 'main'
      [5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process main (0x7a55480), waiting synchro (nil)
      [5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x7a55480 should not be run anymore
      [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:860: [simix_process/DEBUG] Control returned to me: 'main'
      #+END_EXAMPLE
      Same process cleaned twice.
      - [ ] check SIMIX_process_cleanup:
        - It seems to be called twice each time.
          #+BEGIN_EXAMPLE
          Breakpoint 1, SIMIX_process_cleanup (process=0x7173770)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) display process->pid
          4: process->pid = 1
          (gdb) c
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7173770)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7a54830)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 2
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x7a54830)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 2
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0xb2501b0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 8
          (gdb) 
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0xb2501b0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 8
          #+END_EXAMPLE
        - At two different moment:
          #+BEGIN_EXAMPLE
          Breakpoint 1, SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73a5912 in smx_ctx_base_stop (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:89
          #2  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #3  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcdb0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #4  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          
          Breakpoint 1, SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52        XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          4: process->pid = 1
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc20)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73bf466 in SIMIX_simcall_handle (simcall=0x8fccb8, value=0)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:398
          #2  0x00007ffff73a9179 in SIMIX_run ()
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
          #3  0x00007ffff752ef43 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, 
          argc=3, argv=0x7fffffffda48)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
          #4  0x000000000044b3e7 in main (argc=7, argv=0x7fffffffda48)
          at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
        - They are both called in smx_ctx_base_stop:
          #+BEGIN_EXAMPLE
          Breakpoint 2, SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52	  XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73a5912 in smx_ctx_base_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:89
          #2  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #3  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #4  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:53: [simix_process/DEBUG] Cleanup process 0 (0x8fcc50), waiting synchro (nil)
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x8fcc50 should not be run anymore
          
          Breakpoint 1, simcall_BODY_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:1022
          1022	    smx_process_t self = SIMIX_process_self();
          (gdb) bt
          #0  simcall_BODY_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_bodies.c:1022
          #1  0x00007ffff73a2ad7 in simcall_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/libsmx.c:617
          #2  0x00007ffff73a5942 in smx_ctx_base_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:92
          #3  0x00007ffff73a5e38 in smx_ctx_raw_stop (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:402
          #4  0x00007ffff73a5e1d in smx_ctx_raw_wrapper (context=0x8fcde0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_raw.c:390
          #5  0x0000000000000000 in ?? ()
          (gdb) c
          Continuing.
          [node-1.acme.org:0:(1) 0.000013] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:854: [simix_process/DEBUG] Yield process '0'
          
          Breakpoint 2, SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          52	  XBT_DEBUG("Cleanup process %s (%p), waiting synchro %p",
          (gdb) bt
          #0  SIMIX_process_cleanup (process=0x8fcc50) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:52
          #1  0x00007ffff73bf466 in SIMIX_simcall_handle (simcall=0x8fcce8, value=0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/popping_generated.c:398
          #2  0x00007ffff73a9179 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:424
          #3  0x00007ffff752ef43 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc68)
          at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
          #4  0x000000000044b3e7 in main (argc=8, argv=0x7fffffffdc68) at ../../src/core/simgrid.c:197
          #+END_EXAMPLE
          #+begin_src C
            void smx_ctx_base_stop(smx_context_t context)
            {
              if (context->cleanup_func)
          -->   context->cleanup_func(context->process);
              context->process->suspended = 0;
              context->iwannadie = 0;
          --> simcall_process_cleanup(context->process);
              context->iwannadie = 1;
            }  
          #+end_src
          I tried to make the call only once but the original problem is
          still there, it seems to be not related.  
        - Context free'd two time:
          - First here:
            #+BEGIN_EXAMPLE
            [0.000020] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:117: [simix_process/DEBUG] Getting rid of 0x8fd410
            
        --> Breakpoint 5, smx_ctx_base_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            71	  if (context) {
            1: context->argv = (char **) 0x8fd210
            (gdb) bt
            #0  smx_ctx_base_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            #1  0x00007ffff74a1d75 in smx_ctx_thread_free (pcontext=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:131
            #2  0x00007ffff73b4dc7 in SIMIX_context_free (context=0x8fd5a0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:277
            #3  0x00007ffff73b54fa in SIMIX_process_empty_trash () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:119
            #4  0x00007ffff73a9be3 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:493
            #5  0x00007ffff752ef45 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
            at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
            #6  0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
            (gdb) 
            #+END_EXAMPLE
          - And then:
            #+BEGIN_EXAMPLE
            [StarPU-MPI1-MAIN:main:(4) 5.000000] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:99: [simix_process/DEBUG] 0x8f7930 should not be run anymore
            [5.000010] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:820: [simix_process/DEBUG] Destroy synchro 0xa426d0
            [5.000010] /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:117: [simix_process/DEBUG] Getting rid of 0x8f7930
            [Thread 0x7fffeffff700 (LWP 27896) exited]
            
        --> Breakpoint 5, smx_ctx_base_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            71	  if (context) {
            1: context->argv = (char **) 0x8fd210
            (gdb) bt
            #0  smx_ctx_base_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_base.c:71
            #1  0x00007ffff74a1d75 in smx_ctx_thread_free (pcontext=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_context_thread.c:131
            #2  0x00007ffff73b4dc7 in SIMIX_context_free (context=0x8f7ac0) at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_private.h:277
            #3  0x00007ffff73b54fa in SIMIX_process_empty_trash () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_process.c:119
            #4  0x00007ffff73a9be3 in SIMIX_run () at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/simix/smx_global.c:493
            #5  0x00007ffff752ef45 in smpi_main (realmain=0x40bfd5 <_starpu_mpi_simgrid_init>, argc=3, argv=0x7fffffffdc38)
            at /home/steven/Programmation/TER/starpu-simgrid/src/simgrid/src/smpi/smpi_global.c:688
            #6  0x000000000044b3e7 in main (argc=9, argv=0x7fffffffdc38) at ../../src/core/simgrid.c:197
            #+END_EXAMPLE
            The two context reference the same context
*** TODO 2015-06-15 monday [0/1]
    - [ ] sometime in StarPU MPI_Init can be called twice (in the
      application and in an initialization function of StarPU). So the
      second needs to be ignored. 
